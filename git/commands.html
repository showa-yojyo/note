
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>コマンド &#8212; 読書ノート v1.5dev</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/prefab.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/mathjax-v3.js"></script>
    
    <link rel="next" title="エイリアス" href="aliases.html" />
    <link rel="prev" title="用語集" href="terminology.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="aliases.html" title="エイリアス"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="terminology.html" title="用語集"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Git 利用ノート</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">コマンド</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1><a class="toc-backref" href="#id14">コマンド</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>本節では <a class="reference external" href="https://git-scm.com/">Git</a> のコマンドを、よくあるチートシートの形式で記していく。私にとって利用価値が高いコマンドの用例を優先して掲載する。
Git はコマンドもオプションも数が多くてとにかく憶えにくい。</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id14">コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id15">記法規約</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id16">共通オプション</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id17">高水準コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id18">主力コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#add" id="id19">呪文表 add</a></p></li>
<li><p><a class="reference internal" href="#archive" id="id20">呪文表 archive</a></p></li>
<li><p><a class="reference internal" href="#bisect" id="id21">呪文表 bisect</a></p></li>
<li><p><a class="reference internal" href="#branch" id="id22">呪文表 branch</a></p></li>
<li><p><a class="reference internal" href="#checkout" id="id23">呪文表 checkout</a></p></li>
<li><p><a class="reference internal" href="#clean" id="id24">呪文表 clean</a></p></li>
<li><p><a class="reference internal" href="#clone" id="id25">呪文表 clone</a></p></li>
<li><p><a class="reference internal" href="#commit" id="id26">呪文表 commit</a></p></li>
<li><p><a class="reference internal" href="#diff" id="id27">呪文表 diff</a></p></li>
<li><p><a class="reference internal" href="#fetch" id="id28">呪文表 fetch</a></p></li>
<li><p><a class="reference internal" href="#format-patch" id="id29">呪文表 format-patch</a></p></li>
<li><p><a class="reference internal" href="#gc" id="id30">呪文表 gc</a></p></li>
<li><p><a class="reference internal" href="#grep" id="id31">呪文表 grep</a></p></li>
<li><p><a class="reference internal" href="#init" id="id32">呪文表 init</a></p></li>
<li><p><a class="reference internal" href="#log" id="id33">呪文表 log</a></p></li>
<li><p><a class="reference internal" href="#merge" id="id34">呪文表 merge</a></p></li>
<li><p><a class="reference internal" href="#mv" id="id35">呪文表 mv</a></p></li>
<li><p><a class="reference internal" href="#pull" id="id36">呪文表 pull</a></p></li>
<li><p><a class="reference internal" href="#push" id="id37">呪文表 push</a></p></li>
<li><p><a class="reference internal" href="#rebase" id="id38">呪文表 rebase</a></p></li>
<li><p><a class="reference internal" href="#reset" id="id39">呪文表 reset</a></p></li>
<li><p><a class="reference internal" href="#revert" id="id40">呪文表 revert</a></p></li>
<li><p><a class="reference internal" href="#rm" id="id41">呪文表 rm</a></p></li>
<li><p><a class="reference internal" href="#show" id="id42">呪文表 show</a></p></li>
<li><p><a class="reference internal" href="#stash" id="id43">呪文表 stash</a></p></li>
<li><p><a class="reference internal" href="#status" id="id44">呪文表 status</a></p></li>
<li><p><a class="reference internal" href="#submodule" id="id45">呪文表 submodule</a></p></li>
<li><p><a class="reference internal" href="#tag" id="id46">呪文表 tag</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id7" id="id47">補助コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#config" id="id48">呪文表 config</a></p></li>
<li><p><a class="reference internal" href="#reflog" id="id49">呪文表 reflog</a></p></li>
<li><p><a class="reference internal" href="#remote" id="id50">呪文表 remote</a></p></li>
<li><p><a class="reference internal" href="#blame" id="id51">呪文表 blame</a></p></li>
<li><p><a class="reference internal" href="#help" id="id52">呪文表 help</a></p></li>
<li><p><a class="reference internal" href="#whatchanged" id="id53">呪文表 whatchanged</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8" id="id54">外部連携コマンド</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9" id="id55">低水準コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id56">操作コマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#hash-object" id="id57">呪文表 hash-object</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id11" id="id58">問い合わせコマンド</a></p>
<ul>
<li><p><a class="reference internal" href="#ls-files" id="id59">呪文表 ls-files</a></p></li>
<li><p><a class="reference internal" href="#ls-remote" id="id60">呪文表 ls-remote</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id12" id="id61">同期コマンド</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id62">内部コマンド</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id15">記法規約</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="terminology.html"><span class="doc">用語集</span></a> を参照。</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id16">共通オプション</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>ここでいう共通オプションとは、次のコマンド呼び出しの形式における
<code class="docutils literal notranslate"><span class="pre">[common-options]</span></code> の部分に来るコマンドラインオプションのこととする。自分が使う可能性の高いものを記す。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git <span class="o">[</span>common-options<span class="o">]</span> &lt;command&gt; <span class="o">[</span>command-options<span class="o">]</span> &lt;args&gt;
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">--version</span></code></dt><dd><p>Git 自身のバージョンを表示する。ほとんど全ての引数とオプションを無視するようだ。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--help</span></code></dt><dd><p>引数がない場合は、共通オプション一覧、いくつかの常用コマンド、特殊なヘルプの表示方法を出力する。</p>
<p>引数がある場合は、それに関するヘルプをおそらくブラウザーで表示する。この場合は <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">help</span> <span class="pre">arg</span></code> と同等の動きをする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">&lt;path&gt;</span></code></dt><dd><p>作業ディレクトリーがまるで <code class="docutils literal notranslate"><span class="pre">&lt;path&gt;</span></code> であるかのように Git を振る舞わせるオプション。</p>
<p>リポジトリーを操作するスクリプトを書くときに、いちいち <code class="docutils literal notranslate"><span class="pre">cd</span></code> 系コマンドを実行しなくて済む。このオプションは明らかに有用なので活用したい。</p>
<ul class="simple">
<li><p>オプション <code class="docutils literal notranslate"><span class="pre">--git-dir</span></code> や <code class="docutils literal notranslate"><span class="pre">--work-tree</span></code> と組み合わせるときに、これらが相対パスの形でディレクトリーを指定する場合には <code class="docutils literal notranslate"><span class="pre">-C</span></code> からの相対パスとしてみなされる点に注意。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--no-pager</span></code></dt><dd><p>Git がコンソールに長い出力をするときに、ページャーを使わせないようにするオプション。利用例としては、まとまった量のコミットログを出力するようなスクリプトを作成するときに適用を考える。</p>
<ul class="simple">
<li><p>ページャーは定義されていれば環境変数 <code class="docutils literal notranslate"><span class="pre">PAGER</span></code> が、そうでなければ <code class="docutils literal notranslate"><span class="pre">less</span></code> が使われる。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--git-dir=&lt;path&gt;</span></code></dt><dd><p>リポジトリーの管理部分本体、つまりディレクトリー <code class="docutils literal notranslate"><span class="pre">.git</span></code> のあるパスを指定する。尋常でない場所に <code class="docutils literal notranslate"><span class="pre">.git</span></code> があるような場合に用いるのだろう。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--work-tree=&lt;path&gt;</span></code></dt><dd><p>作業コピーのパスを指定する。リポジトリーに対して普通でない場所に作業コピーを持つときに用いるのだろう。</p>
</dd>
</dl>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id17">高水準コマンド</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>ヘルプドキュメントによる用途別分類をここで利用させてもらう。</p>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id18">主力コマンド</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Git 利用者の必修コマンドのようなものか。ヘルプドキュメントによる一覧を見てみると、私が利用したことがないコマンドが多数ある。</p>
<p>まずはメインとされているコマンド群の名称を記す。</p>
<p>add,
am,
archive,
bisect,
branch,
bundle,
checkout,
cherry-pick,
citool,
clean,
clone,
commit,
describe,
diff,
fetch,
format-patch,
gc,
grep,
gui,
init,
log,
merge,
mv,
notes,
pull,
push,
rebase,
reset,
revert,
rm,
shortlog,
show,
stash,
status,
submodule,
tag,
worktree.</p>
<p>そして私が常用するものと利用したいもののコマンドライン群、「呪文表」を次に示す。よくあるチートシートである。</p>
<p>以下、コマンドライン内の <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">[common-options]</span></code> の部分は省略する。あと、Git 特有の符牒ではなく、実際にありがちな名前を例に使うかもしれない。例えば <code class="docutils literal notranslate"><span class="pre">&lt;tree-ish&gt;</span></code> ではなく <code class="docutils literal notranslate"><span class="pre">master</span></code> とか <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> とかを敢えて使う。</p>
<div class="section" id="add">
<h4><a class="toc-backref" href="#id19">呪文表 add</a><a class="headerlink" href="#add" title="Permalink to this headline">¶</a></h4>
<p>コマンド add はインデックスにファイルおよびその変更を追加するのに用いる。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">[&lt;pathspec&gt;...]</span></code></dt><dd><p>指定したファイルだけをインデックスに追加する。</p>
<p>引数なしの場合に何が起こるのかは知らない。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">.</span></code></dt><dd><p>カレントディレクトリー以下の対象ファイルをインデックスに追加する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">-p</span> <span class="pre">&lt;pathspec&gt;</span></code></dt><dd><p>指定したファイルの内部から追加部分を対話的に指示し、インデックスに追加する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">-i</span></code></dt><dd><p>コンソールで対話的にファイルをインデックス追加処理する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">-u</span> <span class="pre">[&lt;pathspec&gt;...]</span></code></dt><dd><p>作業ディレクトリー配下にあるファイルのうち、既にバージョン管理中のもののみをコマンドの対象とする。</p>
<ul class="simple">
<li><p>新規ファイル→インデックスに影響しない</p></li>
<li><p>変更ファイル→インデックスに更新対象として追加</p></li>
<li><p>削除ファイル→インデックスに削除対象として追加</p></li>
</ul>
<p>デフォルトの <code class="docutils literal notranslate"><span class="pre">-a</span></code> オプションとの違いに注意。</p>
</dd>
</dl>
</div>
<div class="section" id="archive">
<h4><a class="toc-backref" href="#id20">呪文表 archive</a><a class="headerlink" href="#archive" title="Permalink to this headline">¶</a></h4>
<p>コマンド archive は作業コピーのファイル全部から圧縮ファイルを作成するのに利用できる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">archive</span> <span class="pre">--format=tar.gz</span> <span class="pre">--prefix=prjname/</span> <span class="pre">master</span> <span class="pre">&gt;</span> <span class="pre">prjname-master.tar.gz</span></code></dt><dd><p>ツリー <code class="docutils literal notranslate"><span class="pre">master</span></code> から tar.gz 形式の圧縮ファイルを作る。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">archive</span> <span class="pre">master</span> <span class="pre">|</span> <span class="pre">bzip2</span> <span class="pre">&gt;</span> <span class="pre">source-tree.tar.bz2</span></code></dt><dd><p>ツリー <code class="docutils literal notranslate"><span class="pre">master</span></code> から tar.bz2 形式の圧縮ファイルを作る。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">archive</span> <span class="pre">--format=zip</span> <span class="pre">--prefix=projname/</span> <span class="pre">master</span> <span class="pre">&gt;</span> <span class="pre">projname.zip</span></code></dt><dd><p>ツリー <code class="docutils literal notranslate"><span class="pre">master</span></code> から zip 形式の圧縮ファイルを作る。</p>
</dd>
</dl>
</div>
<div class="section" id="bisect">
<h4><a class="toc-backref" href="#id21">呪文表 bisect</a><a class="headerlink" href="#bisect" title="Permalink to this headline">¶</a></h4>
<p>コマンド bisect は異色のコマンドで、コミットを二分探索法によって検索するものだ。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">help</span></code></dt><dd><p>当コマンドの利用法の概要をコンソールに出力する。詳細を見たい場合はやはり <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">bisect</span></code> である。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">start</span> <span class="pre">HEAD</span> <span class="pre">v1.2</span></code></dt><dd><p>二分探索セッションを開始する。これは <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> で何かマズいことになっているが、確か <code class="docutils literal notranslate"><span class="pre">v1.2</span></code> 時点では正常だった、の例。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">good</span> <span class="pre">[&lt;rev&gt;]</span></code></dt><dd><p>このリビジョンは正常だという印をセッション情報に付ける。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">bad</span> <span class="pre">[&lt;rev&gt;]</span></code></dt><dd><p>このリビジョンは何かマズイという印をセッション情報に付ける。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">visualize</span></code></dt><dd><p>現時点で残っている疑わしいものを gitk で表示する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">view</span></code> とタイプしても同じ。短いほうが良い。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">reset</span></code></dt><dd><p>セッションを終了して、作業コピーの状態を <code class="docutils literal notranslate"><span class="pre">bisect</span> <span class="pre">start</span></code> 直前のものに戻す。</p>
</dd>
</dl>
</div>
<div class="section" id="branch">
<h4><a class="toc-backref" href="#id22">呪文表 branch</a><a class="headerlink" href="#branch" title="Permalink to this headline">¶</a></h4>
<p>コマンド branch はブランチを管理するのに用いる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">&lt;new&gt;</span> <span class="pre">[&lt;existing&gt;]</span></code></dt><dd><p>新規ブランチ <code class="docutils literal notranslate"><span class="pre">new</span></code> を既存ブランチ <code class="docutils literal notranslate"><span class="pre">existing</span></code> から作成する。既存ブランチの指定を省略すると、カレントブランチから作成する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-r</span></code></dt><dd><p>リモート追跡ブランチだけをリストする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-a</span></code></dt><dd><p>ローカルとリモート追跡の両方のブランチをリストする。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> でより詳しく。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">--merged</span></code></dt><dd><p>Show all completely merged branches with current branch
カレントブランチに対して完全にマージ済みのブランチ全てをリストする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">--track</span> <span class="pre">&lt;branchname&gt;</span> <span class="pre">[&lt;start-point&gt;]</span></code></dt><dd><p>リモート追跡ブランチ <code class="docutils literal notranslate"><span class="pre">branchname</span></code> を作成する。意味としてはリモートにある <code class="docutils literal notranslate"><span class="pre">start-point</span></code> からブランチするイメージか。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">--set-upstream</span> <span class="pre">&lt;branch&gt;</span> <span class="pre">&lt;start-point&gt;</span></code></dt><dd><p>既存のブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> を <code class="docutils literal notranslate"><span class="pre">start-point</span></code> のリモート追跡ブランチにする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-m</span> <span class="pre">[oldbranch]</span> <span class="pre">&lt;newbranch&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">oldbranch</span></code> の名前を <code class="docutils literal notranslate"><span class="pre">newbranch</span></code> に変更する。
<code class="docutils literal notranslate"><span class="pre">oldbranch</span></code> の指定を省略すると、カレントブランチを改名する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-M</span></code> is <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">--force</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-d</span> <span class="pre">&lt;branchname&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branchname</span></code> を削除する。ただし、別のブランチにマージ済みであると失敗してくれる。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-D</span></code> is <code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">--force</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">branch</span> <span class="pre">-dr</span> <span class="pre">&lt;remote/branchname&gt;</span></code></dt><dd><p>リモート追跡ブランチを削除する。マージ済みが条件。</p>
<ul class="simple">
<li><p>影響を受けるのはローカルの状態だけ。</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="checkout">
<h4><a class="toc-backref" href="#id23">呪文表 checkout</a><a class="headerlink" href="#checkout" title="Permalink to this headline">¶</a></h4>
<p>コマンド checkout にはブランチを切り替える用法と、作業コピーのファイルを復元する用法の両方があることに注意したい。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>カレントブランチを既存のブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> に切り替える。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;branch&gt;</span> <span class="pre">[&lt;start-point&gt;]</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> を作成して、同時にカレントブランチを切り替える。明示的に <code class="docutils literal notranslate"><span class="pre">start-point</span></code> が指定されていれば、そこからブランチする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;branch&gt;</span> <span class="pre">&lt;remote&gt;/&lt;branch&gt;</span></code></dt><dd><p>リモートブランチをローカルブランチとして作成する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">--track</span> <span class="pre">&lt;remote&gt;/&lt;branch&gt;</span></code></dt><dd><p>リモートブランチからリモート追跡ブランチを作成する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">HEAD</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> のローカルでの変更を破棄する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">--</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> のローカルでの変更を破棄する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">.</span></code></dt><dd><p>カレントディレクトリー以下のローカルでの変更をすべて破棄する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">checkout</span> <span class="pre">&lt;branch&gt;</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>別のブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> にあるファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> をカレントブランチへ持ってくる。</p>
</dd>
</dl>
</div>
<div class="section" id="clean">
<h4><a class="toc-backref" href="#id24">呪文表 clean</a><a class="headerlink" href="#clean" title="Permalink to this headline">¶</a></h4>
<p>コマンド clean の役割は、バージョン管理されていないファイルを消去することである。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">clean</span> <span class="pre">-n</span></code></dt><dd><p>仮に <code class="docutils literal notranslate"><span class="pre">clean</span></code> を実行すると、何が起こるのかをプレビューする。</p>
<p>オプション <code class="docutils literal notranslate"><span class="pre">-n</span></code> は他のコマンドでも dry run の意味でサポートされている場合がある。まとめたほうがよいかも。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">clean</span> <span class="pre">-f</span></code></dt><dd><p>Git の構成に依らず、とにかく削除する。</p>
</dd>
</dl>
</div>
<div class="section" id="clone">
<h4><a class="toc-backref" href="#id25">呪文表 clone</a><a class="headerlink" href="#clone" title="Permalink to this headline">¶</a></h4>
<p>コマンド clone はリポジトリーを新規ディレクトリーに複製する。これにより作業コピーができる。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">clone</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">[&lt;directory&gt;]</span></code></dt><dd><p>リポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> の作業コピーを  <code class="docutils literal notranslate"><span class="pre">directory</span></code> に作成する。</p>
<p><code class="docutils literal notranslate"><span class="pre">repository</span></code> には普通なんちゃら <code class="docutils literal notranslate"><span class="pre">.git</span></code> のような文字列が来る。たまにローカルにある作業コピーのパスを指示するような場合もある。</p>
</dd>
</dl>
</div>
<div class="section" id="commit">
<h4><a class="toc-backref" href="#id26">呪文表 commit</a><a class="headerlink" href="#commit" title="Permalink to this headline">¶</a></h4>
<p>コマンド commit はリポジトリーの変更を確定するために用いる。そしてコミットを修正することもできる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">-a</span></code></dt><dd><p>自動的に変更ファイルと削除ファイルをステージに置いてコミットする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">-m</span> <span class="pre">&lt;msg&gt;</span></code></dt><dd><p>コミットログメッセージを <code class="docutils literal notranslate"><span class="pre">msg</span></code> としてコミットする。</p>
<ul class="simple">
<li><p>もっとも普通のコミットコマンドの形式。</p></li>
<li><p>ログメッセージは普通は引用符で囲む。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">-v</span></code></dt><dd><p>リポジトリーの変更情報を表示しながらコミットする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">--amend</span></code></dt><dd><p>直前のコミットを修正する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">--amend</span> <span class="pre">&lt;file&gt;</span> <span class="pre">...</span></code></dt><dd><p>直前のコミットに変更ファイルを追加してコミットをやり直す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">commit</span> <span class="pre">--amend</span> <span class="pre">--reset-author</span> <span class="pre">[--no-edit]</span></code></dt><dd><p>直前のコミットの作業者情報を上書きする。</p>
<ul class="simple">
<li><p>タイムスタンプを更新することに注意。</p></li>
<li><p>オプション <code class="docutils literal notranslate"><span class="pre">--no-edit</span></code> を併用すれば、ログメッセージを再利用できる。</p></li>
</ul>
</dd>
</dl>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>タイムスタンプが 2 種類あることについて言及する。</p></li>
<li><p>タイムスタンプを任意のタイミングに指定する方法について言及する。</p></li>
</ul>
</div>
</div>
<div class="section" id="diff">
<h4><a class="toc-backref" href="#id27">呪文表 diff</a><a class="headerlink" href="#diff" title="Permalink to this headline">¶</a></h4>
<p>コマンド diff は相異なるコミット間の差分や、特定コミットと作業コピーとの差分を表示する。ファイル単位で差分を確認することができるが、ここに挙げる例は対象ファイル全部になる。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">HEAD</span></code></dt><dd><p>指定ファイル群について、作業コピーとレポジトリーの最新リビジョン <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> との差分を表示する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">--cached</span></code></dt><dd><p>作業コピーとステージとの差分を表示する。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">--staged</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">--no-index</span> <span class="pre">&lt;file1&gt;</span> <span class="pre">&lt;file2&gt;</span></code></dt><dd><p>ファイルの差分をバージョン管理の文脈と無関係に表示する。単に GNU diff を利用するのが素直だ。</p>
</dd>
</dl>
</div>
<div class="section" id="fetch">
<h4><a class="toc-backref" href="#id28">呪文表 fetch</a><a class="headerlink" href="#fetch" title="Permalink to this headline">¶</a></h4>
<p>コマンド fetch はよそにあるリポジトリーからデータをダウンロードする。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fetch</span> <span class="pre">[bookmark]</span></code></dt><dd><p>リポジトリブックマークからすべての履歴をダウンロードします。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fetch</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">[&lt;branch&gt;]</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> からブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> をダウンロードする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fetch</span> <span class="pre">&lt;remote&gt;</span> <span class="pre">-p</span></code></dt><dd><p>リモート remote に関してデータをダウンロードし、削除済みリモートブランチがあれば、それに対応するリモート追跡ブランチをローカルにおいて削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fetch</span> <span class="pre">--all</span> <span class="pre">--prune</span></code></dt><dd><p>すべてのリモートリポジトリーからダウンロードする。なおかつ、削除済みリモートブランチがあれば、それに対応するリモート追跡ブランチをローカルにおいて削除する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--prune</span></code> is <code class="docutils literal notranslate"><span class="pre">-p</span></code>.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="format-patch">
<h4><a class="toc-backref" href="#id29">呪文表 format-patch</a><a class="headerlink" href="#format-patch" title="Permalink to this headline">¶</a></h4>
<p>パッチを作成するコマンド。滅多に使わない。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">format-patch</span> <span class="pre">HEAD^</span></code></dt><dd><p>最新のコミットのパッチを生成する。これは別のクローンまたはブランチにコマンド am が適用する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">format-patch</span> <span class="pre">&lt;rev&gt;^..&lt;rev&gt;</span></code></dt><dd><p>単一リビジョンにおけるパッチを作成する。</p>
</dd>
</dl>
</div>
<div class="section" id="gc">
<h4><a class="toc-backref" href="#id30">呪文表 gc</a><a class="headerlink" href="#gc" title="Permalink to this headline">¶</a></h4>
<p>コマンド gc は不要ファイルを削除してローカルリポジトリーの最適化をする。気分転換の意味で実行することが多い。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">gc</span> <span class="pre">[--prune[=&lt;date&gt;]]</span></code></dt><dd><p>リポジトリーのゴミ掃除を行う。</p>
<p>オプション <code class="docutils literal notranslate"><span class="pre">--prune</span></code> は未参照オブジェクトを削除するかどうかのフラグだ。これは既定で on である。</p>
</dd>
</dl>
</div>
<div class="section" id="grep">
<h4><a class="toc-backref" href="#id31">呪文表 grep</a><a class="headerlink" href="#grep" title="Permalink to this headline">¶</a></h4>
<p>オプションにもよるが、リポジトリー管理対象ファイル限定版 grep と表現できる。それ以外は GNU grep と同じように利用できる。</p>
<p>と言うわけで、ここにはコマンドラインを記さない。</p>
</div>
<div class="section" id="init">
<h4><a class="toc-backref" href="#id32">呪文表 init</a><a class="headerlink" href="#init" title="Permalink to this headline">¶</a></h4>
<p>コマンド init はリポジトリーを（再）作成する。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">init</span> <span class="pre">[directory]</span></code></dt><dd><p>ディレクトリー <code class="docutils literal notranslate"><span class="pre">directory</span></code> を Git リポジトリーとして初期化する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">init</span> <span class="pre">--bare</span> <span class="pre">[directory]</span></code></dt><dd><p>ディレクトリー <code class="docutils literal notranslate"><span class="pre">directory</span></code> に生リポジトリーを作成する。理解としては <code class="docutils literal notranslate"><span class="pre">.git</span></code> ディレクトリーの初期状態を生成するものだ。</p>
</dd>
</dl>
</div>
<div class="section" id="log">
<h4><a class="toc-backref" href="#id33">呪文表 log</a><a class="headerlink" href="#log" title="Permalink to this headline">¶</a></h4>
<p>コマンド log はコミットログを出力する。構文はたいへん単純だが、オプションが多いので実は憶えにくい。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">log</span></code></dt><dd><p>引数オプション一切なしでは全ログを出力することになる。新しい順。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--decorate</span></code></dt><dd><p>関係するブランチとタグがあれば、そのコミットのログにはそれらの名前を一緒に出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">&lt;ref&gt;..&lt;ref&gt;</span></code></dt><dd><p>指定リビジョン範囲におけるコミットに限定してログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">[--]</span> <span class="pre">&lt;path&gt;...</span></code></dt><dd><p>指定したファイルやディレクトリーに関係するコミットに限定してログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">-&lt;number&gt;</span></code></dt><dd><p>指定したコミット数だけログを出力する。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">-n</span> <span class="pre">&lt;number&gt;</span></code> および <code class="docutils literal notranslate"><span class="pre">--max-count</span> <span class="pre">&lt;number&gt;</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--after=&quot;MMM</span> <span class="pre">DD</span> <span class="pre">YYYY&quot;</span></code></dt><dd><p>指定期日よりも新しいコミットに限定してログを出力する。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">--since</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--before=&quot;MMM</span> <span class="pre">DD</span> <span class="pre">YYYY&quot;</span></code></dt><dd><p>指定期日よりも古いコミットに限定してログを出力する。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">--until</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--author=&lt;pattern&gt;</span></code></dt><dd><p>執筆者がパターン <code class="docutils literal notranslate"><span class="pre">pattern</span></code> にマッチするコミットに限定してログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--grep=&lt;pattern&gt;</span></code></dt><dd><p>ログメッセージがパターンにマッチするコミットに限定してログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--merge</span></code></dt><dd><p>マージで衝突があったものに限定してログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--pretty=short</span></code></dt><dd><p>短いフォーマットでログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--format=oneline</span></code></dt><dd><p>コミット当たり一行でログを出力する。先頭に SHA-1 付き。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--oneline</span></code></dt><dd><p>コミット当たり一行でログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--oneline</span> <span class="pre">--graph</span> <span class="pre">--all</span> <span class="pre">--decorate</span></code></dt><dd><p>色んな物をログとして出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--graph</span></code></dt><dd><p>アスキーアートによるコミットグラフをメッセージの左に添える。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">-p</span></code></dt><dd><p>変更内容を表示する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">-p</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> が関係するコミットに限定して、変更内容を込めてログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--stat</span></code></dt><dd><p>差分に関する統計を添えてログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--summary</span></code></dt><dd><p>ファイルの作成、移動、削除に関する概要を添えてログを出力する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">log</span> <span class="pre">--color</span></code></dt><dd><p>差分に色を付けてログを出力する。オプション単体では意味がないようだ。</p>
</dd>
</dl>
</div>
<div class="section" id="merge">
<h4><a class="toc-backref" href="#id34">呪文表 merge</a><a class="headerlink" href="#merge" title="Permalink to this headline">¶</a></h4>
<p>コマンド merge はカレントブランチに別のブランチのコミット履歴を取り込む。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> のコミット履歴をカレントブランチに統合する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">--no-commit</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> をカレントブランチにマージするが、新しいコミットを自動的に作らない。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">-s</span> <span class="pre">ours</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> をカレントブランチにマージするが、何か衝突がある場合はこちら側の変更を採用する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">--no-ff</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> をカレントブランチにマージするが、それが fast-forward で解決してもマージコミットを生成する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">-ff-only</span> <span class="pre">&lt;branch&gt;</span></code></dt><dd><p>次のような場合はマージしないで異常終了とする。</p>
<ul class="simple">
<li><p>カレントの <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> が既に最新である</p></li>
<li><p>マージが fast-forward で解決する</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">merge</span> <span class="pre">--abort</span></code></dt><dd><p>現在のマージが衝突したら処理を中止して、状態をマージ直前に復元することを試みる。</p>
</dd>
</dl>
</div>
<div class="section" id="mv">
<h4><a class="toc-backref" href="#id35">呪文表 mv</a><a class="headerlink" href="#mv" title="Permalink to this headline">¶</a></h4>
<p>コマンド mv はファイルを移動する、もしくは名前を変える。ファイルはディレクトリーとシンボリックリンクを含む。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">&lt;source&gt;</span> <span class="pre">&lt;destination&gt;</span></code></dt><dd><p>ファイル &lt;source&gt; を &lt;destination&gt; に移動するか、名前を変える。</p>
<p>引数 &lt;source&gt; が複数ファイルの場合は、引数 &lt;destination&gt; は既存のディレクトリーであるものとする。</p>
</dd>
</dl>
</div>
<div class="section" id="pull">
<h4><a class="toc-backref" href="#id36">呪文表 pull</a><a class="headerlink" href="#pull" title="Permalink to this headline">¶</a></h4>
<p>コマンド pull は fetch と merge を同時に行うようなものだ。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">pull</span> <span class="pre">[&lt;repository&gt;]</span></code></dt><dd><p>カレントブランチのリモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> のコピーをダウンロードして、それを直ちにローカルの <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> にマージする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pull</span> <span class="pre">[&lt;repository&gt;</span> <span class="pre">[&lt;refspec&gt;</span> <span class="pre">...]]</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> のブランチ <code class="docutils literal notranslate"><span class="pre">refspec</span></code> に対して、そのコピーをダウンロードしてローカルの <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> にマージする。</p>
<p>ところで <code class="docutils literal notranslate"><span class="pre">repository</span></code> や <code class="docutils literal notranslate"><span class="pre">refspec</span></code> のデフォルト値は、カレントブランチの構成に依存する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pull</span> <span class="pre">--rebase</span> <span class="pre">&lt;repository&gt;</span></code></dt><dd><p>これは fetch と rebase を同時に行うようなものだ。上手い人向けのコマンド。</p>
</dd>
</dl>
</div>
<div class="section" id="push">
<h4><a class="toc-backref" href="#id37">呪文表 push</a><a class="headerlink" href="#push" title="Permalink to this headline">¶</a></h4>
<p>コマンド push はローカルのコミットをリモートにアップロードする。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">[&lt;repository&gt;</span> <span class="pre">[&lt;refspec&gt;</span> <span class="pre">...]]</span></code></dt><dd><p>ローカルの <code class="docutils literal notranslate"><span class="pre">refspec</span></code> をリモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> にアップロードする。</p>
<p>なお、これらの引数のデフォルト値はカレントブランチの構成に従う。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">--all</span> <span class="pre">[&lt;repository&gt;]</span></code></dt><dd><p>ローカルのすべてのブランチをリモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> にアップロードする。</p>
<p>言い換えると <code class="docutils literal notranslate"><span class="pre">refs/heads/</span></code> 配下の refs をリモートリポジトリーにアップロードする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">--mirror</span></code></dt><dd><p>ローカルのすべての状態とリモートリポジトリーの状態が同一となるようにアップロードする。</p>
<p>言い換えると <code class="docutils literal notranslate"><span class="pre">refs/</span></code> 配下をリモートリポジトリーにコピーする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">--tags</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">refs/tags</span></code> 配下にあるすべての refs をアップロードする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">-n</span></code></dt><dd><p>コマンド実行時のプレビューができる。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">--force</span> <span class="pre">&lt;repository&gt;</span></code></dt><dd><p>マージが fast-forward にならない push であっても、強引にアップロードする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">:&lt;pattern&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> にパターン <code class="docutils literal notranslate"><span class="pre">pattern</span></code> にマッチする ref があれば、それを削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">--delete</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">&lt;pattern&gt;</span></code></dt><dd><p>同上。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">push</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">&lt;start-point&gt;:refs/heads/&lt;branch&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> にブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> を作成する。ブランチの基点はリモートの <code class="docutils literal notranslate"><span class="pre">start-point</span></code> とする。</p>
</dd>
</dl>
</div>
<div class="section" id="rebase">
<h4><a class="toc-backref" href="#id38">呪文表 rebase</a><a class="headerlink" href="#rebase" title="Permalink to this headline">¶</a></h4>
<p>コマンド rebase は私にとってはコミット履歴の修正ツールだ。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">[&lt;upstream&gt;</span> <span class="pre">[&lt;branch&gt;]]</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">upstream</span></code> をブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> に rebase する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">-i</span> <span class="pre">[&lt;upstream&gt;</span> <span class="pre">[&lt;branch&gt;]]</span></code></dt><dd><p>テキストエディター上でコミット履歴の操作を行う。</p>
<p>テキストエディター上にはコミット履歴が各行にリストされている。そこで各行の先頭にコミット操作命令をタイプしてエディターを終了すると、いい感じにコミット履歴が改竄される。</p>
<p>例えば次のことができる。</p>
<ul class="simple">
<li><p>コミットログを修正する</p></li>
<li><p>複数のコミットの順序を交換する</p></li>
<li><p>複数のコミットを合併する</p></li>
<li><p>コミットをキャンセルする</p></li>
</ul>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">-i</span> <span class="pre">HEAD~5</span></code></dt><dd><p>直近 5 コミットの履歴の改竄を開始する。</p>
</dd>
</dl>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">--continue</span></code></dt><dd><p>手動による衝突を解消してインデックスが望み通りの状態になったときに、
rebase 処理の対象を次のコミットへ進ませる。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">--abort</span></code></dt><dd><p>手動による衝突解消が上手くいかなかったときに、rebase 開始直前の状態に戻す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rebase</span> <span class="pre">--skip</span></code></dt><dd><p>衝突したままだが、とにかく次のコミットへ rebase 処理を進ませる。</p>
</dd>
</dl>
</div>
<div class="section" id="reset">
<h4><a class="toc-backref" href="#id39">呪文表 reset</a><a class="headerlink" href="#reset" title="Permalink to this headline">¶</a></h4>
<p>コマンド reset はカレントの HEAD を指定した状態へ戻すのに用いる。用法にはファイルに作用するものと、コミットに作用するものがある。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">&lt;paths&gt;...</span></code></dt><dd><p>インデックスでファイル <code class="docutils literal notranslate"><span class="pre">paths</span></code> に関する項目をリセットする。</p>
<p>ヘルプでは <code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">&lt;paths&gt;...</span></code> の逆操作だと表現している。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">&lt;commit&gt;</span></code></dt><dd><p>カレントブランチの HEAD をコミット <code class="docutils literal notranslate"><span class="pre">commit</span></code> にリセットする。インデックスの状態もそれに応じてリセットする</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--soft</span> <span class="pre">HEAD^</span></code></dt><dd><p>カレントブランチの状態を直前のコミット直後の状態にリセットする。ローカルでの作業はインデックス外に作業コピーに残る。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--hard</span></code></dt><dd><p>衝突したパッチを破棄する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">&lt;commit&gt;</span></code></dt><dd><p>カレントブランチの <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> をコミット <code class="docutils literal notranslate"><span class="pre">commit</span></code> 直後の時点にリセットする。それ以降になされた作業コピーにおけるファイル変更は破棄される。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">HEAD</span></code></dt><dd><p>カレントブランチの状態を直前のコミット直後の状態にリセットする。コミット以後のローカルでの作業があれば、それは破棄される。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--hard</span> <span class="pre">ORIG_HEAD</span></code></dt><dd><p>マージが成功したコミットのうち最新のものをアンドゥする。例によってそれ以降の作業コピーでのファイル変更は破棄される。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span> <span class="pre">--keep</span> <span class="pre">&lt;commit&gt;</span></code></dt><dd><p>カレントブランチの <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> をコミット <code class="docutils literal notranslate"><span class="pre">commit</span></code> 直後の時点にリセットする。それ以降になされた作業コピーにおいてファイル変更があれば、リセットを中止する。</p>
</dd>
</dl>
</div>
<div class="section" id="revert">
<h4><a class="toc-backref" href="#id40">呪文表 revert</a><a class="headerlink" href="#revert" title="Permalink to this headline">¶</a></h4>
<p>コマンド revert は既存のコミットを無効にするのに用いる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">revert</span> <span class="pre">&lt;commit&gt;</span></code></dt><dd><p>コミット <code class="docutils literal notranslate"><span class="pre">comit</span></code> をなかったことにする。方法はそのコミットの内容を打ち消すような新しいコミットを生み出すことによる。</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">-n</span></code> または <code class="docutils literal notranslate"><span class="pre">--no-commit</span></code> オプションというのがあり、これは新しいコミットを生じない。</p>
</div>
<div class="section" id="rm">
<h4><a class="toc-backref" href="#id41">呪文表 rm</a><a class="headerlink" href="#rm" title="Permalink to this headline">¶</a></h4>
<p>コマンド rm はリポジトリーからファイルを削除する。</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">[--]</span> <span class="pre">&lt;file&gt;...</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> を削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-n</span></code></dt><dd><p>コマンド実行時のプレビューができる。</p>
<p>別名 <code class="docutils literal notranslate"><span class="pre">--dry-run</span></code> がある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-r</span> <span class="pre">[--]</span> <span class="pre">&lt;directory&gt;</span></code></dt><dd><p>ディレクトリー <code class="docutils literal notranslate"><span class="pre">directory</span></code> 以下にあるすべてのファイルを削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">--cached</span> <span class="pre">[--]</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> をインデックスからのみ削除する。</p>
</dd>
</dl>
</div>
<div class="section" id="show">
<h4><a class="toc-backref" href="#id42">呪文表 show</a><a class="headerlink" href="#show" title="Permalink to this headline">¶</a></h4>
<p>コマンド show はあらゆる Git オブジェクトを表示する。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">&lt;commit&gt;</span></code></dt><dd><p>コミット <code class="docutils literal notranslate"><span class="pre">commit</span></code> との現在の差分を表示する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">&lt;commit&gt;:&lt;file&gt;</span></code></dt><dd><p>コミット <code class="docutils literal notranslate"><span class="pre">commit</span></code> でのファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> の内容を表示する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">--name-only</span></code></dt><dd><p>変更ファイルの名前だけを表示する。差分は表示しない。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">&lt;branch&gt;</span> <span class="pre">--</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ブランチ <code class="docutils literal notranslate"><span class="pre">branch</span></code> でのファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> の内容を表示する。</p>
</dd>
</dl>
</div>
<div class="section" id="stash">
<h4><a class="toc-backref" href="#id43">呪文表 stash</a><a class="headerlink" href="#stash" title="Permalink to this headline">¶</a></h4>
<p>コマンド stash は作業コピーでのファイル変更を一時的に退避するのに用いる。スタックのイメージだと思う。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">list</span></code></dt><dd><p>退避領域の内容を一覧で示す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">show</span> <span class="pre">&lt;stash&gt;</span> <span class="pre">-p</span></code></dt><dd><p>退避領域の内容物を表示する。差分形式で表示できる。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">drop</span></code></dt><dd><p>直近に一時保存された変更セットを破棄する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">pop</span></code></dt><dd><p>直近に一時保存されたファイルを作業コピーへ復元する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">apply</span></code></dt><dd><p>直近に一時保存されたファイルを作業コピーへ復元する。ただし保存データはまだ退避領域にある。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">save</span> <span class="pre">&lt;message&gt;</span></code></dt><dd><p>現在の作業コピーでの変更ファイルを退避する。この退避には名前が付く。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stash</span> <span class="pre">clear</span></code></dt><dd><p>退避領域を完全に消去する。退避内容は失われる。</p>
</dd>
</dl>
</div>
<div class="section" id="status">
<h4><a class="toc-backref" href="#id44">呪文表 status</a><a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h4>
<p>コマンド status は作業コピーの状態を表示するのに用いる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">status</span></code></dt><dd><p>引数なしでも色々と情報が得られる。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">status</span> <span class="pre">-uno</span></code></dt><dd><p>管理外のファイルの情報は要らない。つまり <code class="docutils literal notranslate"><span class="pre">Untracked</span> <span class="pre">files:</span></code> のセクションを表示させない。</p>
</dd>
</dl>
</div>
<div class="section" id="submodule">
<h4><a class="toc-backref" href="#id45">呪文表 submodule</a><a class="headerlink" href="#submodule" title="Permalink to this headline">¶</a></h4>
<p>コマンド submodule はサブモジュールを管理するのに用いる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">submodule</span> <span class="pre">add</span> <span class="pre">&lt;repository&gt;</span> <span class="pre">[&lt;path&gt;]</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> を <code class="docutils literal notranslate"><span class="pre">path</span></code> に追加する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">submodule</span> <span class="pre">update</span> <span class="pre">[--init]</span></code></dt><dd><p>登録済みサブモジュールを更新する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">submodule</span> <span class="pre">foreach</span> <span class="pre">&lt;command&gt;</span></code></dt><dd><p>シェルコマンド <code class="docutils literal notranslate"><span class="pre">command</span></code> を各サブモジュールに対して実行する。</p>
</dd>
</dl>
</div>
<div class="section" id="tag">
<h4><a class="toc-backref" href="#id46">呪文表 tag</a><a class="headerlink" href="#tag" title="Permalink to this headline">¶</a></h4>
<p>コマンド tag はタグを管理するのに用いる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">tag</span> <span class="pre">&lt;tagname&gt;</span> <span class="pre">[&lt;commit&gt;|&lt;object&gt;]</span></code></dt><dd><p>コミットや何かにタグを付ける。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tag</span> <span class="pre">-d</span> <span class="pre">&lt;tagname&gt;</span></code></dt><dd><p>名前を指定してタグを削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tag</span> <span class="pre">-l</span> <span class="pre">[&lt;pattern&gt;]</span></code></dt><dd><p>パターンにマッチするタグをリストする。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id47">補助コマンド</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>ヘルプドキュメントは補助コマンド群を操作目的のものと問い合わせ目的のものに分けて紹介している。</p>
<p>次のコマンド群が操作用とされている。</p>
<p>config,
fast-export,
fast-import,
filter-branch,
mergetool,
pack-refs,
prune,
reflog,
relink,
remote,
repack,
replace.</p>
<p>そして次のコマンド群が問い合わせ用とされている。</p>
<p>annotate,
blame,
cherry,
count-objects,
difftool,
fsck,
get-tar-commit-id,
help,
instaweb,
merge-tree,
rerere,
rev-parse,
show-branch,
verify-commit,
verify-tag,
whatchanged.</p>
<div class="section" id="config">
<h4><a class="toc-backref" href="#id48">呪文表 config</a><a class="headerlink" href="#config" title="Permalink to this headline">¶</a></h4>
<p>コマンド config は各種構成オプションを設定するのに用いる。ユーザー固有の設定、リポジトリー固有の設定、グローバル設定すべてをこれでまかなう。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.name</span> <span class="pre">&lt;name&gt;</span></code></dt><dd><p>コミットログに含まれる著者の名前を設定する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">--global</span> <span class="pre">user.email</span> <span class="pre">&lt;address&gt;</span></code></dt><dd><p>コミットログに含まれるメールアドレスを設定する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">--global</span> <span class="pre">color.ui</span> <span class="pre">auto</span></code></dt><dd><p>コマンドラインの出力を見やすくする色を設定する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">--list</span></code></dt><dd><p>すべてのオプションを表示する。何かテキトーな順番で表示されるので、ソートにパイプしたい。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span> <span class="pre">-e</span> <span class="pre">[--global]</span></code></dt><dd><p>テキストエディターでファイル <code class="docutils literal notranslate"><span class="pre">.git/config</span></code> や <code class="docutils literal notranslate"><span class="pre">~/.gitconfig</span></code> を編集する。</p>
</dd>
</dl>
</div>
<div class="section" id="reflog">
<h4><a class="toc-backref" href="#id49">呪文表 reflog</a><a class="headerlink" href="#reflog" title="Permalink to this headline">¶</a></h4>
<p>コマンド reflog は Git 操作自体の履歴情報を管理するのに用いる。履歴の改竄作業のヒントになる。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">reflog</span> <span class="pre">[show]</span> <span class="pre">--relative-date</span></code></dt><dd><p>番号の代わりに現在からの時間差を表示する。例えば <code class="docutils literal notranslate"><span class="pre">HEAD&#64;{7}</span></code> などではなく <code class="docutils literal notranslate"><span class="pre">HEAD&#64;{8</span> <span class="pre">days</span> <span class="pre">ago}</span></code> などのような表示になる。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reflog</span> <span class="pre">[show]</span> <span class="pre">--all</span></code></dt><dd><p>すべての ref を表示する。</p>
</dd>
</dl>
</div>
<div class="section" id="remote">
<h4><a class="toc-backref" href="#id50">呪文表 remote</a><a class="headerlink" href="#remote" title="Permalink to this headline">¶</a></h4>
<p>コマンド remote はリモートリポジトリーおよびそれに関係のあるブランチの管理をする。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">-v</span></code></dt><dd><p>饒舌オプション。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">add</span> <span class="pre">&lt;name&gt;</span> <span class="pre">&lt;url&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">url</span></code> を追加して、ここでは <code class="docutils literal notranslate"><span class="pre">name</span></code> と呼ぶ。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">add</span> <span class="pre">-t</span> <span class="pre">master</span> <span class="pre">-m</span> <span class="pre">master</span> <span class="pre">origin</span> <span class="pre">&lt;url&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">url</span></code> を追加する。
<code class="docutils literal notranslate"><span class="pre">master</span></code> の追跡ブランチを <code class="docutils literal notranslate"><span class="pre">origin</span></code> という名前で追加する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">set-url</span> <span class="pre">origin</span> <span class="pre">newurl</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">origin</span></code> のリモートリポジトリーの URL が <code class="docutils literal notranslate"><span class="pre">newurl</span></code> に変更されたので、ローカル側で管理している URL 情報を更新する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">show</span> <span class="pre">&lt;repository&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> の情報を表示する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">prune</span> <span class="pre">&lt;repository&gt;</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> 側では既に存在しないブランチに対応するリモート追跡ブランチを削除する。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">-v</span> <span class="pre">update</span></code></dt><dd><p>リモートリポジトリーから更新データをダウンロードする。</p>
</dd>
</dl>
</div>
<div class="section" id="blame">
<h4><a class="toc-backref" href="#id51">呪文表 blame</a><a class="headerlink" href="#blame" title="Permalink to this headline">¶</a></h4>
<p>コマンド blame はあるファイルの各行について、リビジョンと著者を表示するというものだ。変なソースコードだなと思ったらこれを使うのもよいだろう。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">blame</span> <span class="pre">[&lt;rev&gt;]</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>リビジョン <code class="docutils literal notranslate"><span class="pre">rev</span></code> 時点でのファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> の各行の著者を表示する。</p>
</dd>
</dl>
</div>
<div class="section" id="help">
<h4><a class="toc-backref" href="#id52">呪文表 help</a><a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h4>
<p>コマンド help は当然ながらヘルプ機能を供するものだ。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">[-w]</span> <span class="pre">[&lt;command&gt;]</span></code></dt><dd><p>コマンド <code class="docutils literal notranslate"><span class="pre">command</span></code> のヘルプドキュメントをブラウザーで開く。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">-a</span></code></dt><dd><p>一度は試すことを勧める。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">-g</span></code></dt><dd><p>一度は試すことを勧める。</p>
</dd>
</dl>
</div>
<div class="section" id="whatchanged">
<h4><a class="toc-backref" href="#id53">呪文表 whatchanged</a><a class="headerlink" href="#whatchanged" title="Permalink to this headline">¶</a></h4>
<p>コマンド whatchanged は log に似ているが、よくわからない。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">whatchanged</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> のコミットログと、何かの変更を表示する。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id54">外部連携コマンド</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>ヘルプによると、次のコマンド群が外部連携コマンドとして位置づけられている。他のバージョン管理システムとのデータ変換という意味と、他の利用者とのリポジトリーデータの交換という意味があるようだ。</p>
<p>archimport,
cvsexportcommit,
cvsimport,
cvsserver,
imap-send,
p4,
quiltimport,
request-pull,
send-email,
svn.</p>
<p>コマンド名には CVS やら Perforce やら、懐かしいバージョン管理システムの名前が見受けられる。私個人が自由に管理できた Subversion のリポジトリーはすべて Git に変換済みなので、これらのコマンドが行うであろう機能は私にとってもはや興味がない。</p>
</div>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id55">低水準コマンド</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>ここから先に記すコマンドは、ドキュメントでは低水準コマンドという括りになっている。一般利用者にとっては実行頻度が低いものということだ。</p>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id56">操作コマンド</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>リポジトリーにあるオブジェクトやインデックスを操作するコマンド群である。</p>
<p>apply,
checkout-index,
commit-tree,
hash-object,
index-pack,
merge-file,
merge-index,
mktag,
mktree,
pack-objects,
prune-packed,
read-tree,
symbolic-ref,
unpack-objects,
update-index,
update-ref,
write-tree.</p>
<div class="section" id="hash-object">
<h4><a class="toc-backref" href="#id57">呪文表 hash-object</a><a class="headerlink" href="#hash-object" title="Permalink to this headline">¶</a></h4>
<p>コマンド hash-object はファイルのオブジェクト ID を計算する。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">hash-object</span> <span class="pre">&lt;file&gt;</span></code></dt><dd><p>ファイル <code class="docutils literal notranslate"><span class="pre">file</span></code> のオブジェクト ID を計算して SHA1 値として出力する。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id58">問い合わせコマンド</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>ヘルプによると、次のコマンド群は問い合わせるのに用いるものとして位置づけられている。原則的にこれらは作業コピーのファイルを touch しないコマンドということになっているので、安心して実行してよさそうだ。</p>
<p>cat-file,
diff-files,
diff-index,
diff-tree,
for-each-ref,
ls-files,
ls-remote,
ls-tree,
merge-base,
name-rev,
pack-redundant,
rev-list,
show-index,
show-ref,
unpack-file,
var,
verify-pack.</p>
<div class="section" id="ls-files">
<h4><a class="toc-backref" href="#id59">呪文表 ls-files</a><a class="headerlink" href="#ls-files" title="Permalink to this headline">¶</a></h4>
<p>コマンド ls-files はインデックスと作業コピーに限定した ls のようなものである。テキスト一括処理の対象ファイルを絞るツールとして活用したい。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ls-files</span> <span class="pre">--other</span> <span class="pre">--ignored</span> <span class="pre">--exclude-standard</span></code></dt><dd><p>作業コピーにあるすべての管理対象外ファイルをリストする。</p>
</dd>
</dl>
<p>次のものはシェルでインデックスから削除されたファイルを本当に削除するときのコマンド例。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>rm <span class="k">$(</span>git ls-files --deleted<span class="k">)</span>
</pre></div>
</div>
<p>作業コピー管理内のファイルに限定して、何らかの文字列挿入・置換・削除をしたい場合がかなりある。そのときは次のようなワンライナーで一気に片付く。次にファイル内の文字列 <code class="docutils literal notranslate"><span class="pre">OLD_PATTERN</span></code> を <code class="docutils literal notranslate"><span class="pre">NEW_PATTERN</span></code> に置換する例を示す。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git ls-files -z <span class="p">|</span> xargs -0 sed -i -e <span class="s1">&#39;s/OLD_PATTERN/NEW_PATTERN/g&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="ls-remote">
<h4><a class="toc-backref" href="#id60">呪文表 ls-remote</a><a class="headerlink" href="#ls-remote" title="Permalink to this headline">¶</a></h4>
<p>コマンド ls-remote はリモートリポジトリーの参照をリストする。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">ls-remote</span> <span class="pre">&lt;repositry&gt;</span> <span class="pre">[HEAD]</span></code></dt><dd><p>リモートリポジトリー <code class="docutils literal notranslate"><span class="pre">repository</span></code> の <code class="docutils literal notranslate"><span class="pre">HEAD</span></code> 時点での参照をリストする。左列が ID で右列がブランチとタグ。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id61">同期コマンド</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>ヘルプによると、次のコマンド群は同期コマンドとして位置づけられている。一般ユーザー用のコマンドと、実装用コマンドに分けてリストされている。ここではどちらも私の興味がないということで、一気に名前のみを挙げる。</p>
<p>次のコマンド群が操作用とされている。</p>
<p>daemon,
fetch-pack,
http-backend,
send-pack,
update-server-info.</p>
<p>次のコマンド群が実装用とされている。</p>
<p>http-fetch,
http-push,
parse-remote,
receive-pack,
shell,
upload-archive,
upload-pack.</p>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id62">内部コマンド</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>ヘルプによると、次のコマンド群は内部コマンドとして位置づけられている。</p>
<p>check-attr,
check-ignore,
check-mailmap,
check-ref-format,
column,
credential,
credential-cache,
credential-store,
fmt-merge-msg,
interpret-trailers,
mailinfo,
mailsplit,
merge-one-file,
patch-id,
sh-i18n,
sh-setup,
stripspace.</p>
<p>もっとも &lt;end users typically do not use them directly&gt; とのことなので、私も当然利用しない。</p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="aliases.html" title="エイリアス"
             >next</a></li>
        <li class="right" >
          <a href="terminology.html" title="用語集"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Git 利用ノート</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">コマンド</a></li> 
      </ul>
    </div>
    <div id="footer">
      <div id="footer_logo">
        <a class="imga" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png" width="88" height="31" /></a>
      </div>
      <div id="footer_copyright">
        Since 1999<br />
        Copyright &copy; 1999-2021, プレハブ小屋 All rights reserved.
      </div>
    </div>
  </body>
</html>