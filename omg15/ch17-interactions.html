<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>17 Interactions &#8212; 読書ノート 1.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=1a9a5cd9" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d21ed4cc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script async="async" src="../_static/mathjax-v3.js?v=bf1ec211"></script>
    <script src="../_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="18 UseCases" href="ch18-usecases.html" />
    <link rel="prev" title="16 Actions" href="ch16-actions.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="ch16-actions.html" title="Previous document">16 Actions</a>
        </li>
        <li>
          <a href="ch18-usecases.html" title="Next document">18 UseCases</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="interactions">
<h1><a class="toc-backref" href="#id36" role="doc-backlink">17 Interactions</a><a class="headerlink" href="#interactions" title="Permalink to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#interactions" id="id36">17 Interactions</a></p>
<ul>
<li><p><a class="reference internal" href="#summary" id="id37">17.1 Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id38">17.1.1 Overview</a></p></li>
<li><p><a class="reference internal" href="#basic-trace-model" id="id39">17.1.2 Basic trace model</a></p></li>
<li><p><a class="reference internal" href="#partial-ordering-constraints-on-valid-and-invalid-traces" id="id40">17.1.3 Partial ordering constraints on valid and invalid traces</a></p></li>
<li><p><a class="reference internal" href="#interaction-diagram-variants" id="id41">17.1.4 Interaction Diagram Variants</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id1" id="id42">17.2 Interactions</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id43">17.2.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#abstract-syntax" id="id44">17.2.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#semantics" id="id45">17.2.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id46">17.2.3.1 Interactions</a></p></li>
<li><p><a class="reference internal" href="#interaction-fragments" id="id47">17.2.3.2 Interaction Fragments</a></p></li>
<li><p><a class="reference internal" href="#occurrence-specifications" id="id48">17.2.3.3 Occurrence Specifications</a></p></li>
<li><p><a class="reference internal" href="#execution-specifications" id="id49">17.2.3.4 Execution Specifications</a></p></li>
<li><p><a class="reference internal" href="#state-invariants" id="id50">17.2.3.5 State Invariants</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#notation" id="id51">17.2.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#interaction" id="id52">17.2.4.1 Interaction</a></p></li>
<li><p><a class="reference internal" href="#interactionfragment" id="id53">17.2.4.2 InteractionFragment</a></p></li>
<li><p><a class="reference internal" href="#occurrencespecification" id="id54">17.2.4.3 OccurrenceSpecification</a></p></li>
<li><p><a class="reference internal" href="#executionspecification" id="id55">17.2.4.4 ExecutionSpecification</a></p></li>
<li><p><a class="reference internal" href="#stateinvariant" id="id56">17.2.4.5 StateInvariant</a></p></li>
<li><p><a class="reference internal" href="#formal-gate" id="id57">17.2.4.6 Formal Gate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples" id="id58">17.2.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#lifelines" id="id59">17.3 Lifelines</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id60">17.3.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id61">17.3.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id62">17.3.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id7" id="id63">17.3.3.1 Lifelines</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8" id="id64">17.3.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#lifeline" id="id65">17.3.4.1 Lifeline</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9" id="id66">17.3.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#messages" id="id67">17.4 Messages</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id68">17.4.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id69">17.4.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id70">17.4.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id13" id="id71">17.4.3.1 Messages</a></p></li>
<li><p><a class="reference internal" href="#message-ends" id="id72">17.4.3.2 Message Ends</a></p></li>
<li><p><a class="reference internal" href="#message-occurrence-specifications" id="id73">17.4.3.3 Message Occurrence Specifications</a></p></li>
<li><p><a class="reference internal" href="#destruction-occurrence-specifications" id="id74">17.4.3.4 Destruction Occurrence Specifications</a></p></li>
<li><p><a class="reference internal" href="#gates" id="id75">17.4.3.5 Gates</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id14" id="id76">17.4.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#message" id="id77">17.4.4.1 Message</a></p></li>
<li><p><a class="reference internal" href="#destructionoccurrencespecification" id="id78">17.4.4.2 DestructionOccurrenceSpecification</a></p></li>
<li><p><a class="reference internal" href="#gate" id="id79">17.4.4.3 Gate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id15" id="id80">17.4.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#occurrences" id="id81">17.5 Occurrences</a></p>
<ul>
<li><p><a class="reference internal" href="#id16" id="id82">17.5.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id83">17.5.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id84">17.5.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#action-execution-specificiations" id="id85">17.5.3.1 Action Execution Specificiations</a></p></li>
<li><p><a class="reference internal" href="#behavior-execution-specifications" id="id86">17.5.3.2 Behavior Execution Specifications</a></p></li>
<li><p><a class="reference internal" href="#execution-occurrence-specifications" id="id87">17.5.3.3 Execution Occurrence Specifications</a></p></li>
<li><p><a class="reference internal" href="#general-orderings" id="id88">17.5.3.4 General Orderings</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id19" id="id89">17.5.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#actionexecutionspecificiation" id="id90">17.5.4.1 ActionExecutionSpecificiation</a></p></li>
<li><p><a class="reference internal" href="#behaviorexecutionspecification" id="id91">17.5.4.2 BehaviorExecutionSpecification</a></p></li>
<li><p><a class="reference internal" href="#executionoccurrencespecification" id="id92">17.5.4.3 ExecutionOccurrenceSpecification</a></p></li>
<li><p><a class="reference internal" href="#generalordering" id="id93">17.5.4.4 GeneralOrdering</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id20" id="id94">17.5.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fragments" id="id95">17.6 Fragments</a></p>
<ul>
<li><p><a class="reference internal" href="#id21" id="id96">17.6.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id97">17.6.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id98">17.6.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#interaction-operands" id="id99">17.6.3.1 Interaction Operands</a></p></li>
<li><p><a class="reference internal" href="#interaction-constraints" id="id100">17.6.3.2 Interaction Constraints</a></p></li>
<li><p><a class="reference internal" href="#combined-fragments" id="id101">17.6.3.3 Combined Fragments</a></p></li>
<li><p><a class="reference internal" href="#consider-ignore-fragments" id="id102">17.6.3.4 Consider Ignore Fragments</a></p></li>
<li><p><a class="reference internal" href="#continuations" id="id103">17.6.3.5 Continuations</a></p></li>
<li><p><a class="reference internal" href="#interaction-operator-kind-values" id="id104">17.6.3.6 Interaction Operator Kind Values</a></p></li>
<li><p><a class="reference internal" href="#alternatives" id="id105">17.6.3.7 Alternatives</a></p></li>
<li><p><a class="reference internal" href="#option" id="id106">17.6.3.8 Option</a></p></li>
<li><p><a class="reference internal" href="#break" id="id107">17.6.3.9 Break</a></p></li>
<li><p><a class="reference internal" href="#parallel" id="id108">17.6.3.10 Parallel</a></p></li>
<li><p><a class="reference internal" href="#weak-sequencing" id="id109">17.6.3.11 Weak Sequencing</a></p></li>
<li><p><a class="reference internal" href="#strict-sequencing" id="id110">17.6.3.12 Strict Sequencing</a></p></li>
<li><p><a class="reference internal" href="#negative" id="id111">17.6.3.13 Negative</a></p></li>
<li><p><a class="reference internal" href="#critical-region" id="id112">17.6.3.14 Critical Region</a></p></li>
<li><p><a class="reference internal" href="#ignore-consider" id="id113">17.6.3.15 Ignore / Consider</a></p></li>
<li><p><a class="reference internal" href="#assertion" id="id114">17.6.3.16 Assertion</a></p></li>
<li><p><a class="reference internal" href="#loop" id="id115">17.6.3.17 Loop</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id25" id="id116">17.6.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#interactionoperand" id="id117">17.6.4.1 InteractionOperand</a></p></li>
<li><p><a class="reference internal" href="#interactionconstraint" id="id118">17.6.4.2 InteractionConstraint</a></p></li>
<li><p><a class="reference internal" href="#combinedfragment" id="id119">17.6.4.3 CombinedFragment</a></p></li>
<li><p><a class="reference internal" href="#considerignorefragment" id="id120">17.6.4.4 ConsiderIgnoreFragment</a></p></li>
<li><p><a class="reference internal" href="#continuation" id="id121">17.6.4.5 Continuation</a></p></li>
<li><p><a class="reference internal" href="#interactionoperatorkind" id="id122">17.6.4.6 InteractionOperatorKind</a></p></li>
<li><p><a class="reference internal" href="#strict-interactionoperator" id="id123">17.6.4.7 Strict interactionOperator</a></p></li>
<li><p><a class="reference internal" href="#ignore-consider-interactionoperator" id="id124">17.6.4.8 Ignore / Consider interactionOperator</a></p></li>
<li><p><a class="reference internal" href="#loop-interactionoperator" id="id125">17.6.4.9 Loop interactionOperator</a></p></li>
<li><p><a class="reference internal" href="#parallel-interactionoperator" id="id126">17.6.4.10 Parallel interactionOperator</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id26" id="id127">17.6.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#interaction-uses" id="id128">17.7 Interaction Uses</a></p>
<ul>
<li><p><a class="reference internal" href="#id27" id="id129">17.7.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id28" id="id130">17.7.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id131">17.7.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id30" id="id132">17.7.3.1 Interaction Uses</a></p></li>
<li><p><a class="reference internal" href="#part-decompositions" id="id133">17.7.3.2 Part Decompositions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id31" id="id134">17.7.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#interactionuse" id="id135">17.7.4.1 InteractionUse</a></p></li>
<li><p><a class="reference internal" href="#partdecomposition" id="id136">17.7.4.2 PartDecomposition</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id32" id="id137">17.7.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sequence-diagrams" id="id138">17.8 Sequence Diagrams</a></p>
<ul>
<li><p><a class="reference internal" href="#sequence-diagram-notation" id="id139">17.8.1 Sequence Diagram Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#graphic-nodes" id="id140">17.8.1.1 Graphic Nodes</a></p></li>
<li><p><a class="reference internal" href="#graphic-paths" id="id141">17.8.1.2 Graphic Paths</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#example-sequence-diagram" id="id142">17.8.2 Example Sequence Diagram</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#communication-diagrams" id="id143">17.9 Communication Diagrams</a></p>
<ul>
<li><p><a class="reference internal" href="#communication-diagram-notation" id="id144">17.9.1 Communication Diagram Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#id33" id="id145">17.9.1.1 Graphic Paths</a></p></li>
<li><p><a class="reference internal" href="#id34" id="id146">17.9.1.2 Graphic Paths</a></p></li>
<li><p><a class="reference internal" href="#sequence-expression" id="id147">17.9.1.3 Sequence expression</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#example-communication-diagram" id="id148">17.9.2 Example Communication Diagram</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#interaction-overview-diagrams" id="id149">17.10 Interaction Overview Diagrams</a></p>
<ul>
<li><p><a class="reference internal" href="#interaction-overview-diagram-notation" id="id150">17.10.1 Interaction Overview Diagram Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#id35" id="id151">17.10.1.1 Graphic Nodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples-of-interaction-overview-diagrams" id="id152">17.10.2 Examples of Interaction Overview Diagrams</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#timing-diagrams" id="id153">17.11 Timing Diagrams</a></p>
<ul>
<li><p><a class="reference internal" href="#timing-diagram-notation" id="id154">17.11.1 Timing Diagram Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#graphic-nodes-and-paths" id="id155">17.11.1.1 Graphic Nodes and Paths</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples-of-timing-diagrams" id="id156">17.11.2 Examples of Timing Diagrams</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#classifier-descriptions" id="id157">17.12 Classifier Descriptions</a></p></li>
<li><p><a class="reference internal" href="#association-descriptions" id="id158">17.13 Association Descriptions</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id37" role="doc-backlink">17.1 Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<section id="overview">
<h3><a class="toc-backref" href="#id38" role="doc-backlink">17.1.1 Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h3>
<p>Interactions はさまざまな状況で利用される。</p>
<ul class="simple">
<li><p>設計者個人や状況を共通理解する必要がある集団にとって、相互作用の状況をよく把握するために用いられる。</p></li>
<li><p>より詳細な設計段階でも用いられる。</p></li>
<li><p>テスト実行時に、システムの trace が相互作用として記述され、以前の局面のものと比較することが可能だ。</p></li>
</ul>
<p>本章では用語「事跡」を「イベント発生の列」(sequence of event occurrences) の意で用いる。</p>
<blockquote>
<div><p>We may denote this by &lt;eventoccurrence1, eventoccurrence2, …,
eventoccurrence-n&gt;. We are aware that other parts of the UML language
definition use the term “trace” for other purposes.</p>
</div></blockquote>
<p>Interaction 仕様は許可される事跡と却下される事跡に半順序 (partial ordering) 制約を課す。半順序とは、任意の system trace でイベント（複数形）が発生することが可能（または不可能）な順序を制限するものだ。</p>
<blockquote>
<div><p>The Interaction package describes the concepts needed to express
Interactions, depending on their purpose.</p>
</div></blockquote>
<p>相互作用はいくつかの異なる型の図式で示すことが可能だ：</p>
<ul class="simple">
<li><p>Sequence Diagrams</p></li>
<li><p>Interaction Overview Diagrams</p></li>
<li><p>Communication Diagrams</p></li>
<li><p>Timing Diagrams: オプション図式型</p></li>
<li><p>Interaction Tables: オプション図式型</p></li>
</ul>
<p>Interactions は計算機システム設計の専門家、潜在的な末端利用者や利害関係者らが、さまざまな詳細度で理解、製造可能であるシステムを記述するための共通の枠組だ。</p>
<blockquote>
<div><p>Typically when interactions are produced by designers or by running systems,
the case is that the interactions do not tell the complete story.</p>
</div></blockquote>
<p>プロジェクトによっては、システムの可能な trace すべてを相互作用を通じて文書化することを要求する場合がある。</p>
<blockquote>
<div><p>The most visible aspects of an Interaction are the messages between
lifelines. The sequence of the messages is considered important for the
understanding of the situation.</p>
</div></blockquote>
<p>Interactions はデータの操作には焦点を当てていない。</p>
<blockquote>
<div><p>By <em class="dfn">interleaving</em> we mean the merging of two or more traces such that
the events from different traces may come in any order in the resulting
trace, while events within the same trace retain their order.</p>
</div></blockquote>
<p>この意味は、二つのイベントがまった同時に発生すると認識される意味とは異なる。
Interactions を説明するために interleaving 意味を適用する。</p>
</section>
<section id="basic-trace-model">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">17.1.2 Basic trace model</a><a class="headerlink" href="#basic-trace-model" title="Permalink to this heading">¶</a></h3>
<p><a class="reference internal" href="ch13-common-behavior.html"><span class="doc">13 Common Behavior</span></a> では Behaviors の実行に関する一般的な意味が述べられている。Interactions とは出現挙動をモデル化する Behaviors の一種だ (13.1)。</p>
<p>Behavior の実行は実行事跡を残す。</p>
<blockquote>
<div><p>Such a trace is a sequence of event occurrences, which, in this clause, will
be denoted &lt;e1, e2, …, en&gt;.</p>
</div></blockquote>
<p>各イベント発生は、その発生時点におけるすべての関連オブジェクトの値に関する情報を含むこともある。</p>
<blockquote>
<div><p>The semantics of an Interaction are expressed in terms of a pair [P, I],
where P is the set of valid traces and I is the set of invalid traces.</p>
</div></blockquote>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(P \cup I\)</span> が事跡の全集合である必要はない。</p></li>
<li><p>二つの Interactions はその事跡集合対同士が等しい場合、等しい。</p></li>
</ul>
<blockquote>
<div><p>The semantics of each construct of an Interaction (such as the various kinds
of CombinedFragments) are expressed in terms of how they relate to a pair of
sets of traces.</p>
</div></blockquote>
<p>簡単のため、通常は有効な事跡の集合にしか言及しない。これらの事跡が最もモデル化されるものだから。</p>
</section>
<section id="partial-ordering-constraints-on-valid-and-invalid-traces">
<h3><a class="toc-backref" href="#id40" role="doc-backlink">17.1.3 Partial ordering constraints on valid and invalid traces</a><a class="headerlink" href="#partial-ordering-constraints-on-valid-and-invalid-traces" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>The set of valid traces is constrained by a partial ordering of the event
occurrences in the traces.</p>
</div></blockquote>
<p>無効な事跡の集合も同様だ。</p>
<p>相互作用図では、垂直線それぞれが工程の時間軸を表し、ページが進むにつれて時間が経過していく。</p>
<blockquote>
<div><p>The instances in an interaction in principle operate independently of each
other. No global notion of time is assumed.</p>
</div></blockquote>
<ul class="simple">
<li><p>大域的時間の概念は設けていない。</p></li>
<li><p>オブジェクト間のタイミングの依存関係は、あるメッセージを受信する前にそれを送信しなければならないという制約から来るものしかない。</p></li>
</ul>
<p>時間はオブジェクト軸それぞれに沿って上から下へと経過するが、正当な時間尺度は仮定されない。</p>
<blockquote>
<div><p>If no coregion or parallel operator is introduced, a total time ordering of
events is assumed along each instance.</p>
</div></blockquote>
<p>別々のオブジェクトのイベントはメッセージ (17.4.3) を通じて、または一般化された順序付けの枠組を通じて整列される。メッセージはそれが消費されるよりも前にまず送信されなければならない。</p>
<blockquote>
<div><p>With the generalized ordering mechanism “orderable events” on different
instances (even in different interactions) can be ordered explicitly.</p>
</div></blockquote>
<ul class="simple">
<li><p>他の順序は規定されない。</p></li>
<li><p>ゆえに、相互作用仕様は含まれるイベントの集合に対して半順序を課す。</p></li>
<li><p>推移的かつ反対称的かつ非反射的な二項関係は半順序と呼ばれる。</p></li>
</ul>
</section>
<section id="interaction-diagram-variants">
<h3><a class="toc-backref" href="#id41" role="doc-backlink">17.1.4 Interaction Diagram Variants</a><a class="headerlink" href="#interaction-diagram-variants" title="Permalink to this heading">¶</a></h3>
<p>相互作用図にはさまざまな種類がある：</p>
<dl class="simple">
<dt>Sequence Diagrams</dt><dd><p>これがもっとも普通の変種。複数の Lifelines 間の Message 交換に焦点を当てるものだ。</p>
</dd>
<dt>Communication Diagrams</dt><dd><p>通信する Lifelines の間にある有向辺が引き渡された Messages とその列の記述で装飾される、建築学的展望を通して相互作用を示す。</p>
</dd>
<dt>Interaction Overview Diagrams</dt><dd><p>制御の流れの概要を示すように相互作用を定義する。一部 Activity 図と類似した記法要素がある。これらの要素の記法と一般的な目的は両者で同じではあるが、詳細な意味はまったく異なるので、設計者は Overview 図を Activity 図であるかのように解釈するべきではない。</p>
</dd>
<dt>Timing Diagrams</dt><dd><p>図の主な目的が時間に関する思考である場合に、相互作用を示すために用いられる。UML 2.5 準拠ツールは Timing Diagrams を実装する必要はない。</p>
</dd>
</dl>
<p>本章にある Interaction 図の変種に加えて、オプションとして Interaction Tables を用いた記法がある (<a class="reference internal" href="and-tabular-notation.html"><span class="doc">Annex D: Tabular Notation for Sequence Diagrams</span></a>)。</p>
</section>
</section>
<section id="id1">
<h2><a class="toc-backref" href="#id42" role="doc-backlink">17.2 Interactions</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3><a class="toc-backref" href="#id43" role="doc-backlink">17.2.1 Summary</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>本節では次のメタクラスを規定する：</p>
<ul class="simple">
<li><p>Interaction</p></li>
<li><p>InteractionFragment</p></li>
<li><p>OccurrenceSpecification</p></li>
<li><p>ExecutionSpecification</p></li>
<li><p>StateInvariant</p></li>
</ul>
</section>
<section id="abstract-syntax">
<h3><a class="toc-backref" href="#id44" role="doc-backlink">17.2.2 Abstract Syntax</a><a class="headerlink" href="#abstract-syntax" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.1 Interactions</p>
</div></blockquote>
<p>まず抽象クラス InteractionFragment が NamedElement から特殊化されている。そして InteractionFragment から残りのメタクラス四つが特殊化されている。</p>
<p>メタクラス Interaction は InteractionFragment であると同時に Behavior でもある。</p>
</section>
<section id="semantics">
<h3><a class="toc-backref" href="#id45" role="doc-backlink">17.2.3 Semantics</a><a class="headerlink" href="#semantics" title="Permalink to this heading">¶</a></h3>
<section id="id3">
<h4><a class="toc-backref" href="#id46" role="doc-backlink">17.2.3.1 Interactions</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Interactions are units of behavior of an enclosing Classifier. Interactions
focus on the passing of information with Messages between the
ConnectableElements of the Classifier.</p>
</div></blockquote>
<p>Interaction の意味は事跡の集合の対として与えられる。その二つの事跡の集合は有効な事跡と無効な事跡を表現する。</p>
<ul class="simple">
<li><p>これら二つの集合の和は必ずしも事跡全体を網羅する必要はない。</p></li>
<li><p>含まれていない事跡はこの Interaction には全く記述されないので、我々はそれらが有効か無効かを知ることはできない。</p></li>
</ul>
<p>事跡一つはイベント発生の列であり、それぞれはモデル内の OccurrenceSpecification
により記述される。</p>
<blockquote>
<div><p>The semantics of Interactions are compositional in the sense that the
semantics of an Interaction is mechanically built from the semantics of its
constituent InteractionFragments. The constituent InteractionFragments are
ordered and combined by the seq operation (weak sequencing) as explained in
17.6.3 (Weak Sequencing)</p>
</div></blockquote>
<p>無効な事跡の集合は Negative CombinedFragment または Assertion CombinedFragment
の用途に関連する。</p>
<ul class="simple">
<li><p>前者の場合、無効な事跡の集合は明示的に指定される。</p></li>
<li><p>後者は、唯一有効な事跡の集合を明示的に指定することで、無効な事跡の集合を暗に指定する。簡単のために、他の構成要素のすべてに対して有効な事跡しか述べられていない。</p></li>
</ul>
<p>Behavior として Interaction は一般化可能かつ再定義可能だ。Interaction を特殊化することは、さらなる事跡を元の Interaction に対して単に追加することだ。この特殊化で定義される事跡は、継承した Interaction の事跡との和集合となる。</p>
<blockquote>
<div><p>The classifier owning an Interaction may be specialized, and in the
specialization the Interaction may be redefined.</p>
</div></blockquote>
<p>Interaction の再定義とは、再定義元の Interaction を再定義先の Interaction に交換することを単に意味し、この交換は所有者の基底型にある InteractionUses に対しても有効だ。このことは Behavior の他の種類の再定義と似ている。</p>
<blockquote>
<div><p>A formal Gate may be attached to the inner boundary of an Interaction to
provide a link point to establish the concrete sender and receiver through an
InteractionUse of that Interaction.</p>
</div></blockquote>
</section>
<section id="interaction-fragments">
<h4><a class="toc-backref" href="#id47" role="doc-backlink">17.2.3.2 Interaction Fragments</a><a class="headerlink" href="#interaction-fragments" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The semantics of an InteractionFragment is a pair of set of traces. See
17.1.2 for explanation of how to calculate the traces.</p>
</div></blockquote>
<p>InteractionFragment は取り囲む Interaction に直接含まれるか、CombinedFragment の
InteractionOperand に含まれるかのどちらかでよい。CombinedFragment はそれ自身が
InteractionFragment なので、Interaction 一つの内部に InteractionFragments を深く入れ子にしてもよい。</p>
</section>
<section id="occurrence-specifications">
<h4><a class="toc-backref" href="#id48" role="doc-backlink">17.2.3.3 Occurrence Specifications</a><a class="headerlink" href="#occurrence-specifications" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The semantics of an OccurrenceSpecification is just the trace of that single
OccurrenceSpecification.</p>
</div></blockquote>
<p>OccurrenceSpecification の理解とより深い意味は関連 Message とそれが伝える情報次第だ。</p>
</section>
<section id="execution-specifications">
<h4><a class="toc-backref" href="#id49" role="doc-backlink">17.2.3.4 Execution Specifications</a><a class="headerlink" href="#execution-specifications" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The trace semantics of Interactions merely see an Execution as the trace
&lt;start, finish&gt;.</p>
</div></blockquote>
<p>これらの間に発生がある場合がある。</p>
<p>通常、開始発生と終了発生は（ある Message の）受信 OccurrenceSpecification と（ある応答 Message の）送信 OccurrenceSpecification などの OccurrenceSpecifications
を表現する。</p>
</section>
<section id="state-invariants">
<h4><a class="toc-backref" href="#id50" role="doc-backlink">17.2.3.5 State Invariants</a><a class="headerlink" href="#state-invariants" title="Permalink to this heading">¶</a></h4>
<p>Constraint は実行中に評価されるものとする。</p>
<blockquote>
<div><p>The Constraint is evaluated immediately prior to the execution of the next
OccurrenceSpecification such that all actions that are not explicitly modeled
have been executed.</p>
</div></blockquote>
<p>Constraint が真の場合、その事跡は有効な事跡だ。反対に偽の場合、その事跡は無効な事跡だ。</p>
<p>言い換えると、Constraint が偽である StateInvariant を持つ事跡はすべて無効であるとみなされる。</p>
</section>
</section>
<section id="notation">
<h3><a class="toc-backref" href="#id51" role="doc-backlink">17.2.4 Notation</a><a class="headerlink" href="#notation" title="Permalink to this heading">¶</a></h3>
<section id="interaction">
<h4><a class="toc-backref" href="#id52" role="doc-backlink">17.2.4.1 Interaction</a><a class="headerlink" href="#interaction" title="Permalink to this heading">¶</a></h4>
<p>Sequence 図における Interaction を表す記法は実線矩形だ。</p>
<p>矩形の左上隅に五角形を描き、そこに文字列 <code class="docutils literal notranslate"><span class="pre">sd</span></code> と Interaction 名と引数をこの順に記す。</p>
<p>この矩形の枠内の記法には次の形式がある：</p>
<ul class="simple">
<li><p>Sequence Diagrams</p></li>
<li><p>Communication Diagrams</p></li>
<li><p>Interaction Overview Diagrams</p></li>
<li><p>Timing Diagrams</p></li>
</ul>
<p>五角形記述子の内側の記法は Behaviors の名前を表すのに用いる記法一般に従う。</p>
<ul class="simple">
<li><p>Interaction Overview Diagrams には生存線句を通して Lifelines の一覧を含めることが許される。生存線の一覧は単にその Interaction に関与する Lifelines の一覧だ。</p></li>
<li><p>Interaction Overview Diagrams はグラフ節点内のインライン Interactions の中で寿命線が明示的に出現していても、それ自体では関与する生存線を示さない。</p></li>
</ul>
<p>Interaction 図は一般的な属性と同じ構文を持つ局所的属性の定義を、クラス記号の区画内に含むことが許される。</p>
<p>これらの属性定義が図の枠の上部付近に示されることもあれば、図の他の場所にある
Comment 記号の中に示されることもある。</p>
</section>
<section id="interactionfragment">
<h4><a class="toc-backref" href="#id53" role="doc-backlink">17.2.4.2 InteractionFragment</a><a class="headerlink" href="#interactionfragment" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>There is no general notation for an InteractionFragment. The specific
subclasses of InteractionFragment define their own notation.</p>
</div></blockquote>
</section>
<section id="occurrencespecification">
<h4><a class="toc-backref" href="#id54" role="doc-backlink">17.2.4.3 OccurrenceSpecification</a><a class="headerlink" href="#occurrencespecification" title="Permalink to this heading">¶</a></h4>
<p>OccurrenceSpecifications は単に</p>
<ul class="simple">
<li><p>Messages の両端もしくは</p></li>
<li><p>ExecutionSpecification の開始・終了</p></li>
</ul>
<p>における構文的な点でしかない。</p>
</section>
<section id="executionspecification">
<h4><a class="toc-backref" href="#id55" role="doc-backlink">17.2.4.4 ExecutionSpecification</a><a class="headerlink" href="#executionspecification" title="Permalink to this heading">¶</a></h4>
<p>ExecutionSpecifications は生存線上の細い（灰色か白色の）矩形として表現される。</p>
<p>または ExecutionSpecification を幅広のラベル付き矩形により表現してもよく、ラベルはたいていは実行されたアクションを識別する (Fig. 17.16)。</p>
<blockquote>
<div><p>For ExecutionSpecifications that refer to atomic actions such as reading
attributes of a Signal (conveyed by the Message), the Action symbol may be
associated with the reception OccurrenceSpecification with a line in order to
emphasize that the whole Action is associated with only one
OccurrenceSpecification (and start and finish associations refer to the very
same OccurrenceSpecification).</p>
</div></blockquote>
<p>線の付いた OccurrenceSpecification とは？</p>
<blockquote>
<div><p>Figure 17.2 Overlapping ExecutionSpecifications</p>
</div></blockquote>
<p>同一生存線上で重なり合う ExecutionSpecifications はやはり重なり合う矩形で表現される。</p>
</section>
<section id="stateinvariant">
<h4><a class="toc-backref" href="#id56" role="doc-backlink">17.2.4.5 StateInvariant</a><a class="headerlink" href="#stateinvariant" title="Permalink to this heading">¶</a></h4>
<p>関連する可能性のある Constraint は生存線上に中括弧に囲まれたテキスト (Fig.
17.17) で示される。</p>
<blockquote>
<div><p>A conforming tool may show a StateInvariant as a Note associated with an
OccurrenceSpecification.</p>
</div></blockquote>
<p>状態記号は、Lifeline によって表されるオブジェクトの状態を検査する制約相当のものを表す。これは対応する ClassifierBehavior の <code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> の内部状態である可能性も、その Lifeline の黒箱ビューに基づく外部状態である可能性もある。前者の場合に <code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> が状態機械で記述されている場合、その状態の名前はこの状態機械の対応する状態の階層名となるべく合致する。</p>
<p>領域は状態（複数形）の直交領域を表現する。</p>
<ul class="simple">
<li><p>識別子は状態を部分的に定義しさえすればよい。</p></li>
<li><p>制約の値は指定された状態情報が真であるならば真だ。</p></li>
</ul>
</section>
<section id="formal-gate">
<h4><a class="toc-backref" href="#id57" role="doc-backlink">17.2.4.6 Formal Gate</a><a class="headerlink" href="#formal-gate" title="Permalink to this heading">¶</a></h4>
<p>形式 Gate は枠の内側にある単なる点であり、あるメッセージの端子だ。それらには明示的な名前があってもよい (Fig. 17.4)。</p>
</section>
</section>
<section id="examples">
<h3><a class="toc-backref" href="#id58" role="doc-backlink">17.2.5 Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.3 An example of an Interaction in the form of a Sequence Diagram</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">User</span></code> と <code class="docutils literal notranslate"><span class="pre">ACSystem</span></code> 型の匿名生存線間で通信されるメッセージ三つを示している。</p>
<p>矢印がメッセージ。メッセージ <code class="docutils literal notranslate"><span class="pre">CardOut</span></code> は受信イベント発生が送信元
OccurrenceSpecifications と逆の順序になっている点で、メッセージ <code class="docutils literal notranslate"><span class="pre">OK</span></code> を追い越している。このような通信は、メッセージが非同期の場合に発生することがある。</p>
<p>最後に、<code class="docutils literal notranslate"><span class="pre">out_Unlock</span></code> という暗黙的な名前を持つ形式ゲートを介して、<code class="docutils literal notranslate"><span class="pre">ACSystem</span></code>
からその環境へ四番目のメッセージが送信される。</p>
<p><code class="docutils literal notranslate"><span class="pre">UserAccepted</span></code> の局所属性 <code class="docutils literal notranslate"><span class="pre">PIN</span></code> がこの図式の先頭付近で宣言されている。図式中の他のどこかの Comment で宣言することも可能だ。</p>
<blockquote>
<div><p>Figure 17.4 OccurrenceSpecification</p>
</div></blockquote>
<p>メッセージ <code class="docutils literal notranslate"><span class="pre">msg</span></code> の矢印の根本が OccurrenceSpecification の例だ。</p>
<p>先と同様に矢印の鏃が図枠に至っている点が形式ゲートの例だ。</p>
<blockquote>
<div><p>Figure 17.5 Sequence Diagram with time and timing concepts</p>
</div></blockquote>
<p>以前やった時間にまつわる記法が再録されているので復習したい。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">User</span></code> はメッセージ <code class="docutils literal notranslate"><span class="pre">Code</span></code> を送信。その送信と受信の間の時間が測定される。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ACSystem</span></code> はメッセージを二つ <code class="docutils literal notranslate"><span class="pre">User</span></code> に送信する。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CardOut</span></code> は 0 から 13 時間単位の間継続するように制約される。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OK</span></code> 受信は <code class="docutils literal notranslate"><span class="pre">Code</span></code> 送信から <code class="docutils literal notranslate"><span class="pre">d</span></code> から <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">d</span></code> の間に制約される。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OK</span></code> 送信から <code class="docutils literal notranslate"><span class="pre">t</span></code> を観測し、受信までの時間を <code class="docutils literal notranslate"><span class="pre">t</span> <span class="pre">+</span> <span class="pre">3</span></code> 以内に制約する。</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="lifelines">
<h2><a class="toc-backref" href="#id59" role="doc-backlink">17.3 Lifelines</a><a class="headerlink" href="#lifelines" title="Permalink to this heading">¶</a></h2>
<section id="id4">
<h3><a class="toc-backref" href="#id60" role="doc-backlink">17.3.1 Summary</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<p>本節ではメタクラス Lifeline を規定する。</p>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id61" role="doc-backlink">17.3.2 Abstract Syntax</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.6 Lifelines</p>
</div></blockquote>
<p>Lifeline は NamedElement の一種。継承関係よりも関連のほうが多い。</p>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id62" role="doc-backlink">17.3.3 Semantics</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<section id="id7">
<h4><a class="toc-backref" href="#id63" role="doc-backlink">17.3.3.1 Lifelines</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>In an interaction diagram a Lifeline describes the time-line for a process,
where time increases down the page.</p>
</div></blockquote>
<p>時間軸上のイベント間の距離は、文字どおりの時間の測定値を表すのではなく、ゼロ以外の時間が経過したことを示すに過ぎない。</p>
<p>同一時間軸上のイベントは、ページの下に向かって直線的に整列される。ただし、並列に結合した断片の内部で起こる場合、すなわち余領域内の生存線に沿って発生する場合を除く。</p>
<blockquote>
<div><p>Within a parallel combined fragment or a coregion, events are not locally
ordered unless that is directly imposed by a general ordering construct. See
17.5.3 (General Ordering).</p>
</div></blockquote>
<p>Lifeline に沿った OccurrenceSpecifications の順序は、これらが発生する順序を示す重要なものだ。この Lifeline 上の OccurrenceSpecifications 間の絶対的な距離はその意味とは無関係だ。</p>
<blockquote>
<div><p>The semantics of the Lifeline (within an Interaction) is the semantics of the
Interaction selecting only OccurrenceSpecifications of this Lifeline.</p>
</div></blockquote>
</section>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id64" role="doc-backlink">17.3.4 Notation</a><a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<section id="lifeline">
<h4><a class="toc-backref" href="#id65" role="doc-backlink">17.3.4.1 Lifeline</a><a class="headerlink" href="#lifeline" title="Permalink to this heading">¶</a></h4>
<p>Lifeline は「頭」となる矩形と、参加者の生存線を表現する破線スタイルの垂直線からなる記号で示される。生存線を識別する情報は以下の形式で矩形の内側に示される：</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nc">lifelineident</span><span class="p">&gt;</span> <span class="o">::=</span> (
  [<span class="p">&lt;</span><span class="nc">connectable-element-name</span><span class="p">&gt;</span>[‘[’ <span class="p">&lt;</span><span class="nc">selector</span><span class="p">&gt;</span> ‘]’]]
  [‘:’ <span class="p">&lt;</span><span class="nc">connectable-element-type</span><span class="p">&gt;</span>]
  [<span class="p">&lt;</span><span class="nc">decomposition</span><span class="p">&gt;</span>])
  | ‘self’

<span class="p">&lt;</span><span class="nc">selector</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">expression</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nc">decomposition</span><span class="p">&gt;</span> <span class="o">::=</span> ‘ref’ <span class="p">&lt;</span><span class="nc">interactionident</span><span class="p">&gt;</span> [‘strict’]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;connectable-element-type&gt;</span></code> は ConnectableElement が型付けられた Type の名前を指す。</p></li>
<li><p>構文上は許されているが <code class="docutils literal notranslate"><span class="pre">&lt;lifelineident&gt;</span></code> を空にすることは不可能だ。</p></li>
</ul>
<p>Lifeline 頭はこの生存線が表現する部品の classifier に基づく形状だ。頭は往々にしてその名前を含む白い矩形だ。</p>
<p>名前が <code class="docutils literal notranslate"><span class="pre">self</span></code> の場合、Lifeline が表現するものは、それを所有する Interaction を囲む classifier のオブジェクトを表現する。</p>
<blockquote>
<div><p>Ports of the encloser may be shown separately even when self is included.</p>
</div></blockquote>
<p>ExecutionSpecification を描写するには、Lifeline の線を覆う薄い灰色か白色の矩形を適用する。</p>
</section>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id66" role="doc-backlink">17.3.5 Examples</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<p>Lifelines は先述した Figure 17.3 を参照。</p>
<p>ExecutionSpecification の記法を参照するには後述する Figure 17.14 を参照。</p>
</section>
</section>
<section id="messages">
<h2><a class="toc-backref" href="#id67" role="doc-backlink">17.4 Messages</a><a class="headerlink" href="#messages" title="Permalink to this heading">¶</a></h2>
<section id="id10">
<h3><a class="toc-backref" href="#id68" role="doc-backlink">17.4.1 Summary</a><a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<p>本節では次のメタクラスを規定する：</p>
<ul class="simple">
<li><p>Message</p></li>
<li><p>MessageEnd</p></li>
<li><p>MessageOccurrenceSpecification</p></li>
<li><p>MessageSort</p></li>
<li><p>MessageKind</p></li>
<li><p>DestructionOccurrenceSpecification</p></li>
<li><p>Gate</p></li>
</ul>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id69" role="doc-backlink">17.4.2 Abstract Syntax</a><a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.7 Messages</p>
</div></blockquote>
<p>Message と MessageEnd は NamedElement の一種だ。</p>
<p>MessageEnd には特殊型が直接、間接合わせて三個ある。</p>
<p>Message のある属性を実現するために列挙型 MessageKind と MessageSort がある。</p>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id70" role="doc-backlink">17.4.3 Semantics</a><a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<section id="id13">
<h4><a class="toc-backref" href="#id71" role="doc-backlink">17.4.3.1 Messages</a><a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The semantics of a complete Message is simply the trace &lt;sendEvent,
receiveEvent&gt;.</p>
<p>A lost Message is a Message where the sending event occurrence is known, but
there is no receiving event occurrence.</p>
</div></blockquote>
<p>これは Message の宛先が記述の範囲外であるためと解釈される。意味としては
<code class="docutils literal notranslate"><span class="pre">&lt;sendEvent&gt;</span></code> だ。</p>
<blockquote>
<div><p>A found Message is a Message where the receiving event occurrence is known,
but there is no (known) sending event occurrence.</p>
</div></blockquote>
<p>これは例えば、雑事であったり、詳細を記述したくない他の活動であったりする。意味としては事跡 <code class="docutils literal notranslate"><span class="pre">&lt;receiveEvent&gt;</span></code> だ。</p>
<p>Message の署名は Operation または Signal の一方を参照する。Message の名前は参照される Operation または Signal の名前と同じでなければならない。</p>
<blockquote>
<div><p>NOTE. Lifelines cannot directly represent Types. However, any Lifeline
representing a ConnectableElement with a Type having an Operation with
<code class="docutils literal notranslate"><span class="pre">isStatic</span></code> = true, can accept Messages with a <code class="docutils literal notranslate"><span class="pre">signature</span></code> associated with
that static Operation.</p>
</div></blockquote>
<p>Message 署名が Operation である場合、Message は次のうちの一つを表す：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span></code> が <code class="docutils literal notranslate"><span class="pre">synchCall</span></code> または <code class="docutils literal notranslate"><span class="pre">asyncCall</span></code> である場合、その Message
はその Operation に対する同期呼び出しまたは非同期呼び出しおよびその Operation
の実行の開始を表す。この Message の実引数はその Operation の in および inout
<code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> に対応する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span></code> が <code class="docutils literal notranslate"><span class="pre">reply</span></code> である場合、その Message はその Operation の非同期呼び出しの戻り値を表す。この Message の実引数はその Operation の out, inout,
return <code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> に対応する。</p></li>
</ul>
<p>Message 署名が Signal である場合、<code class="docutils literal notranslate"><span class="pre">messageSort</span></code> は <code class="docutils literal notranslate"><span class="pre">asyncSignal</span></code> でなければならず、この Message は Signal オブジェクトの非同期送受信を表す。この Message の実引数はこの Signal の属性に対応する。</p>
<p>Message の実引数は ValueSpecification だ。</p>
<blockquote>
<div><p>If the Message has a signature and it is not a reply Message, then its
argument ValueSpecifications are considered to be evaluated at the point of
the send event of the Message. Their results provide the values for the
corresponding Operation input parameters or Signal attributes.</p>
</div></blockquote>
<p>作用対象を持たない Expression とその記号としての空文字列からなる引数は、ワイルドカードとして特別な解釈を持ち、対応する引数または属性の不特定だが合法な値に対応する。それ以外の場合、実引数の型は対応する引数または属性の型に準拠しなければならない。</p>
<blockquote>
<div><p>If the Message is a reply, then each of its arguments must be an Expression
with at most one operand. If an operand is given, it is considered to be
evaluated at the point of the send event of the Message, and its result
provides the returned value for the out, inout or return parameter
corresponding to the argument.</p>
</div></blockquote>
<p>出力引数の型は作用対象の型に従わなければならない。作用対象が与えられない場合、その実引数に対する応答 Message によって返される値はモデル化されない。</p>
<blockquote>
<div><p>The symbol of the argument Expression of a reply Message represents the
<em>assignment target</em> for the argument, to which the returned value for the
argument is to be assigned.</p>
</div></blockquote>
<p>このような代入先記号に対する次の値は、標準的な解釈を持つ：</p>
<dl>
<dt>Unknown</dt><dd><p>空文字列であり、未知の代入対象を表す。不明な代入先とモデル化された戻り値を持たない実引数は出力ワイルドカードだ。</p>
</dd>
<dt>Interaction Parameter</dt><dd><p>包囲 Interaction の <code class="docutils literal notranslate"><span class="pre">ownedParameter</span></code> の修飾なしの名前であり、out, inout,
return Parameter のいずれかであるものとする。実引数に対応する Operation
Parameter の型は Interaction の対象となる <code class="docutils literal notranslate"><span class="pre">ownedParameter</span></code> の型に準拠する必要がある。</p>
</dd>
<dt>Attribute</dt><dd><p>包囲する相互作用の context Behavior の属性または Message の受信側 Lifeline の（修飾されるかもしれない）名前だ。</p>
<blockquote>
<div><p>If an Interaction does not have a context Behavior, then the Interaction
itself is considered to be the context. The type of the output parameter
corresponding to the argument must conform to the type of the attribute.</p>
</div></blockquote>
<p>修飾名は、同じ名前を持つ context と Lifeline の属性、または同じ名前を持つ
Interaction Parameter の属性を区別するために使われることもあることに注意。</p>
</dd>
</dl>
<p>代入先記号には他の値も許されるが、それらの解釈は本仕様で定義されない。</p>
</section>
<section id="message-ends">
<h4><a class="toc-backref" href="#id72" role="doc-backlink">17.4.3.2 Message Ends</a><a class="headerlink" href="#message-ends" title="Permalink to this heading">¶</a></h4>
<p>MessageEnd のサブクラスはそれらが表す概念に相応しい特有の意味を定義する。</p>
</section>
<section id="message-occurrence-specifications">
<h4><a class="toc-backref" href="#id73" role="doc-backlink">17.4.3.3 Message Occurrence Specifications</a><a class="headerlink" href="#message-occurrence-specifications" title="Permalink to this heading">¶</a></h4>
<p>MessageOccurrenceSpecification は二つの Lifelines の間にあるメッセージに関連する送信イベントまたは受信イベントを表す。</p>
</section>
<section id="destruction-occurrence-specifications">
<h4><a class="toc-backref" href="#id74" role="doc-backlink">17.4.3.4 Destruction Occurrence Specifications</a><a class="headerlink" href="#destruction-occurrence-specifications" title="Permalink to this heading">¶</a></h4>
<p>DestructionOccurrenceSpecification はそれを含む生存線により記述されるオブジェクトの破壊を表す。その結果、このオブジェクトが所有する他のオブジェクトが複合によって破壊される可能性がある (<a class="reference internal" href="ch13-common-behavior.html"><span class="doc">13 Common Behavior</span></a>)。</p>
</section>
<section id="gates">
<h4><a class="toc-backref" href="#id75" role="doc-backlink">17.4.3.5 Gates</a><a class="headerlink" href="#gates" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A Gate is a MessageEnd which is used on the boundary of an Interaction, or an
InteractionUse, or a CombinedFragment to establish the concrete sender and
receiver for every Message.</p>
</div></blockquote>
<p>Gate オブジェクトは、二つの Message オブジェクトを結びつける対として出現するので、それ自身に明示的な順序はない。Gates は MessageEnds であり、次のどちらかの間に接続点を与える：</p>
<ul class="simple">
<li><p>InteractionUse の外側にある Message オブジェクトと使われる Interaction の内側にある Message オブジェクト</p></li>
<li><p>CombinedFragment の外側にある Message オブジェクトと CombinedFragment 内の
InteractionOperand の内側にある Message オブジェクト</p></li>
</ul>
<p>MessageOccurrenceSpecifications は次の規則に則った半順序が入る：</p>
<ul class="simple">
<li><p>MessageOccurrenceSpecification オブジェクトは所有される Lifeline 上で整列され、</p></li>
<li><p>MessageOccurrenceSpecification オブジェクトは Message オブジェクト全体、または合致した gates の一対を通じてリンクされた Message オブジェクトの一対間で整列される。いずれの場合も、送信側の MessageOccurrenceSpecification オブジェクトは、受信側の MessageOccurenceSpecification オブジェクトよりも前に順序付けられる。</p></li>
</ul>
<p>Message オブジェクトそのものは整列されない。</p>
<blockquote>
<div><p>Gate instances, since they occur in a paired manner linking two Message
instances, are also not themselves explicitly ordered.</p>
</div></blockquote>
<p>Gates は四種類あり、関連により区別される：</p>
<dl class="simple">
<dt>形式 Gate</dt><dd><p>Interaction に関連付けられる。</p>
</dd>
<dt>実 Gate</dt><dd><p>InteractionUse に関連付けられる。</p>
</dd>
<dt>内部 CombinedFragment Gate</dt><dd><p>CombinedFragment に関連付けられる。</p>
</dd>
<dt>外部 CombinedFragment Gate</dt><dd><p>CombinedFragment に関連付けられる。</p>
</dd>
</dl>
<p>Gates は明示的にも暗黙的にも命名される。</p>
<blockquote>
<div><p>Gates may be identified either by name (if specified), or by a constructed
identifier formed by concatenating the direction of the message and the
message name (e.g., out_CardOut, in_CardOut).</p>
</div></blockquote>
<p>Gates は名前によって合致され、形式 Gate は同じ名前を持つ実 Gate と、内部
CombinedFragment Gate は同じ名前を持つ外部 CombinedFragment Gate と合致する。</p>
<p>合致する Gates に対する Messages は対応しなければならない。同一の名前と
<code class="docutils literal notranslate"><span class="pre">messageSort</span></code> と <code class="docutils literal notranslate"><span class="pre">signature</span></code> の特性値が同じで、同じ方向を向いていれば
Messages は対応する。</p>
</section>
</section>
<section id="id14">
<h3><a class="toc-backref" href="#id76" role="doc-backlink">17.4.4 Notation</a><a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h3>
<section id="message">
<h4><a class="toc-backref" href="#id77" role="doc-backlink">17.4.4.1 Message</a><a class="headerlink" href="#message" title="Permalink to this heading">¶</a></h4>
<p>Message は送信側 MessageEnd から受信側 MessageEnd までの線分として示される。この線は送信イベントから受信イベントへたどるとき、水平か下側に向いていなければならない。送信イベントと受信イベントは同一生存線上にあってもよい。</p>
<p>線分や鏃の形状は Message の性質を表す。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span> <span class="pre">==</span> <span class="pre">asynchCall</span> <span class="pre">||</span> <span class="pre">asynchSignal</span></code> ⇒ 鏃を開く</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span> <span class="pre">==</span> <span class="pre">synchCall</span></code> ⇒ 鏃を塗りつぶす</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span> <span class="pre">==</span> <span class="pre">reply</span></code> ⇒ 破線</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span> <span class="pre">==</span> <span class="pre">createMessage</span></code> ⇒ 破線＋開いた鏃</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messageSort</span> <span class="pre">==</span> <span class="pre">deleteMessage</span></code> ⇒ DestructionOccurrenceSpecification で終わる</p></li>
<li><p>消失 Message ⇒ 終点を小黒丸とする</p></li>
<li><p>発見 Message ⇒ 始点を小黒丸とする</p></li>
<li><p>Communication 図における Messages は番号とかも添える。後述。</p></li>
</ul>
<p>図中の Message ラベルの構文は BNF で定義されている：</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nc">message-label</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">request-message-label</span><span class="p">&gt;</span> | <span class="p">&lt;</span><span class="nc">reply-message-label</span><span class="p">&gt;</span> | ‘*’

<span class="p">&lt;</span><span class="nc">request-message-label</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">message-name</span><span class="p">&gt;</span> [‘(’[<span class="p">&lt;</span><span class="nc">input-argument-list</span><span class="p">&gt;</span>] ‘)’]

<span class="p">&lt;</span><span class="nc">input-argument-list</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">input-argument</span><span class="p">&gt;</span> [‘,’<span class="p">&lt;</span><span class="nc">input-argument</span><span class="p">&gt;</span>*]

<span class="p">&lt;</span><span class="nc">input-argument</span><span class="p">&gt;</span> <span class="o">::=</span> [<span class="p">&lt;</span><span class="nc">in-parameter-name</span><span class="p">&gt;</span> ‘=’] <span class="p">&lt;</span><span class="nc">value-specification</span><span class="p">&gt;</span> | ‘-’
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;message-label&gt;</span></code> が‘*’に等しい場合は、より複雑な代替の CombinedFragment の略記法で、あらゆる型のメッセージを表す。これは State Machines の米印発火装置と合致させるためだ。</p>
<blockquote>
<div><p>A request-message-label is used for all sorts of Message other than a reply.</p>
<p>The message-name appearing in a request-message-label is the name property of
the Message.</p>
</div></blockquote>
<p>Message に署名がある場合、これがその署名が参照する Operation や Signal の名前になる。そうでない場合、名前に制約はない。</p>
<blockquote>
<div><p>If a request-message-label includes an input-argument-list, then either all
input-arguments must have an in-parameter-name given or none may have one.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">&lt;in-parameter-names&gt;</span></code> が与えられない場合、<code class="docutils literal notranslate"><span class="pre">&lt;input-arguments&gt;</span></code> は Message の引数を順番に表し、<code class="docutils literal notranslate"><span class="pre">-</span></code> はワイルドカード引数を表す。</p>
<p>Message に署名がある場合、実引数は順番に Operation の in および inout の
<code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> または Signal の属性に合致する。実引数はそのような引数や属性ごとに与えられる必要がある。</p>
<blockquote>
<div><p>A request-message-label may only have input-arguments with in-parameter-names
if the Message has a signature.</p>
</div></blockquote>
<p>この場合、<code class="docutils literal notranslate"><span class="pre">&lt;input-arguments&gt;</span></code> は Operation の in および inout の
<code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> または Signal の属性と名前によって合致する。</p>
<ul class="simple">
<li><p>名前が付けられていない引数や属性は、暗黙のワイルドカード引数を持つとみなされる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;in-parameter-names&gt;</span></code> が指定されている場合、明示的なワイルドカード表記
<code class="docutils literal notranslate"><span class="pre">-</span></code> は使用されない。</p></li>
</ul>
<blockquote>
<div><p>If a request-message-label does not include an input-argument-list and the
Message has a signature, then this denotes that the Message has wildcard
arguments corresponding to all in and inout ownedParameters of an Operation
or attributes of a Signal (if any).</p>
</div></blockquote>
<p>括弧は <code class="docutils literal notranslate"><span class="pre">&lt;input-argument-list&gt;</span></code> の一部とはみなされないので、
<code class="docutils literal notranslate"><span class="pre">&lt;input-argument-list&gt;</span></code> のない <code class="docutils literal notranslate"><span class="pre">&lt;request-message-label&gt;</span></code> は
<code class="docutils literal notranslate"><span class="pre">&lt;message-name&gt;</span></code> の後に空の括弧 <code class="docutils literal notranslate"><span class="pre">()</span></code> を含めることが許される。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;reply-message-label&gt;</span></code> は応答 Message に使われる：</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nc">reply-message-label</span><span class="p">&gt;</span> <span class="o">::=</span>
  [<span class="p">&lt;</span><span class="nc">assignment-target</span><span class="p">&gt;</span> ‘=’]
  <span class="p">&lt;</span><span class="nc">message-name</span><span class="p">&gt;</span>
  [‘(’ [<span class="p">&lt;</span><span class="nc">output-argument-list</span><span class="p">&gt;</span>] ‘)’]
  [‘:’ <span class="p">&lt;</span><span class="nc">value-specification</span><span class="p">&gt;</span>]

<span class="p">&lt;</span><span class="nc">output-argument-list</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">output-argument</span><span class="p">&gt;</span> [‘,’<span class="p">&lt;</span><span class="nc">output-argument</span><span class="p">&gt;</span>]*

<span class="p">&lt;</span><span class="nc">output-argument</span><span class="p">&gt;</span> <span class="o">::=</span>
  <span class="p">&lt;</span><span class="nc">out-parameter-name</span><span class="p">&gt;</span> ‘:’ <span class="p">&lt;</span><span class="nc">value-specification</span><span class="p">&gt;</span>
  | <span class="p">&lt;</span><span class="nc">assignment-target</span><span class="p">&gt;</span> ‘=’ <span class="p">&lt;</span><span class="nc">out-parameter-name</span><span class="p">&gt;</span>
    [‘:’ <span class="p">&lt;</span><span class="nc">value-specification</span><span class="p">&gt;</span>]
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;reply-message-label&gt;</span></code> に表示される <code class="docutils literal notranslate"><span class="pre">&lt;message-name&gt;</span></code> は Message の <code class="docutils literal notranslate"><span class="pre">name</span></code>
だ。</p>
<p>Message に署名がある場合、これがその署名で参照される Operation の名前になる（その Operation の呼び出しに対する応答であるべきもの）。そうでなければ、名前は制約されない。</p>
<blockquote>
<div><p>A reply-message-label may optionally have an assignment-target given to the
left of the message-name, with a corresponding returned value denoted by the
optional value-specification given after a colon at the end of the reply-
message-label.</p>
</div></blockquote>
<ul class="simple">
<li><p>Message が return 引数を持つ Operation の署名を持つ場合、この
<code class="docutils literal notranslate"><span class="pre">&lt;assignment-target&gt;</span></code> や <code class="docutils literal notranslate"><span class="pre">&lt;value-specification&gt;</span></code> はその引数の実引数に対応する。</p></li>
<li><p>Message が return 引数を持たない署名を持つ場合、<code class="docutils literal notranslate"><span class="pre">&lt;reply-message-label&gt;</span></code> 全体に対して <code class="docutils literal notranslate"><span class="pre">&lt;assignment-target&gt;</span></code> や <code class="docutils literal notranslate"><span class="pre">&lt;value-specification&gt;</span></code> を与えることはできない。</p></li>
</ul>
<p>応答 Message が署名を持たない場合、指定できる実引数は上記のように return 引数しかない。しかし、Message が <code class="docutils literal notranslate"><span class="pre">ownParameters</span></code> が out または inout の Operationである署名を持つ場合、これらの引数に対して <code class="docutils literal notranslate"><span class="pre">&lt;output-arguments&gt;</span></code> を指定することが許される。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;output-argument&gt;</span></code> は常に、合致する引数の名前を明示的に指定する。</p></li>
<li><p>名前が付けられていない引数は、暗黙のワイルドカード実引数を持つとみなされる。したがって、<code class="docutils literal notranslate"><span class="pre">&lt;output-arguments&gt;</span></code> に明示的なワイルドカード表記は必要ない。</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">&lt;reply-message-label&gt;</span></code> が <code class="docutils literal notranslate"><span class="pre">&lt;output-argument-list&gt;</span></code> を含まず、Message が署名を持つ場合、これは Message が（もしあれば）署名の Operation のすべての out および inout <code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> に対応するワイルドカード実引数を持つことを示す。</p>
<p>括弧は <code class="docutils literal notranslate"><span class="pre">&lt;outut-argument-list&gt;</span></code> の一部とはみなされないので、
<code class="docutils literal notranslate"><span class="pre">&lt;output-argument-list&gt;</span></code> のない <code class="docutils literal notranslate"><span class="pre">&lt;reply-message-label&gt;</span></code> は
<code class="docutils literal notranslate"><span class="pre">&lt;message-name&gt;</span></code> の後に空の括弧 <code class="docutils literal notranslate"><span class="pre">()</span></code> を含めることが許される。</p>
<blockquote>
<div><p>An output-argument with an explicit assignment-target given may also
optionally include a value-specification.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;value-specification&gt;</span></code> が指定された場合、これはその実引数の戻り値を示す。</p></li>
<li><p>そうでない場合、この実引数はモデル化された戻り値を持たない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;output-argument&gt;</span></code> に明示的な <code class="docutils literal notranslate"><span class="pre">&lt;assignment-target&gt;</span></code> が指定されていない場合、未知の代入先があるとみなされる。この場合、その実引数の戻り値を示す値指定が必要だ。</p></li>
</ul>
<blockquote>
<div><p>If the identity of a reply Message is obvious (e.g., when its sendEvent is
the only reply within the extent of an ExecutionOccurence where there is only
one receipt of an Operation call message), the label may be omitted to
simplify the diagram.</p>
</div></blockquote>
<p>応答 Message に署名がある場合、その署名 Operation のすべての return, out, inout
<code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> にワイルドカード実引数が指定される。Fig. 17.2 を参照。</p>
</section>
<section id="destructionoccurrencespecification">
<h4><a class="toc-backref" href="#id78" role="doc-backlink">17.4.4.2 DestructionOccurrenceSpecification</a><a class="headerlink" href="#destructionoccurrencespecification" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 17.8 DestructionOccurrenceSpecification symbol</p>
</div></blockquote>
<p>DestructionOccurrenceSpecification は Lifeline の底部にバツ印を記すことで示す。</p>
</section>
<section id="gate">
<h4><a class="toc-backref" href="#id79" role="doc-backlink">17.4.4.3 Gate</a><a class="headerlink" href="#gate" title="Permalink to this heading">¶</a></h4>
<p>Gates は枠上の単なる点であり、メッセージの端点だ。明示的な名前を持つこともある。
Fig. 17.4 を参照。</p>
</section>
</section>
<section id="id15">
<h3><a class="toc-backref" href="#id80" role="doc-backlink">17.4.5 Examples</a><a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h3>
<p>先述の Figure 17.3 では非同期 Messages しか見なかった。こういう Messages は互いに追い抜いてもよい。</p>
<p>後述の Figure 17.14 では応答に伴う同期メソッド呼び出しを見る。またオブジェクトを生成することを表現する Message も見る。</p>
<p>後述の Figure 17.26 では Communication 図における Messages の記法を見る。</p>
<p>メッセージ識別のテキスト的構文のさまざまな応用例を Figure 17.14 で見られる。</p>
</section>
</section>
<section id="occurrences">
<h2><a class="toc-backref" href="#id81" role="doc-backlink">17.5 Occurrences</a><a class="headerlink" href="#occurrences" title="Permalink to this heading">¶</a></h2>
<section id="id16">
<h3><a class="toc-backref" href="#id82" role="doc-backlink">17.5.1 Summary</a><a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<p>本節では次のメタクラスを規定する：</p>
<ul class="simple">
<li><p>ActionExecutionSpecification</p></li>
<li><p>BehaviorExecutionSpecification</p></li>
<li><p>ExecutionOccurrenceSpecification</p></li>
<li><p>GeneralOrdering</p></li>
</ul>
</section>
<section id="id17">
<h3><a class="toc-backref" href="#id83" role="doc-backlink">17.5.2 Abstract Syntax</a><a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.9 Occurrences</p>
</div></blockquote>
<p>ExecutionSpecification の派生元が図では示されていないが、先述の
InteractionFragment だ。</p>
<p>ActionExecutionSpecification と BehaviorExecutionSpecification は兄弟。</p>
</section>
<section id="id18">
<h3><a class="toc-backref" href="#id84" role="doc-backlink">17.5.3 Semantics</a><a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<section id="action-execution-specificiations">
<h4><a class="toc-backref" href="#id85" role="doc-backlink">17.5.3.1 Action Execution Specificiations</a><a class="headerlink" href="#action-execution-specificiations" title="Permalink to this heading">¶</a></h4>
<p>(17.2.3) 参照。</p>
<p>ActionExecutionSpecification は他の挙動が所有するものであることがある作用から生じるメッセージを指定する相互作用に用いられる。</p>
</section>
<section id="behavior-execution-specifications">
<h4><a class="toc-backref" href="#id86" role="doc-backlink">17.5.3.2 Behavior Execution Specifications</a><a class="headerlink" href="#behavior-execution-specifications" title="Permalink to this heading">¶</a></h4>
<p>(17.2.3) 参照。</p>
<p>BehaviorExecutionSpecification は挙動から生じるメッセージを指定する相互作用に用いられる。</p>
</section>
<section id="execution-occurrence-specifications">
<h4><a class="toc-backref" href="#id87" role="doc-backlink">17.5.3.3 Execution Occurrence Specifications</a><a class="headerlink" href="#execution-occurrence-specifications" title="Permalink to this heading">¶</a></h4>
<p>ExecutionOccurrenceSpecification はある生存線上において ExecutionSpecification
の開始イベントもしくは終了イベントを表現する。</p>
</section>
<section id="general-orderings">
<h4><a class="toc-backref" href="#id88" role="doc-backlink">17.5.3.4 General Orderings</a><a class="headerlink" href="#general-orderings" title="Permalink to this heading">¶</a></h4>
<p>GeneralOrdering はあり得る列の集合を制限する。OccurrenceSpecifications の半順序は GeneralOrderings の集合により制約される。</p>
</section>
</section>
<section id="id19">
<h3><a class="toc-backref" href="#id89" role="doc-backlink">17.5.4 Notation</a><a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<section id="actionexecutionspecificiation">
<h4><a class="toc-backref" href="#id90" role="doc-backlink">17.5.4.1 ActionExecutionSpecificiation</a><a class="headerlink" href="#actionexecutionspecificiation" title="Permalink to this heading">¶</a></h4>
<p>17.2.4.4 節 (ExecutionSpecification) 参照。</p>
</section>
<section id="behaviorexecutionspecification">
<h4><a class="toc-backref" href="#id91" role="doc-backlink">17.5.4.2 BehaviorExecutionSpecification</a><a class="headerlink" href="#behaviorexecutionspecification" title="Permalink to this heading">¶</a></h4>
<p>17.2.4.4 節 (ExecutionSpecification) 参照。</p>
</section>
<section id="executionoccurrencespecification">
<h4><a class="toc-backref" href="#id92" role="doc-backlink">17.5.4.3 ExecutionOccurrenceSpecification</a><a class="headerlink" href="#executionoccurrencespecification" title="Permalink to this heading">¶</a></h4>
<p>ExecutionOccurrenceSpecification は生存線上の ExecutionSpecification を表す垂直な箱の始点または終点で表現される (Figure 17.2)。</p>
</section>
<section id="generalordering">
<h4><a class="toc-backref" href="#id93" role="doc-backlink">17.5.4.4 GeneralOrdering</a><a class="headerlink" href="#generalordering" title="Permalink to this heading">¶</a></h4>
<p>GeneralOrdering は二つの OccurrenceSpecifications を接続する点線として示される。矢印の方向を示す記号は線分の中ほどに描かれる。矢印の鏃には描かない。</p>
</section>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id94" role="doc-backlink">17.5.5 Examples</a><a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.10 Example showing GeneralOrdering in a sequence diagram</p>
</div></blockquote>
<p>図式中の斜めに走っている線分が GeneralOrdering の見本だと言っている。</p>
</section>
</section>
<section id="fragments">
<h2><a class="toc-backref" href="#id95" role="doc-backlink">17.6 Fragments</a><a class="headerlink" href="#fragments" title="Permalink to this heading">¶</a></h2>
<section id="id21">
<h3><a class="toc-backref" href="#id96" role="doc-backlink">17.6.1 Summary</a><a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h3>
<p>本節では次のメタクラスを規定する：</p>
<ul class="simple">
<li><p>InteractionOperand</p></li>
<li><p>InteractionConstraint</p></li>
<li><p>CombinedFragment</p></li>
<li><p>ConsiderIgnoreFragment</p></li>
<li><p>Continuation</p></li>
<li><p>InteractionOperatorKind: これは列挙体。</p></li>
</ul>
</section>
<section id="id22">
<h3><a class="toc-backref" href="#id97" role="doc-backlink">17.6.2 Abstract Syntax</a><a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.11 Fragments</p>
</div></blockquote>
<p>InteractionConstraint と InteractionOperatorKind を除いて抽象クラス
InteractionFragment の直接的または間接的特殊型だ。そのうち InteractionOperand は
Namespace の一種でもある。</p>
<p>InteractionConstraint は Constraint の特殊型だ。</p>
<p>InteractionOperatorKind はやたら literals が多い。</p>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id98" role="doc-backlink">17.6.3 Semantics</a><a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h3>
<div class="admonition-todo admonition" id="id24">
<p class="admonition-title">Todo</p>
<p>クロスリファレンスのすべてに誤植があるような気がするので問い合わせる。
17.6.3.x の x が欠けている。</p>
</div>
<section id="interaction-operands">
<h4><a class="toc-backref" href="#id99" role="doc-backlink">17.6.3.1 Interaction Operands</a><a class="headerlink" href="#interaction-operands" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An InteractionOperand is a region within a CombinedFragment, see 17.6.3
(Combined Fragment).</p>
</div></blockquote>
<p>真である guards を持つ InteractionOperand しか意味の推定に含まない。存在しない場合、真 guards を意味するとみなす。</p>
<p>InteractionOperand の意味は暗黙の seq 演算 (17.6.3.3) により結合された、その構成要素たる InteractionFragments により与えられる。</p>
</section>
<section id="interaction-constraints">
<h4><a class="toc-backref" href="#id100" role="doc-backlink">17.6.3.2 Interaction Constraints</a><a class="headerlink" href="#interaction-constraints" title="Permalink to this heading">¶</a></h4>
<p>InteractionConstraints は常に CombinedFragments (17.6.3.3) と関連して用いられる。</p>
</section>
<section id="combined-fragments">
<h4><a class="toc-backref" href="#id101" role="doc-backlink">17.6.3.3 Combined Fragments</a><a class="headerlink" href="#combined-fragments" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The semantics of a CombinedFragment is dependent upon the
<code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code>, as explained below for each kind of
<code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code>.</p>
</div></blockquote>
<p>CombinedFragment に関連付けられた Gates は CombinedFragment とその周囲との間の構文インターフェイスを表現する。これは他の InteractionFragments に対するインターフェイスであることを意味する。</p>
</section>
<section id="consider-ignore-fragments">
<h4><a class="toc-backref" href="#id102" role="doc-backlink">17.6.3.4 Consider Ignore Fragments</a><a class="headerlink" href="#consider-ignore-fragments" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ConsiderIgnoreFragment is a CombinedFragment with an Ignore or Consider
<code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> value. See 17.6.3 (Ignore / Consider).</p>
</div></blockquote>
</section>
<section id="continuations">
<h4><a class="toc-backref" href="#id103" role="doc-backlink">17.6.3.5 Continuations</a><a class="headerlink" href="#continuations" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Continuations have semantics only in connection with Alternative
CombinedFragments and (weak) sequencing.</p>
</div></blockquote>
<p>Alternative CombinedFragment の InteractionOperand が名前 X の Continuation で終わる場合、その Continuation X から始まる InteractionFragments しか追加不能だ。</p>
</section>
<section id="interaction-operator-kind-values">
<h4><a class="toc-backref" href="#id104" role="doc-backlink">17.6.3.6 Interaction Operator Kind Values</a><a class="headerlink" href="#interaction-operator-kind-values" title="Permalink to this heading">¶</a></h4>
<p>CombinedFragment の意味を決定するのに <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> の値が重要だ。</p>
</section>
<section id="alternatives">
<h4><a class="toc-backref" href="#id105" role="doc-backlink">17.6.3.7 Alternatives</a><a class="headerlink" href="#alternatives" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>alt</strong> は CombinedFragment が挙動の選択肢の一つを表現することを示す。</p>
<ul class="simple">
<li><p>高々一つの作用対象が選ばれる。</p></li>
<li><p>選択された作用対象はその相互作用のこの時点で真であると評価される guard 式を持たねばならない。</p></li>
<li><p>その作用対象が guard を持たない場合、真 guard が暗黙の了解で定まる。</p></li>
</ul>
<p>選択肢一つを定義する事跡の集合は、作用対象の（guard された）事跡の和集合だ。</p>
<p><code class="docutils literal notranslate"><span class="pre">else</span></code> によって guard される作用対象は CombinedFragment が囲んでいる他の
guards すべての論理和を指す。</p>
<p>作用対象が真と評価される guards を何も持たない場合、どの作用対象も実行されず、囲んでいる InteractionFragment の残りの部分が実行される。</p>
<p>内部 CombinedFragment Gate が alt CombinedFragment の InteractionOperand のどれかに用いられる場合、同名の Gate がその alt CombinedFragment の
InteractionOperand それぞれで用いられなければならない。</p>
</section>
<section id="option">
<h4><a class="toc-backref" href="#id106" role="doc-backlink">17.6.3.8 Option</a><a class="headerlink" href="#option" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>opt</strong> は CombinedFragment がその（ただ一つの）作用対象が起こるのか、何も起こらないのかの挙動の選択肢一つを表現することを示す。</p>
<blockquote>
<div><p>An option is semantically equivalent to an alternative CombinedFragment where
there is one operand with non-empty content and the second operand is empty.</p>
</div></blockquote>
</section>
<section id="break">
<h4><a class="toc-backref" href="#id107" role="doc-backlink">17.6.3.9 Break</a><a class="headerlink" href="#break" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>break</strong> は、作用対象が包囲 InteractionFragment の残りの部分の代わりに行われるシナリオであるという意味で、CombinedFragment がシナリオの中断を表現することを示す。</p>
<ul class="simple">
<li><p>その guard が真であるとき、それがある break 作用が選ばれ、包囲
InteractionFragment の残りが無視される。</p></li>
<li><p>作用対象の guard が偽であるとき、それがある break 作用は無視され、包囲
InteractionFragment の残りが選ばれる。</p></li>
</ul>
<blockquote>
<div><p>The choice between a break operand without a guard and the rest of the
enclosing InteractionFragment is done non-deterministically.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> break のある CombinedFragment は包囲 InteractionFragment
の Lifelines すべてをなるべく覆う。</p>
</section>
<section id="parallel">
<h4><a class="toc-backref" href="#id108" role="doc-backlink">17.6.3.10 Parallel</a><a class="headerlink" href="#parallel" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>par</strong> は CombinedFragment が作用対象の挙動の間の並列合併を表現することを示す。異なる作用対象の OccurrenceSpecifications は各作用対象が課す順序が保存される限りは、どのような方法でも interleave 可能だ。</p>
<p>並列合併は作用対象内の OccurrenceSpecifications の順序を乱すことなく、作用対象の
OccurrenceSpecifications を interleave する手段すべてを記述する事跡の集合を定義する。</p>
</section>
<section id="weak-sequencing">
<h4><a class="toc-backref" href="#id109" role="doc-backlink">17.6.3.11 Weak Sequencing</a><a class="headerlink" href="#weak-sequencing" title="Permalink to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>seq</strong> は CombinedFragment が作用対象の挙動間における弱い順序付けを表現することを示す。</p>
<p>弱い順序付けは次の性質を有する事跡の集合で定義される：</p>
<ol class="arabic simple">
<li><p>作用対象それぞれの内部にある OccurrenceSpecifications の順序はその結果で維持される。</p></li>
<li><p>異なる作用対象からの異なる生存線上の OccurrenceSpecifications はどのような順序で来てもよい。</p></li>
<li><p>異なる作用対象からの同一生存線上の OccurrenceSpecifications は、最初の作用対象の OccurrenceSpecification がその次の作用対象のそれの前に来るように順序付けられる。</p></li>
</ol>
<p>弱い順序付けは作用対象が関与者の共通部分のない集合にある場合、並列合併に縮約する。作用対象が単一関与者にしか作用しない場合、厳密な順序付けになる。</p>
</section>
<section id="strict-sequencing">
<h4><a class="toc-backref" href="#id110" role="doc-backlink">17.6.3.12 Strict Sequencing</a><a class="headerlink" href="#strict-sequencing" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>strict</strong> designates that the CombinedFragment
represents a strict sequencing between the behaviors of the operands.</p>
</div></blockquote>
<p>厳密な順序付けの意味は、その CombinedFragment 内の一階の作用対象の狭義順序を
<code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> strict で定義する。したがって、CombinedFragment 内の
OccurrenceSpecification は包囲 CombinedFragment の他の OccurrenceSpecifications
と直接比較されることはない。</p>
</section>
<section id="negative">
<h4><a class="toc-backref" href="#id111" role="doc-backlink">17.6.3.13 Negative</a><a class="headerlink" href="#negative" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>neg</strong> designates that the CombinedFragment represents
traces that are defined to be invalid.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> が否である CombinedFragment を定義した事跡の集合は、その（ただ一つの）作用対象によって与えられた事跡の集合と等しいが、この集合は有効な事跡ではなく無効な事跡の集合だ。</p>
<blockquote>
<div><p>All InteractionFragments that are different from Negative are considered
positive meaning that they describe traces that are valid and should be
possible.</p>
</div></blockquote>
</section>
<section id="critical-region">
<h4><a class="toc-backref" href="#id112" role="doc-backlink">17.6.3.14 Critical Region</a><a class="headerlink" href="#critical-region" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>critical</strong> designates that the CombinedFragment
represents a critical region. A critical region means that the traces of the
region cannot be interleaved by other OccurrenceSpecifications (on those
Lifelines covered by the region).</p>
</div></blockquote>
<p>これは有効な事跡の集合を決定する際に、その区域が包囲断片によって不可分的に扱われることを意味する。</p>
<blockquote>
<div><p>Even though enclosing CombinedFragments may imply that some
OccurrenceSpecifications may interleave into the region, such as with
par-operator, this is prevented by defining a region</p>
</div></blockquote>
<p>このように、包囲構成要素の事跡の集合は critical 区域により制限される。</p>
</section>
<section id="ignore-consider">
<h4><a class="toc-backref" href="#id113" role="doc-backlink">17.6.3.15 Ignore / Consider</a><a class="headerlink" href="#ignore-consider" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>ignore</strong> designates that there are some message types
that are not shown within this combined fragment.</p>
</div></blockquote>
<p>これらのメッセージ型は重要でないと考えることが可能で、対応する実行に現れると暗黙のうちに無視される。あるいは、無視されるメッセージ型は事跡のどこに現れても構わないという意味で了解することも可能だ。</p>
<blockquote>
<div><p>Conversely, the <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>consider</strong> designates which
messages should be considered within this combined fragment. This is
equivalent to defining every other message to be ignored.</p>
</div></blockquote>
</section>
<section id="assertion">
<h4><a class="toc-backref" href="#id114" role="doc-backlink">17.6.3.16 Assertion</a><a class="headerlink" href="#assertion" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> assert designates that the CombinedFragment
represents an assertion.</p>
</div></blockquote>
<p>主張の作用対象の列はただ一つの有効な継続だ。それ以外の継続は無効な事跡となる。</p>
<p>主張は多くの場合、Fig. 17.17 に示すように Ignore や Consider と組み合わせる。</p>
</section>
<section id="loop">
<h4><a class="toc-backref" href="#id115" role="doc-backlink">17.6.3.17 Loop</a><a class="headerlink" href="#loop" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">interactionOperator</span></code> <strong>loop</strong> designates that the CombinedFragment
represents a loop.</p>
</div></blockquote>
<p>ループ作用対象は反復回数だ。</p>
<ul class="simple">
<li><p>ガードには、ループの反復回数の下限と上限、および真偽式を指定してもよい。</p></li>
<li><p>ループは最小で minint 回、最大で maxint 回反復する。ガードの反復式で指定する。</p></li>
<li><p>最小回数の反復が実行され、論理式が偽の場合、ループは終了する。</p></li>
<li><p>ループ構文は seq 演算子を再帰的に適用したもので、ループ作用対象はそれ以前の反復処理の結果の後に列をなす。</p></li>
</ul>
<blockquote>
<div><p>If the loop contains a separate InteractionConstraint with a specification,
the loop will only continue if that specification evaluates to true during
execution regardless of the minimum number of iterations specified in the
loop.</p>
</div></blockquote>
</section>
</section>
<section id="id25">
<h3><a class="toc-backref" href="#id116" role="doc-backlink">17.6.4 Notation</a><a class="headerlink" href="#id25" title="Permalink to this heading">¶</a></h3>
<section id="interactionoperand">
<h4><a class="toc-backref" href="#id117" role="doc-backlink">17.6.4.1 InteractionOperand</a><a class="headerlink" href="#interactionoperand" title="Permalink to this heading">¶</a></h4>
<p>InteractionOperands は水平な破線で分離される。この InteractionOperands が一緒になって枠で囲まれたCombinedFragment を構成する。</p>
<p>Sequence 図の InteractionOperand の内側では InteractionFragments の順序は単にいちばん上の垂直位置で与えられる。</p>
</section>
<section id="interactionconstraint">
<h4><a class="toc-backref" href="#id118" role="doc-backlink">17.6.4.2 InteractionConstraint</a><a class="headerlink" href="#interactionconstraint" title="Permalink to this heading">¶</a></h4>
<p>InteractionConstraint はその包含 Interaction または InteractionOperand の中にあり、最初のイベント発生が起こる生存線を覆う角括弧で示され、そのイベントの上に位置する。</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nc">interactionconstraint</span><span class="p">&gt;</span> <span class="o">::=</span> ‘[’ (<span class="p">&lt;</span><span class="nc">Boolean-expression</span><span class="p">&gt;</span> | ‘else’) ‘]’
</pre></div>
</div>
<p>InteractionConstraint が省略されているときには真が仮定される。</p>
</section>
<section id="combinedfragment">
<h4><a class="toc-backref" href="#id119" role="doc-backlink">17.6.4.3 CombinedFragment</a><a class="headerlink" href="#combinedfragment" title="Permalink to this heading">¶</a></h4>
<p>Sequence 図の CombinedFragment の表記は実線の矩形だ。演算子はその矩形の左上隅の五角形中に示される。</p>
<p>五角形の記述子中に演算子が複数示されてもかまわない。これは入れ子になった
CombinedFragment の速記法だ。つまり、五角形記述子にある sd strict は入れ子になった二つの CombinedFragments と同じであり、いちばん外側が sd で内側が strict だ。</p>
<p>CombinedFragment の作用対象はこの CombinedFragment のグラフ領域を水平線でタイル貼りし、作用対象に対応する領域群に分割して表示される。</p>
</section>
<section id="considerignorefragment">
<h4><a class="toc-backref" href="#id120" role="doc-backlink">17.6.4.4 ConsiderIgnoreFragment</a><a class="headerlink" href="#considerignorefragment" title="Permalink to this heading">¶</a></h4>
<p>ConsiderIgnoreFragment の表記は CombinedFragments のすべてと同じで、
<strong>consider</strong> または <strong>ignore</strong> が演算子を示す。そのメッセージの一覧は次の書式に従って中括弧で囲まれた作用対象に続く：</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>(‘ignore’ | ‘consider’) ‘{’ <span class="p">&lt;</span><span class="nc">message-name</span><span class="p">&gt;</span> [‘,’ <span class="p">&lt;</span><span class="nc">message-name</span><span class="p">&gt;</span>]* ‘}’
</pre></div>
</div>
<blockquote>
<div><p>Note that ignore and consider can be combined with other types of operations
in a single rectangle (as a shorthand for nested rectangles), such as assert
consider {msgA, msgB}.</p>
</div></blockquote>
</section>
<section id="continuation">
<h4><a class="toc-backref" href="#id121" role="doc-backlink">17.6.4.5 Continuation</a><a class="headerlink" href="#continuation" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Continuations are shown with the same symbol as States, but they may cover
more than one Lifeline.</p>
</div></blockquote>
<p>Continuations は Interaction Overview 図の動線上に現れることもある。</p>
<p>InteractionFragment の中で単独で存在する Continuation は、それを包囲する
InteractionFragment の末端にあるとみなされる。</p>
</section>
<section id="interactionoperatorkind">
<h4><a class="toc-backref" href="#id122" role="doc-backlink">17.6.4.6 InteractionOperatorKind</a><a class="headerlink" href="#interactionoperatorkind" title="Permalink to this heading">¶</a></h4>
<p>InteractionOperatorKind の値は CombinedFragment 枠の左上隅の小区画でテキストとして与えられる。後述する特別な表記法がある。</p>
</section>
<section id="strict-interactionoperator">
<h4><a class="toc-backref" href="#id123" role="doc-backlink">17.6.4.7 Strict interactionOperator</a><a class="headerlink" href="#strict-interactionoperator" title="Permalink to this heading">¶</a></h4>
<p>記法上は、含まれる断片の垂直座標が、一つの Lifeline 上だけでなく、
CombinedFragment の全範囲において重要であることを意味する。</p>
<ul class="simple">
<li><p>OccurrenceSpecification の垂直位置は、対応する点の垂直位置で指定される。</p></li>
<li><p>他の InteractionFragments の垂直位置は、その外接矩形の最上部の垂直位置で与えられる。</p></li>
</ul>
</section>
<section id="ignore-consider-interactionoperator">
<h4><a class="toc-backref" href="#id124" role="doc-backlink">17.6.4.8 Ignore / Consider interactionOperator</a><a class="headerlink" href="#ignore-consider-interactionoperator" title="Permalink to this heading">¶</a></h4>
<p>17.6.4.4 節参照。</p>
</section>
<section id="loop-interactionoperator">
<h4><a class="toc-backref" href="#id125" role="doc-backlink">17.6.4.9 Loop interactionOperator</a><a class="headerlink" href="#loop-interactionoperator" title="Permalink to this heading">¶</a></h4>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span>‘loop’ [ ‘(’ <span class="p">&lt;</span><span class="nc">minint</span><span class="p">&gt;</span> [‘,’ <span class="p">&lt;</span><span class="nc">maxint</span><span class="p">&gt;</span> ] ‘)’]
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;minint&gt;</span></code> は正の整数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;maxint&gt;</span></code> は正の整数。<code class="docutils literal notranslate"><span class="pre">&lt;minint&gt;</span></code> より大きいか等しいか制限なしを意味する
<code class="docutils literal notranslate"><span class="pre">*</span></code>.</p></li>
</ul>
<blockquote>
<div><p>If only &lt;minint&gt; is present, this means that &lt;minint&gt; = &lt;maxint&gt; = &lt;integer&gt;.</p>
<p>If only loop, then this means a loop with unlimited upper bound and with 0 as lower bound.</p>
</div></blockquote>
</section>
<section id="parallel-interactionoperator">
<h4><a class="toc-backref" href="#id126" role="doc-backlink">17.6.4.10 Parallel interactionOperator</a><a class="headerlink" href="#parallel-interactionoperator" title="Permalink to this heading">¶</a></h4>
<p>適合ツールは単一 Lifeline 内にある “coregion area” の速記法を用いてよい。</p>
<p>この “coregion” とは、並列結合断片を表す略記法であり、ある Lifeline 上のイベント発生（または他の入れ子になった断片）の順序が重要でない一般的な状況で用いられる。
Fig. 17.23 参照。</p>
</section>
</section>
<section id="id26">
<h3><a class="toc-backref" href="#id127" role="doc-backlink">17.6.5 Examples</a><a class="headerlink" href="#id26" title="Permalink to this heading">¶</a></h3>
<p>InteractionOperand の見本については Figure 17.14 を参照。</p>
<p>InteractionConstraints の見本については Figure 17.14, Figure 17.27 を参照。</p>
<p>さまざまな <code class="docutils literal notranslate"><span class="pre">interactionOperators</span></code> のある CombinedFragments の見本については
Figure 17.12, 17.13, 17.14 を参照。</p>
<blockquote>
<div><p>Figure 17.12 Critical Region</p>
</div></blockquote>
<p>演算子 <strong>par</strong> と <strong>critical</strong> の見本。米国における 911 呼び出しの処理が切れ目なく処理されなければならないことを示している。</p>
<blockquote>
<div><p>The operator must make sure to forward the 911-call before doing anything
else. The normal calls, however, can be freely interleaved.</p>
</div></blockquote>
<p>呼び出しの順序を任意に入れ替えていいと言っている。</p>
<blockquote>
<div><p>Figure 17.13 Loop CombinedFragment</p>
</div></blockquote>
<p>演算子 <strong>loop</strong> の見本。防御付きの方は入れ子になっている。</p>
<blockquote>
<div><p>Figure 17.14 CombinedFragment</p>
</div></blockquote>
<p>演算子 <strong>alt</strong> の見本。場合分けであることが図からわかればいい。</p>
<blockquote>
<div><p>Figure 17.15 Continuation</p>
</div></blockquote>
<p>Sequence 図が二つに分割されていて、左側の図中の <strong>ref</strong> 区画が右側の Sequence 図自体に対応している。</p>
<blockquote>
<div><p>Figure 17.16 Continuation interpretation</p>
</div></blockquote>
<p>前述の左右の Sequence 図を合体させるとこれと等価になる。</p>
<blockquote>
<div><p>Figure 17.17 Ignore, <code class="docutils literal notranslate"><span class="pre">consider</span></code>, <code class="docutils literal notranslate"><span class="pre">assert</span></code> with StateInvariants</p>
</div></blockquote>
<p>図の見出しに <code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">M</span> <span class="pre">Ignore</span> <span class="pre">{t,</span> <span class="pre">r}</span></code> とあるので、メッセージタイプが <code class="docutils literal notranslate"><span class="pre">t</span></code> および
<code class="docutils literal notranslate"><span class="pre">r</span></code> のものは無視されている。実システムではこれらのメッセージを処理するだろうが、この Interaction では関係がないと言っている。</p>
<p><code class="docutils literal notranslate"><span class="pre">Y</span></code> にある <code class="docutils literal notranslate"><span class="pre">mystate</span></code> は StateInvariant の例。実行時に <code class="docutils literal notranslate"><span class="pre">mystate</span></code> の後に
<code class="docutils literal notranslate"><span class="pre">Y</span></code> で発生するイベントの直前で評価される。</p>
<blockquote>
<div><p>This may be the reception of q as specified within the assert-fragment, or it
may be an event that is specified to be insignificant by the filters.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">consider</span></code> 断片に入れ子になっている <code class="docutils literal notranslate"><span class="pre">assert</span></code> 断片は、ここでメッセージ <code class="docutils literal notranslate"><span class="pre">v</span></code>
が発生すると、メッセージ <code class="docutils literal notranslate"><span class="pre">q</span></code> が起こることを期待しているという意味だ。<code class="docutils literal notranslate"><span class="pre">v</span></code>,
<code class="docutils literal notranslate"><span class="pre">w</span></code>, <code class="docutils literal notranslate"><span class="pre">q</span></code> 以外のメッセージの出現はテストでは無視される。したがって、<code class="docutils literal notranslate"><span class="pre">v</span></code> の後に <code class="docutils literal notranslate"><span class="pre">w</span></code> が出現するのは無効な事跡だ。</p>
<p><code class="docutils literal notranslate"><span class="pre">{Y.p</span> <span class="pre">==</span> <span class="pre">15}</span></code> なる StateInvariant は <code class="docutils literal notranslate"><span class="pre">Y</span></code> の次の事象発生に先立って評価される。</p>
</section>
</section>
<section id="interaction-uses">
<h2><a class="toc-backref" href="#id128" role="doc-backlink">17.7 Interaction Uses</a><a class="headerlink" href="#interaction-uses" title="Permalink to this heading">¶</a></h2>
<section id="id27">
<h3><a class="toc-backref" href="#id129" role="doc-backlink">17.7.1 Summary</a><a class="headerlink" href="#id27" title="Permalink to this heading">¶</a></h3>
<p>本節では次のメタクラスを規定する：</p>
<ul class="simple">
<li><p>InteractionUse</p></li>
<li><p>PartDecomposition</p></li>
</ul>
</section>
<section id="id28">
<h3><a class="toc-backref" href="#id130" role="doc-backlink">17.7.2 Abstract Syntax</a><a class="headerlink" href="#id28" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.18 InteractionUses</p>
</div></blockquote>
<p>InteractionUse は InteractionFragment の特殊型。ValueSpecification に二種類の複合関連、Gate に 複合関連、Interaction に関連がある。</p>
<p>PartDecomposition は InteractionUse の特殊型。Lifeline から参照される。</p>
</section>
<section id="id29">
<h3><a class="toc-backref" href="#id131" role="doc-backlink">17.7.3 Semantics</a><a class="headerlink" href="#id29" title="Permalink to this heading">¶</a></h3>
<section id="id30">
<h4><a class="toc-backref" href="#id132" role="doc-backlink">17.7.3.1 Interaction Uses</a><a class="headerlink" href="#id30" title="Permalink to this heading">¶</a></h4>
<p>InteractionUse の意味は、参照先 Interaction の意味の事跡の集合であり、その門が解決され、その引数を置き換える実引数など、すべての一般部分が束縛されている。</p>
<p>実 Gate はその InteractionUse によって参照される Interaction の具体的な発送者と受領者を設置するための接続点を備えるために、その InteractionUse の外側の境界に取り付けられることがある。</p>
</section>
<section id="part-decompositions">
<h4><a class="toc-backref" href="#id133" role="doc-backlink">17.7.3.2 Part Decompositions</a><a class="headerlink" href="#part-decompositions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Decomposition of a lifeline within one Interaction by an Interaction (owned
by the type of the Lifeline’s associated ConnectableElement), is interpreted
exactly as an InteractionUse.</p>
</div></blockquote>
<p>その分解生存線から出入りするメッセージは実 gates として解釈され、その分解上の対応する形式 gates に合致する。</p>
<p>分解された Lifeline は InteractionUse として解釈されるので、PartDecompositionの意味は門と引数が合致した分解により参照される Interaction の意味だ。</p>
<p>CombinedFragment が大域外 (extra-global) であるということは、同じ演算子を持つ
CombinedFragment がその Interaction において分解 Lifeline を覆うことだ。そのより上の階層の CombinedFragment を完全に理解するには、分解作用対象を作用対象ごとに組み合わせる必要がある。</p>
</section>
</section>
<section id="id31">
<h3><a class="toc-backref" href="#id134" role="doc-backlink">17.7.4 Notation</a><a class="headerlink" href="#id31" title="Permalink to this heading">¶</a></h3>
<section id="interactionuse">
<h4><a class="toc-backref" href="#id135" role="doc-backlink">17.7.4.1 InteractionUse</a><a class="headerlink" href="#interactionuse" title="Permalink to this heading">¶</a></h4>
<p>InteractionUse は演算子が <strong>ref</strong> と呼ばれる CombinedFragment 記号として示される。名前の構文：</p>
<div class="highlight-bnf notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nc">name</span><span class="p">&gt;</span> <span class="o">::=</span>
   [<span class="p">&lt;</span><span class="nc">attribute-name</span><span class="p">&gt;</span>‘=’]
   [<span class="p">&lt;</span><span class="nc">collaboration-use</span><span class="p">&gt;</span>‘.’]
   <span class="p">&lt;</span><span class="nc">interaction-name</span><span class="p">&gt;</span>
   [‘(’<span class="p">&lt;</span><span class="nc">io-argument</span><span class="p">&gt;</span> [‘,’<span class="p">&lt;</span><span class="nc">io-argument</span><span class="p">&gt;</span>]* ‘)’]
   [‘:’<span class="p">&lt;</span><span class="nc">return-value</span><span class="p">&gt;</span>]

<span class="p">&lt;</span><span class="nc">io-argument</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">in-argument</span><span class="p">&gt;</span> | ‘out’ <span class="p">&lt;</span><span class="nc">out-argument</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;attribute-name&gt;</span></code> は Interaction 内の生存線の一つの属性を指す。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;collaboration-use&gt;</span></code> は協力の生存線を束縛する協力使用の識別だ。その場合、相互作用名はその協力内にある。Fig. 17.24 参照。</p>
<p><code class="docutils literal notranslate"><span class="pre">&lt;io-argumnet&gt;</span></code> は多くの場合 IN 引数に対する実引数だ。OUT または INOUT 引数があり、出力値を記述する場合は <code class="docutils literal notranslate"><span class="pre">out</span></code> に続けて記述することが可能だ。</p>
<blockquote>
<div><p>The syntax of argument is explained in the notation sub clause of Messages
17.4.4 (Message).</p>
<p>If the InteractionUse returns a value, this may be described following a
colon at the end of the clause.</p>
</div></blockquote>
</section>
<section id="partdecomposition">
<h4><a class="toc-backref" href="#id136" role="doc-backlink">17.7.4.2 PartDecomposition</a><a class="headerlink" href="#partdecomposition" title="Permalink to this heading">¶</a></h4>
<p>PartDecomposition は (17.3.4) で見られるように Lifeline の見出しにある参照する節により示される。</p>
<p>部品分解が分解された生存線の下にインラインで示されて、分解句が <code class="docutils literal notranslate"><span class="pre">strict</span></code> であれば、これはインライン分解内にある部分生存線すべての上にある構成要素が全順序で整列されることを示す (17.6.4)。</p>
<p>余分な大域 CombinedFragments はその矩形枠が分解 Interaction の境界の外側に出る。</p>
<section id="style-guidelines">
<h5>17.7.4.2.1 Style Guidelines<a class="headerlink" href="#style-guidelines" title="Permalink to this heading">¶</a></h5>
<p>分解に関与する Interaction の名前は、分解される Part の型名と、分解の起点となる
Interaction の名前を含めるとよい。Fig 17.21 参照。</p>
</section>
</section>
</section>
<section id="id32">
<h3><a class="toc-backref" href="#id137" role="doc-backlink">17.7.5 Examples</a><a class="headerlink" href="#id32" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.19 InteractionUse</p>
</div></blockquote>
<p>左上隅に <strong>ref</strong> のタグの付いた矩形が InteractionUse の見本だ。</p>
<p><code class="docutils literal notranslate"><span class="pre">EstablishAccess</span></code> のほうは実引数まで記してある。一方 <code class="docutils literal notranslate"><span class="pre">OpenDoor</span></code> のほうは引数をとらない。</p>
<blockquote>
<div><p>Figure 17.20 InteractionUse with value return</p>
</div></blockquote>
<p>評価値を返す挙動をモデル化する、より高度な Interaction だ。</p>
<ul class="simple">
<li><p>Lifeline <code class="docutils literal notranslate"><span class="pre">a_op_b</span></code> がこの Interaction の戻り値。</p></li>
<li><p>Lifeline <code class="docutils literal notranslate"><span class="pre">w</span></code> がこの Interaction の入出力引数。</p></li>
<li><p>InteractionUse は <code class="docutils literal notranslate"><span class="pre">a_util_b</span></code> という別の生存線を参照している。</p>
<ul>
<li><p>オブジェクト <code class="docutils literal notranslate"><span class="pre">:xx</span></code> の属性 <code class="docutils literal notranslate"><span class="pre">xc</span></code> に戻り値 9 を代入することを示す。</p></li>
<li><p>入出力引数 <code class="docutils literal notranslate"><span class="pre">w</span></code> の出力としての値が 12 であることを示す。</p></li>
</ul>
</li>
</ul>
<blockquote>
<div><p>Figure 17.21 PartDecomposition - the decomposed part</p>
</div></blockquote>
<p>右の Lifeline の見出しの二行目に <code class="docutils literal notranslate"><span class="pre">ref</span> <span class="pre">AC_UserAccess</span></code> と記されている。この一本に見える Lifeline が実は次に示す sd と等価だ。</p>
<blockquote>
<div><p>Figure 17.22 PartDecomposition - the decomposition</p>
</div></blockquote>
<p>前述の <code class="docutils literal notranslate"><span class="pre">ACSystem</span></code> を分解がこの図だ。この <code class="docutils literal notranslate"><span class="pre">AC_UserAccess</span></code> はクラス
<code class="docutils literal notranslate"><span class="pre">ACSystem</span></code> が 所有する Interaction だ。</p>
<p><code class="docutils literal notranslate"><span class="pre">AC_UserAccess</span></code> には <code class="docutils literal notranslate"><span class="pre">ACSystem</span></code> を覆う <code class="docutils literal notranslate"><span class="pre">UserAccess</span></code> の構成要素に合致する大域的構成要素がある。</p>
<p>この Interaction の枠をはみ出ている、左上隅に <strong>opt</strong> とあるのが extra-global
CombinedFragment の例だ。この構文は <code class="docutils literal notranslate"><span class="pre">UserAccess</span></code> の CombinedFragment に対応する。</p>
<blockquote>
<div><p>However, we want to indicate that the operands of extra global interaction
groups are combined one-to-one with similar extra global interaction groups
of other decompositions of the same original CombinedFragment.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">:AccessPoint</span></code> の下に付いている <code class="docutils literal notranslate"><span class="pre">p1</span></code> と <code class="docutils literal notranslate"><span class="pre">p2</span></code> は <code class="docutils literal notranslate"><span class="pre">inner</span></code>
ConnectableElements だ。</p>
<blockquote>
<div><p>Figure 17.23 Sequence Diagrams where two Lifelines refer to the same set of
Parts (and Internal Structure)</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">sd</span> <span class="pre">N</span></code> 内の左向きのメッセージを受け取る順序は任意だ。このことを示すのが、角括弧で挟まれた部分 (coregion) だ。</p>
<p>この coregion 内で成立している条件が StateInvariant <code class="docutils literal notranslate"><span class="pre">{x</span> <span class="pre">==</span> <span class="pre">2}</span></code> だ。</p>
<blockquote>
<div><p>Figure 17.24 Describing Collaborations and their binding</p>
</div></blockquote>
<p>クラス <code class="docutils literal notranslate"><span class="pre">E</span></code> に記述されている <code class="docutils literal notranslate"><span class="pre">A</span></code> と <code class="docutils literal notranslate"><span class="pre">B</span></code> は、<code class="docutils literal notranslate"><span class="pre">W</span></code> によるとそれぞれ
<code class="docutils literal notranslate"><span class="pre">superA</span></code> と <code class="docutils literal notranslate"><span class="pre">superB</span></code> の特殊型だ。二つの匿名部分 <code class="docutils literal notranslate"><span class="pre">:A</span></code> と <code class="docutils literal notranslate"><span class="pre">:B</span></code> があり、
<code class="docutils literal notranslate"><span class="pre">W</span></code> の CollaborationUse <code class="docutils literal notranslate"><span class="pre">w1</span></code> は <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> を <code class="docutils literal notranslate"><span class="pre">:A</span></code> と <code class="docutils literal notranslate"><span class="pre">:B</span></code> にそれぞれ束する。</p>
<p>Sequence 図 <code class="docutils literal notranslate"><span class="pre">P</span></code> では CollaborationUse <code class="docutils literal notranslate"><span class="pre">w1</span></code> を介して利用可能になった
Interaction <code class="docutils literal notranslate"><span class="pre">Q</span></code> を用いる。</p>
</section>
</section>
<section id="sequence-diagrams">
<h2><a class="toc-backref" href="#id138" role="doc-backlink">17.8 Sequence Diagrams</a><a class="headerlink" href="#sequence-diagrams" title="Permalink to this heading">¶</a></h2>
<p>Interaction Diagram の種類でもっとも普通のは Sequence Diagram であり、これは数々の Lifelines の間を交換する Message に重点を置く。</p>
<p>この図式では交換される Messages の連なりと、それに対応する
OccurrenceSpecifications に注目して相互作用を記述する。</p>
<blockquote>
<div><p>Interactions that are described by Sequence Diagrams form a basis for
understanding the semantics of the meta classes in the Interactions package.
Sequence Diagrams are used for the examples in sub clauses for the
Interaction sub packages.</p>
</div></blockquote>
<section id="sequence-diagram-notation">
<h3><a class="toc-backref" href="#id139" role="doc-backlink">17.8.1 Sequence Diagram Notation</a><a class="headerlink" href="#sequence-diagram-notation" title="Permalink to this heading">¶</a></h3>
<section id="graphic-nodes">
<h4><a class="toc-backref" href="#id140" role="doc-backlink">17.8.1.1 Graphic Nodes</a><a class="headerlink" href="#graphic-nodes" title="Permalink to this heading">¶</a></h4>
<p>Table 17.1 に Sequence Diagrams に含めることができる図表要素一覧が示されている。</p>
</section>
<section id="graphic-paths">
<h4><a class="toc-backref" href="#id141" role="doc-backlink">17.8.1.2 Graphic Paths</a><a class="headerlink" href="#graphic-paths" title="Permalink to this heading">¶</a></h4>
<p>Table 17.2 に節点間に描かれる経路各種の記号一覧が示されている。</p>
<ul class="simple">
<li><p>Messages には、伝えるメッセージの種類に依存して変種がある。ここにあるのは、非同期メッセージ、呼び出し、応答を示す。これらは完全メッセージ (17.4.4) だ。</p></li>
<li><p>LostMessage は宛先が記述の範囲外である Message のことだ。</p></li>
<li><p>FoundMessage は受信者が知られている Message のことだが、送信方法は本仕様で記述されない。</p></li>
</ul>
<p>Interactions は Classifier を包含する挙動の単位だ。Interactions はその
Classifier の ConnectableElement 間の Messages による情報の受け渡しを重んじる。</p>
</section>
</section>
<section id="example-sequence-diagram">
<h3><a class="toc-backref" href="#id142" role="doc-backlink">17.8.2 Example Sequence Diagram</a><a class="headerlink" href="#example-sequence-diagram" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.25 Overview of Metamodel elements of a Sequence Diagram</p>
</div></blockquote>
<p>上の Interaction <code class="docutils literal notranslate"><span class="pre">N</span></code> は説明してもらわなくてももう理解できる。</p>
<ul class="simple">
<li><p>図式全体は <code class="docutils literal notranslate"><span class="pre">N</span></code> という名前の Interaction だ。</p></li>
<li><p>Lifeline を二つ有する。Gate に近い順から <code class="docutils literal notranslate"><span class="pre">s[u]</span></code> と <code class="docutils literal notranslate"><span class="pre">s[k]</span></code> という名前だ。</p></li>
<li><p>ラベル <code class="docutils literal notranslate"><span class="pre">m3</span></code> の付いた矢印が二本ある。</p>
<ul>
<li><p>枠から出ている Message は暗黙の了解で名前 <code class="docutils literal notranslate"><span class="pre">m3_1</span></code> を持つ。</p></li>
<li><p>Lifelines 間の Message は暗黙の了解で名前 <code class="docutils literal notranslate"><span class="pre">m3_2</span></code> を持つ。</p></li>
<li><p>枠から出ている矢印の始点は形式 Gate で、暗黙の了解で名前は <code class="docutils literal notranslate"><span class="pre">in_m3</span></code> だ。</p></li>
<li><p>同矢印の終点は OccurrenceSpecification だ。</p></li>
<li><p>Lifelines 間の矢印の始点、終点も OccurrenceSpecifications だ。</p></li>
</ul>
</li>
</ul>
<p>Interaction モデルにとって周辺的なオブジェクトは省いてあると断りがある。例えば
Part <code class="docutils literal notranslate"><span class="pre">s</span></code> や Class <code class="docutils literal notranslate"><span class="pre">B</span></code> や Message が参照する連結器が省略されている。</p>
</section>
</section>
<section id="communication-diagrams">
<h2><a class="toc-backref" href="#id143" role="doc-backlink">17.9 Communication Diagrams</a><a class="headerlink" href="#communication-diagrams" title="Permalink to this heading">¶</a></h2>
<p>Communication Diagrams は Lifelines 間の相互作用に関心を集中し、内部構造の設計概念とメッセージの受け渡しとの対応が中心になる。メッセージの配列は連番で示される。</p>
<p>Communication Diagrams は InteractionUses や CombinedFragments のような構造化機構を用いない簡単な Sequence Diagrams に対応する。また、メッセージの追い越しは起こらないか、または無関係と仮定される。</p>
<section id="communication-diagram-notation">
<h3><a class="toc-backref" href="#id144" role="doc-backlink">17.9.1 Communication Diagram Notation</a><a class="headerlink" href="#communication-diagram-notation" title="Permalink to this heading">¶</a></h3>
<section id="id33">
<h4><a class="toc-backref" href="#id145" role="doc-backlink">17.9.1.1 Graphic Paths</a><a class="headerlink" href="#id33" title="Permalink to this heading">¶</a></h4>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>見出しの文言は編集ミスと思われる。Graphic Nodes が適切だろう。</p>
</div>
<p>Table 17.3 では Communication Diagrams の構成要素各種の記法がまとめられている。と言ってもノードが Frame と Lifeline の二つしかない。</p>
</section>
<section id="id34">
<h4><a class="toc-backref" href="#id146" role="doc-backlink">17.9.1.2 Graphic Paths</a><a class="headerlink" href="#id34" title="Permalink to this heading">¶</a></h4>
<p>Table 17.4 は項目が一つしかない図表だ。Message はラベル付き実線で記される。</p>
</section>
<section id="sequence-expression">
<h4><a class="toc-backref" href="#id147" role="doc-backlink">17.9.1.3 Sequence expression</a><a class="headerlink" href="#sequence-expression" title="Permalink to this heading">¶</a></h4>
<p>列式は <code class="docutils literal notranslate"><span class="pre">.</span></code> で区切られた列項のリストで、その後に <code class="docutils literal notranslate"><span class="pre">:</span></code> が続く。</p>
<p>各項は、全体的な相互作用の中での手続き的入れ子の階層を表す。すべての制御が同時に行われる場合、入れ子は生じない。各列項は以下の構文を持つ：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[ integer | name ] [ recurrence ]
</pre></div>
</div>
<blockquote>
<div><p>The integer represents the sequential order of the Message within the next
higher level of procedural calling. Messages that differ in one integer term
are sequentially related at that level of nesting.</p>
</div></blockquote>
<p>例えば Message <code class="docutils literal notranslate"><span class="pre">3.1.4</span></code> は活性化 <code class="docutils literal notranslate"><span class="pre">3.1</span></code> 内の Message <code class="docutils literal notranslate"><span class="pre">3.1.3</span></code> に続く。</p>
<blockquote>
<div><p>The name represents a concurrent thread of control. Messages that differ in
the final name are concurrent at that level of nesting.</p>
</div></blockquote>
<p>例えば Message <code class="docutils literal notranslate"><span class="pre">3.1a</span></code> と <code class="docutils literal notranslate"><span class="pre">3.1b</span></code> は活性化 <code class="docutils literal notranslate"><span class="pre">3.1</span></code> 内で同時進行する（どちらを先に実施してもよいし、並列に実施してもよい、の意）。制御のスレッドはすべてが入れ子の深さの中では等しい。</p>
<blockquote>
<div><p>The recurrence represents conditional or iterative execution. This represents
zero or more Messages that are executed depending on the conditions involved.</p>
</div></blockquote>
<p>選択肢は：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>‘*’ ‘[’ iteration-clause ‘]’an iteration
‘[’ guard ‘]’a branch
</pre></div>
</div>
<blockquote>
<div><p>An iteration represents a sequence of Messages at the given nesting depth.
The iteration clause may be omitted (in which case the iteration conditions
are unspecified). The iteration-clause is meant to be expressed in pseudocode
or an actual programming language, UML does not prescribe its format.</p>
</div></blockquote>
<p>反復句の例としては：<code class="docutils literal notranslate"><span class="pre">*[i</span> <span class="pre">:=1..n]</span></code> などがあるだろう。</p>
<blockquote>
<div><p>A guard represents a Message whose execution is contingent on the truth of
the condition clause.</p>
</div></blockquote>
<p>これもまた擬似コードまたは実際のプログラミング言語で表現されることを意図している。例としては <code class="docutils literal notranslate"><span class="pre">[x</span> <span class="pre">&gt;</span> <span class="pre">y]</span></code> など。</p>
<blockquote>
<div><p>Note that a branch is notated the same as an iteration without a star.</p>
</div></blockquote>
<p>当反復記法はこの反復内の Messages が順次実行されることを仮定している。それらが同時に実行される可能性もある。この場合の記法は米印の後に二重縦線を引くものだ。</p>
<p>入れ子になった制御構造では、再帰は内部階層では繰り返されない。各階層の構造はそれを囲む context 内で独自の反復を指定する。</p>
</section>
</section>
<section id="example-communication-diagram">
<h3><a class="toc-backref" href="#id148" role="doc-backlink">17.9.2 Example Communication Diagram</a><a class="headerlink" href="#example-communication-diagram" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.26 Communication diagram</p>
</div></blockquote>
<p>メッセージ <code class="docutils literal notranslate"><span class="pre">m1</span></code> と <code class="docutils literal notranslate"><span class="pre">m3</span></code> が <code class="docutils literal notranslate"><span class="pre">:r</span></code> から部分 <code class="docutils literal notranslate"><span class="pre">s</span></code> のオブジェクト二つに同時に送られている。</p>
<p>番号は、他のメッセージがどのように配列されているかを示している。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1b</span></code> の次は <code class="docutils literal notranslate"><span class="pre">1b.1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1b.1.1</span></code> の次は <code class="docutils literal notranslate"><span class="pre">1b.1.1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1a</span></code> と <code class="docutils literal notranslate"><span class="pre">1b</span></code> の後に <code class="docutils literal notranslate"><span class="pre">2</span></code></p></li>
</ul>
</section>
</section>
<section id="interaction-overview-diagrams">
<h2><a class="toc-backref" href="#id149" role="doc-backlink">17.10 Interaction Overview Diagrams</a><a class="headerlink" href="#interaction-overview-diagrams" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>Interaction Overview Diagrams define Interactions through a variant of
Activity Diagrams (described in <a class="reference internal" href="ch12-packages.html"><span class="doc">Clause 12</span></a>) in a way
that promotes overview of the control flow.</p>
</div></blockquote>
<p>Interaction Overview Diagrams では、その節点が Interaction または InteractionUse
である制御の流れの概要に関心がある。この概要度では Lifelines と Messages を表示しない。</p>
<section id="interaction-overview-diagram-notation">
<h3><a class="toc-backref" href="#id150" role="doc-backlink">17.10.1 Interaction Overview Diagram Notation</a><a class="headerlink" href="#interaction-overview-diagram-notation" title="Permalink to this heading">¶</a></h3>
<section id="id35">
<h4><a class="toc-backref" href="#id151" role="doc-backlink">17.10.1.1 Graphic Nodes</a><a class="headerlink" href="#id35" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Interaction Overview Diagrams are specialization of Activity Diagrams that
represent Interactions.</p>
</div></blockquote>
<p>Interaction Overview Diagrams は Activity Diagrams と異なる点がある：</p>
<ul>
<li><p>Activity Diagrams の ObjectNodes の代わりに、Interaction Overview Diagrams には（インライン） Interactions か InteractionUses のどちらか一方しかあることが不可能だ。</p>
<blockquote>
<div><p>Inline Interaction diagrams and InteractionUses are considered special
forms of CallBehaviorAction.</p>
</div></blockquote>
</li>
<li><p>代替 CombinedFragments は DecisionNode と対応する MergeNode で表現される。</p></li>
<li><p>並列 CombinedFragments は ForkNode と対応する JoinNode で表現される。</p></li>
<li><p>ループ CombinedFragments は簡単な輪で表現される。</p></li>
<li><p>Interaction Overview Diagrams では分岐と接合は正しく入れ子になっている必要がある。これは Activity Diagrams よりも制限が厳しい。</p></li>
<li><p>Interaction Overview Diagrams は Interaction Diagrams の他の形式と同じ種類の枠で囲まれる。見出しのテキストには含まれる Lifelines の一覧を含めてもよい。</p></li>
</ul>
<p>Table 17.5 では Interaction Overview Diagrams のノード三種が表になっている。</p>
<ul>
<li><p>Frame は特筆することはなさそうだ。</p></li>
<li><p>Interaction はどのような種類でも、Activity 呼び出しとしてインラインで表示することが許される。インライン図式は匿名でも名前ありでもかまわない。</p></li>
<li><p>InteractionUse については：</p>
<blockquote>
<div><p>The tools may choose to “explode” the view of an InteractionUse into an
inline Interaction with the name of the Interaction referred by the
occurrence. The inline Interaction will then replace the occurrence by a
replica of the definition Interaction where arguments have replaced
parameters.</p>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>Interaction Overview Diagrams use Activity diagram notation where the nodes
are either Interactions or InteractionUses. Interaction Overview Diagrams are
a way to describe Interactions where Messages and Lifelines are abstracted
away.</p>
</div></blockquote>
<p>もっとも純粋な形式では、Activities はすべて InteractionUses であり、Messages も
Lifelines も図式中に全く現れない。</p>
</section>
</section>
<section id="examples-of-interaction-overview-diagrams">
<h3><a class="toc-backref" href="#id152" role="doc-backlink">17.10.2 Examples of Interaction Overview Diagrams</a><a class="headerlink" href="#examples-of-interaction-overview-diagrams" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 17.27 Interaction Overview Diagram representing a High Level
Interaction diagram</p>
</div></blockquote>
<p>本文で言うように Activity 図の節点系要素が Interaction や InteractionUse に置き換わっている図式に見える。</p>
<p>これは Fig. 17.19 で示した挙動を別のやり方で記述したもので、時間的拘束をいくつか加えてある。</p>
<ol class="arabic simple">
<li><p>Interaction <code class="docutils literal notranslate"><span class="pre">EstablishAccess(&quot;Illegal</span> <span class="pre">PIN&quot;)</span></code> で起こる。この実引数は固定。</p></li>
<li><p>インライン Interaction で示されているメッセージ <code class="docutils literal notranslate"><span class="pre">CardOut</span></code> で弱い順序付けが起こる。</p></li>
<li><p>分岐の一つに InteractionConstraint を持つ決定節点を見つけるという選択肢がある。その制御フローに沿って、別のインライン Interaction と InteractionUse を弱い順序で見つける。</p></li>
</ol>
</section>
</section>
<section id="timing-diagrams">
<h2><a class="toc-backref" href="#id153" role="doc-backlink">17.11 Timing Diagrams</a><a class="headerlink" href="#timing-diagrams" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>Timing diagrams focus on conditions changing within and among Lifelines along
a linear time axis.</p>
</div></blockquote>
<p>Timing Diagrams は個々の classifiers と classifiers の相互作用の両方の挙動を記述するもので、モデル化された Lifelines の条件に変化を生じるイベントの発生時間に注意する。</p>
<section id="timing-diagram-notation">
<h3><a class="toc-backref" href="#id154" role="doc-backlink">17.11.1 Timing Diagram Notation</a><a class="headerlink" href="#timing-diagram-notation" title="Permalink to this heading">¶</a></h3>
<section id="graphic-nodes-and-paths">
<h4><a class="toc-backref" href="#id155" role="doc-backlink">17.11.1.1 Graphic Nodes and Paths</a><a class="headerlink" href="#graphic-nodes-and-paths" title="Permalink to this heading">¶</a></h4>
<p>Table 17.6 で Timing 図の記号すべてが表にまとまっている。</p>
<p>Frame はいつも (17.2.4) と同様。</p>
<p>Message (17.4.4) も先ほどの図式と同様。垂直方向に変わっているが意味は同じはず。</p>
<p>MessageLabel はカプセル型記号と矢印で表記する。</p>
<blockquote>
<div><p>Labels are only notational shorthands used to prevent cluttering of the
diagrams with a number of messages crisscrossing the diagram between
Lifelines that are far apart.</p>
</div></blockquote>
<p>State は classifier, 属性の状態、可算値などのテスト可能状態だ。状態次元を連続的にすることも許される。StateInvariant (17.2.4) の記述を参照。</p>
<blockquote>
<div><p>This is illustrative for scenarios where certain entities undergo continuous
state changes, such as temperature or density.</p>
</div></blockquote>
<p>General value lifeline は接続可能な要素の値を時間の関数として示す。値はテキストで明示される。交差は、値が変更されたイベントを表す。</p>
<p>Lifeline (17.3.4) はオブジェクトごとに矩形で表現する。</p>
<p>GeneralOrdering (17.5.4) は点線を引いて途中に鏃を置く。</p>
<p>DestructionOccurrenceSpecification (17.4.4) はバツジルシで表す。</p>
</section>
</section>
<section id="examples-of-timing-diagrams">
<h3><a class="toc-backref" href="#id156" role="doc-backlink">17.11.2 Examples of Timing Diagrams</a><a class="headerlink" href="#examples-of-timing-diagrams" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Timing diagrams show change in state or other condition of a structural
element over time. There are a few forms in use.</p>
</div></blockquote>
<p>Interactions の主要な形式としての Sequence Diagrams は時間観測と時機制約を描いてもよい。Fig. 17.5 も参照。</p>
<blockquote>
<div><p>Figure 17.28 A Lifeline for a discrete object</p>
</div></blockquote>
<p>Fig. 17.5 の <code class="docutils literal notranslate"><span class="pre">:User</span></code> を Timing Diagram で描いたもの。</p>
<p><code class="docutils literal notranslate"><span class="pre">:User</span></code> は <code class="docutils literal notranslate"><span class="pre">Idle</span></code> と <code class="docutils literal notranslate"><span class="pre">WaitCard</span></code> と <code class="docutils literal notranslate"><span class="pre">WaitAccess</span></code> の状態を行ったり来たりするようで、その時間的推移がこの図から読み取れる。</p>
<blockquote>
<div><p>The primary purpose of the timing diagram is to show the change in state or
condition of a lifeline (representing a Classifier Instance or Classifier
Role) over linear time.</p>
</div></blockquote>
<p>最も一般的な用途は、受理したイベントや刺激に応答して、オブジェクトの状態が時間とともに変化する様子を示すことだ。条件や状態の変化の原因となるイベントを示すことが望ましい場合、受領したイベントは示されたように (<code class="docutils literal notranslate"><span class="pre">Code</span></code>, <code class="docutils literal notranslate"><span class="pre">CardOut</span></code>, <code class="docutils literal notranslate"><span class="pre">OK</span></code>)
注釈が付けられる。</p>
<blockquote>
<div><p>Figure 17.29 Compact Lifeline with States</p>
</div></blockquote>
<p>上述の図の «more economical and compact» 版。</p>
<blockquote>
<div><p>Figure 17.30 Timing Diagram with more than one Lifeline and with Messages</p>
</div></blockquote>
<p>Lifelines が複数示され、Message も描かれた、より精緻な Timing Diagram の見本だ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">:User</span></code> に加えて <code class="docutils literal notranslate"><span class="pre">:ACSystem</span></code> の Lifeline も記述している。</p></li>
<li><p>これは図を読むときに定規が要る気がする。時間軸上の目盛りとグラフが遠い。</p></li>
</ul>
</section>
</section>
<section id="classifier-descriptions">
<h2><a class="toc-backref" href="#id157" role="doc-backlink">17.12 Classifier Descriptions</a><a class="headerlink" href="#classifier-descriptions" title="Permalink to this heading">¶</a></h2>
<p>機械生成による節。</p>
</section>
<section id="association-descriptions">
<h2><a class="toc-backref" href="#id158" role="doc-backlink">17.13 Association Descriptions</a><a class="headerlink" href="#association-descriptions" title="Permalink to this heading">¶</a></h2>
<p>機械生成による節。</p>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="ch16-actions.html" title="Previous document">16 Actions</a>
        </li>
        <li>
          <a href="ch18-usecases.html" title="Next document">18 UseCases</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2023, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>