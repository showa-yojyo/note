<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>16 Actions &#8212; 読書ノート 1.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=1a9a5cd9" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d21ed4cc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script async="async" src="../_static/mathjax-v3.js?v=bf1ec211"></script>
    <script src="../_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="17 Interactions" href="ch17-interactions.html" />
    <link rel="prev" title="15 Activities" href="ch15-activities.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="ch15-activities.html" title="Previous document">15 Activities</a>
        </li>
        <li>
          <a href="ch17-interactions.html" title="Next document">17 Interactions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="actions">
<h1><a class="toc-backref" href="#id71" role="doc-backlink">16 Actions</a><a class="headerlink" href="#actions" title="Permalink to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#actions" id="id71">16 Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#summary" id="id72">16.1 Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#concrete-syntax" id="id73">16.1.1 Concrete Syntax</a></p></li>
<li><p><a class="reference internal" href="#execution-engines" id="id74">16.1.2 Execution Engines</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id1" id="id75">16.2 Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id76">16.2.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#abstract-syntax" id="id77">16.2.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#semantics" id="id78">16.2.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id79">16.2.3.1 Actions</a></p></li>
<li><p><a class="reference internal" href="#opaque-actions" id="id80">16.2.3.2 Opaque Actions</a></p></li>
<li><p><a class="reference internal" href="#pins" id="id81">16.2.3.3 Pins</a></p></li>
<li><p><a class="reference internal" href="#actions-and-pins-in-activities" id="id82">16.2.3.4 Actions and Pins in Activities</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#notation" id="id83">16.2.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id84">16.2.4.1 Actions</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id85">16.2.4.2 Pins</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples" id="id86">16.2.5 Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id87">16.2.5.1 Actions</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id88">16.2.5.2 Pins</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#invocation-actions" id="id89">16.3 Invocation Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id8" id="id90">16.3.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id91">16.3.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id92">16.3.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#call-actions" id="id93">16.3.3.1 Call Actions</a></p></li>
<li><p><a class="reference internal" href="#send-actions" id="id94">16.3.3.2 Send Actions</a></p></li>
<li><p><a class="reference internal" href="#invocation-actions-and-ports" id="id95">16.3.3.3 Invocation Actions and Ports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id11" id="id96">16.3.4 Notation</a></p>
<ul>
<li><p><a class="reference internal" href="#call-behavior-actions" id="id97">16.3.4.1 Call Behavior Actions</a></p></li>
<li><p><a class="reference internal" href="#call-operation-actions" id="id98">16.3.4.2 Call Operation Actions</a></p></li>
<li><p><a class="reference internal" href="#send-signal-and-send-object-actions" id="id99">16.3.4.3 Send Signal and Send Object Actions</a></p></li>
<li><p><a class="reference internal" href="#pin-annotations" id="id100">16.3.4.4 Pin Annotations</a></p></li>
<li><p><a class="reference internal" href="#parameter-sets" id="id101">16.3.4.5 Parameter Sets</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id12" id="id102">16.3.5 Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#id13" id="id103">16.3.5.1 Call Behavior Actions</a></p></li>
<li><p><a class="reference internal" href="#send-signal-actions" id="id104">16.3.5.2 Send Signal Actions</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id105">16.3.5.3 Pin Annotations</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id106">16.3.5.4 Parameter Sets</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#object-actions" id="id107">16.4 Object Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id16" id="id108">16.4.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id109">16.4.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id110">16.4.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#create-object-actions" id="id111">16.4.3.1 Create Object Actions</a></p></li>
<li><p><a class="reference internal" href="#destroy-object-actions" id="id112">16.4.3.2 Destroy Object Actions</a></p></li>
<li><p><a class="reference internal" href="#test-identity-actions" id="id113">16.4.3.3 Test Identity Actions</a></p></li>
<li><p><a class="reference internal" href="#read-self-actions" id="id114">16.4.3.4 Read Self Actions</a></p></li>
<li><p><a class="reference internal" href="#value-specification-actions" id="id115">16.4.3.5 Value Specification Actions</a></p></li>
<li><p><a class="reference internal" href="#read-extent-actions" id="id116">16.4.3.6 Read Extent Actions</a></p></li>
<li><p><a class="reference internal" href="#reclassify-object-actions" id="id117">16.4.3.7 Reclassify Object Actions</a></p></li>
<li><p><a class="reference internal" href="#read-is-classified-object-actions" id="id118">16.4.3.8 Read-Is-Classified-Object Actions</a></p></li>
<li><p><a class="reference internal" href="#start-classifier-behavior-actions" id="id119">16.4.3.9 Start Classifier Behavior Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id19" id="id120">16.4.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id121">16.4.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#link-end-data" id="id122">16.5 Link End Data</a></p>
<ul>
<li><p><a class="reference internal" href="#id21" id="id123">16.5.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id124">16.5.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id23" id="id125">16.5.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id24" id="id126">16.5.3.1 Link End Data</a></p></li>
<li><p><a class="reference internal" href="#link-end-creation-data" id="id127">16.5.3.2 Link End Creation Data</a></p></li>
<li><p><a class="reference internal" href="#link-end-destruction-data" id="id128">16.5.3.3 Link End Destruction Data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id25" id="id129">16.5.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id26" id="id130">16.5.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#link-actions" id="id131">16.6 Link Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id27" id="id132">16.6.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id28" id="id133">16.6.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id134">16.6.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id30" id="id135">16.6.3.1 Link Actions</a></p></li>
<li><p><a class="reference internal" href="#read-link-actions" id="id136">16.6.3.2 Read Link Actions</a></p></li>
<li><p><a class="reference internal" href="#create-link-action" id="id137">16.6.3.3 Create Link Action</a></p></li>
<li><p><a class="reference internal" href="#destroy-link-actions" id="id138">16.6.3.4 Destroy Link Actions</a></p></li>
<li><p><a class="reference internal" href="#clear-association-actions" id="id139">16.6.3.5 Clear Association Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id31" id="id140">16.6.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id32" id="id141">16.6.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#link-object-actions" id="id142">16.7 Link Object Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id33" id="id143">16.7.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id34" id="id144">16.7.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id145">16.7.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#read-link-object-end-actions" id="id146">16.7.3.1 Read Link Object End Actions</a></p></li>
<li><p><a class="reference internal" href="#read-link-object-end-qualifier-actions" id="id147">16.7.3.2 Read Link Object End Qualifier Actions</a></p></li>
<li><p><a class="reference internal" href="#create-link-object-actions" id="id148">16.7.3.3 Create Link Object Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id36" id="id149">16.7.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id37" id="id150">16.7.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#structural-feature-actions" id="id151">16.8 Structural Feature Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id38" id="id152">16.8.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id39" id="id153">16.8.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id40" id="id154">16.8.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#id41" id="id155">16.8.3.1 Structural Feature Actions</a></p></li>
<li><p><a class="reference internal" href="#read-structural-feature-actions" id="id156">16.8.3.2 Read Structural Feature Actions</a></p></li>
<li><p><a class="reference internal" href="#add-structural-feature-value-actions" id="id157">16.8.3.3 Add Structural Feature Value Actions</a></p></li>
<li><p><a class="reference internal" href="#remove-structural-feature-value-actions" id="id158">16.8.3.4 Remove Structural Feature Value Actions</a></p></li>
<li><p><a class="reference internal" href="#clear-structural-feature-actions" id="id159">16.8.3.5 Clear Structural Feature Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id42" id="id160">16.8.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id43" id="id161">16.8.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#variable-actions" id="id162">16.9 Variable Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id44" id="id163">16.9.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id45" id="id164">16.9.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id46" id="id165">16.9.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#variable-action" id="id166">16.9.3.1 Variable Action</a></p></li>
<li><p><a class="reference internal" href="#read-variable-actions" id="id167">16.9.3.2 Read Variable Actions</a></p></li>
<li><p><a class="reference internal" href="#add-variable-value-action" id="id168">16.9.3.3 Add Variable Value Action</a></p></li>
<li><p><a class="reference internal" href="#remove-variable-value-actions" id="id169">16.9.3.4 Remove Variable Value Actions</a></p></li>
<li><p><a class="reference internal" href="#clear-variable-actions" id="id170">16.9.3.5 Clear Variable Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id47" id="id171">16.9.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id48" id="id172">16.9.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#accept-event-actions" id="id173">16.10 Accept Event Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id49" id="id174">16.10.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id50" id="id175">16.10.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id51" id="id176">16.10.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#accept-event-action" id="id177">16.10.3.1 Accept Event Action</a></p></li>
<li><p><a class="reference internal" href="#accept-call-actions" id="id178">16.10.3.2 Accept Call Actions</a></p></li>
<li><p><a class="reference internal" href="#reply-actions" id="id179">16.10.3.3 Reply Actions</a></p></li>
<li><p><a class="reference internal" href="#unmarshall-actions" id="id180">16.10.3.4 Unmarshall Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id52" id="id181">16.10.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id53" id="id182">16.10.5 Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#id54" id="id183">16.10.5.1 Accept Event Actions</a></p></li>
<li><p><a class="reference internal" href="#id55" id="id184">16.10.5.2 Unmarshall Actions</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#structured-actions" id="id185">16.11 Structured Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id56" id="id186">16.11.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id57" id="id187">16.11.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id58" id="id188">16.11.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#structured-activity-nodes" id="id189">16.11.3.1 Structured Activity Nodes</a></p></li>
<li><p><a class="reference internal" href="#isolation" id="id190">16.11.3.2 Isolation</a></p></li>
<li><p><a class="reference internal" href="#conditional-nodes" id="id191">16.11.3.3 Conditional Nodes</a></p></li>
<li><p><a class="reference internal" href="#loop-nodes" id="id192">16.11.3.4 Loop Nodes</a></p></li>
<li><p><a class="reference internal" href="#sequence-nodes" id="id193">16.11.3.5 Sequence Nodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id59" id="id194">16.11.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id60" id="id195">16.11.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#expansion-regions" id="id196">16.12 Expansion Regions</a></p>
<ul>
<li><p><a class="reference internal" href="#id61" id="id197">16.12.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id62" id="id198">16.12.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id63" id="id199">16.12.3 Semantics</a></p></li>
<li><p><a class="reference internal" href="#id64" id="id200">16.12.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id65" id="id201">16.12.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-actions" id="id202">16.13 Other Actions</a></p>
<ul>
<li><p><a class="reference internal" href="#id66" id="id203">16.13.1 Summary</a></p></li>
<li><p><a class="reference internal" href="#id67" id="id204">16.13.2 Abstract Syntax</a></p></li>
<li><p><a class="reference internal" href="#id68" id="id205">16.13.3 Semantics</a></p>
<ul>
<li><p><a class="reference internal" href="#reduce-actions" id="id206">16.13.3.1 Reduce Actions</a></p></li>
<li><p><a class="reference internal" href="#raise-exception-actions" id="id207">16.13.3.2 Raise Exception Actions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id69" id="id208">16.13.4 Notation</a></p></li>
<li><p><a class="reference internal" href="#id70" id="id209">16.13.5 Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#classifier-descriptions" id="id210">16.14 Classifier Descriptions</a></p></li>
<li><p><a class="reference internal" href="#association-descriptions" id="id211">16.15 Association Descriptions</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id72" role="doc-backlink">16.1 Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>An <em class="dfn">Action</em> is the fundamental unit of behavior specification in UML.</p>
</div></blockquote>
<ul>
<li><p>Action は入力の集合を取り、出力の集合を生じる。その集合の一方または両方が空であることがある。</p></li>
<li><p>Action が実行されるシステムの状態を変更するような Actions がある。</p>
<blockquote>
<div><p>Actions are contained in Behaviors, specifically Activities (as
ExecutableNodes, see <a class="reference internal" href="ch15-activities.html"><span class="doc">Clause 15</span></a>) and Interactions
(see <a class="reference internal" href="ch17-interactions.html"><span class="doc">Clause 17</span></a>). These Behaviors determine when
Actions execute and what inputs they have.</p>
</div></blockquote>
</li>
<li><p>Action の抽象的構文と意味は Activity に依るところが大きい。</p></li>
<li><p>Action の具体的構文は Activity 図にしか現れず、表記の一部は前章で定義されている。</p></li>
<li><p>本章では Action の構文と意味に焦点を当てる。<a class="reference internal" href="ch15-activities.html"><span class="doc">15 Activities</span></a> と一緒に読む必要がある。</p></li>
</ul>
<section id="concrete-syntax">
<h3><a class="toc-backref" href="#id73" role="doc-backlink">16.1.1 Concrete Syntax</a><a class="headerlink" href="#concrete-syntax" title="Permalink to this heading">¶</a></h3>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>原書では節番号のレベルがおかしいので本ノートでは修正する。</p>
</div>
<p>UML 仕様書では Actions の図表記法を比較的最小限に抑えて設けている。ただし、適合ツールは標準 Action 抽象構文に写像される、ツール固有の図表的またはテキスト的表現を設ける場合がある。このような表現を具象構文と呼ぶ。</p>
<blockquote>
<div><p>Concrete syntaxes generally encompass both primitive Actions and the control
mechanisms provided by Behaviors.</p>
</div></blockquote>
<p>具象構文ではより高水準の構文を UML 抽象的構文で指定された Actions に写像することが可能だ。</p>
<blockquote>
<div><p>For example, creating an object may involve initializing attribute values or
creating objects for mandatory Associations. The UML specification defines
the CreateObjectAction to only create the object and requires further Actions
to initialize attribute values and create objects for mandatory Associations.
A concrete syntax can support a creation operation including initialization
as a single unit as a shorthand for several underlying Actions.</p>
</div></blockquote>
<p>一般は、具象構文は各 Action を一対一対応で実装することも、より上位の複合構文を定義して設計者により多くの能力と利便性を供給することが可能だ。</p>
<p>この仕様では理解しやすく実装しやすい、根源的な動作概念に対する抽象構文と意味を与える。設計者は精選した具象構文が備えるより高水準の構成要素で仕事することが可能だ。</p>
<blockquote>
<div><p>The most primitive Actions in this specification are defined to enable the
maximum range of concrete syntax mappings. Specifically, a primitive Action
either carries out a computation or accesses object memory, but never both.</p>
</div></blockquote>
<ul class="simple">
<li><p>この方法により、物理的な実装への清浄な写像が可能になる。</p></li>
<li><p>さらに、データ構造を再編成しても計算の詳細に影響しない。</p></li>
</ul>
</section>
<section id="execution-engines">
<h3><a class="toc-backref" href="#id74" role="doc-backlink">16.1.2 Execution Engines</a><a class="headerlink" href="#execution-engines" title="Permalink to this heading">¶</a></h3>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>原書では節番号のレベルがおかしいので本ノートでは修正する。</p>
</div>
<p>まず実行機関の定義から：</p>
<blockquote>
<div><p>An <em class="dfn">execution engine</em> is a tool that executes UML Actions. Actions are
defined to enable the construction of various execution engines with
different performance characteristics. An execution engine can optimize the
execution of a model to meet specific performance requirements, so long as
the engine stays within the semantics specified for Actions in UML.</p>
</div></blockquote>
<p>例えば、UML の意味論で許される範囲内で最適化されていれば、次のそれぞれを行うものはすべて UML の実行機関として有効だ：</p>
<ul class="simple">
<li><p>単一タスクの中で完全に逐次的に動作させる</p></li>
<li><p>クラスの相互作用の大きさに基づいて、異なるプロセッサーにクラスを割り当てる</p></li>
<li><p>クライアントサーバー、あるいは三層アーキテクチャーの中でクラスを割り当てる</p></li>
</ul>
<blockquote>
<div><p>Modelers can provide “hints” to the execution engine when they have special
knowledge of the domain solution that could be of value in optimizing the
execution.</p>
</div></blockquote>
<p>実行機関はこのようなヒントを検査したり強制したりする必要はない。</p>
<blockquote>
<div><p>When the execution of Actions violates aspects of UML structural semantics
that constrain runtime behavior, the semantics of the Actions are left
undefined.</p>
</div></blockquote>
<p>例えば複合 Association を介してオブジェクトを複数の所有者に結合させることは未定義だ。この Action を違法とする具象構文もあれば、単一の所有者が確立するまで認めるものもある。</p>
<blockquote>
<div><p>However, in the execution of Actions the lower multiplicity bound is ignored
and the semantics is still as defined. Otherwise, it is impossible to use
Actions to pass through intermediate stages necessary to construct object
configurations that satisfy multiplicity constraints.</p>
</div></blockquote>
<p>設計者は最小の多重度が適用される点を決定しなければならないが、これらの点はどこにでもあるわけではなく、そうでなければオブジェクト構成を変化することが不可能になることだろう。</p>
</section>
</section>
<section id="id1">
<h2><a class="toc-backref" href="#id75" role="doc-backlink">16.2 Actions</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<section id="id2">
<h3><a class="toc-backref" href="#id76" role="doc-backlink">16.2.1 Summary</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>Action と Pins の基本的な抽象構文を定義する。OpaqueAction 以外のさまざまな具体的な Action は後で説明する。</p>
</section>
<section id="abstract-syntax">
<h3><a class="toc-backref" href="#id77" role="doc-backlink">16.2.2 Abstract Syntax</a><a class="headerlink" href="#abstract-syntax" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.1 Actions</p>
</div></blockquote>
<p>Action は抽象型で、ExecutableNode から派生している。</p>
<ul class="simple">
<li><p>この図式では差し当たり OpaqueAction が Action の一つの具象型であることを表している。</p></li>
<li><p>InputPin と OutputPin とに別々に関連させる。</p></li>
</ul>
<p>Pin という ObjectNode と MultiplicityElement からの派生要素がある。</p>
<ul class="simple">
<li><p>Pin には {Input,Output}Pin の二つがある。</p></li>
<li><p>InputPin には ActionInputPin と ValuePin の二つがある。ActionInputPin は
Action を、ValuePin は ValueSpecification をそれぞれ関連させる。</p></li>
</ul>
</section>
<section id="semantics">
<h3><a class="toc-backref" href="#id78" role="doc-backlink">16.2.3 Semantics</a><a class="headerlink" href="#semantics" title="Permalink to this heading">¶</a></h3>
<section id="id3">
<h4><a class="toc-backref" href="#id79" role="doc-backlink">16.2.3.1 Actions</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An Action is a fundamental unit of executable functionality contained,
directly or indirectly, within a Behavior.</p>
</div></blockquote>
<p>しかし Action の実行によって別の Behavior が呼び出されることがある (16.3) ことを考慮すれば：</p>
<blockquote>
<div><p>An Action is therefore simple from the point of view of the Behavior
containing it but may be complex in its effect and not atomic.</p>
</div></blockquote>
<p>Action を含んでいる Behavior に <code class="docutils literal notranslate"><span class="pre">context</span></code> BehavioredClassifier がある場合、そのBehavioredClassifier はその Action に対する <code class="docutils literal notranslate"><span class="pre">context</span></code> Classifier でもある。</p>
<p>Action が実行されるときは <code class="docutils literal notranslate"><span class="pre">context</span></code> Classifier のオブジェクトの文脈で実行され、<code class="docutils literal notranslate"><span class="pre">context</span></code> Classifier がない場合は Behavior の実行オブジェクトの文脈で直接実行される。(13.2.3) 参照。</p>
<p>Action の入出力と Pin について：</p>
<blockquote>
<div><p>An Action may accept inputs and produce outputs, as specified by InputPins
and OutputPins of the Action, respectively. Each Pin on an Action specifies
the type and multiplicity for a specific input or output of that Action.</p>
</div></blockquote>
<p>Action が実行する時間と、各実行が受理する入力が何であるのかは、Action の種類、InputPins の特徴、その Action が使われる Behavior によって決定する。Action
が実行することが決定されると、その実行の一般的な手順は次のようになる：</p>
<ol class="arabic">
<li><p>Action の実行は、その InputPins すべてにおける入力データを、InputPin それぞれの多重度 <code class="docutils literal notranslate"><span class="pre">upper</span></code> 個まで消費する。</p></li>
<li><p>Action は完了するまで実行を続行する。実行の詳細な意味と完了の定義は実行される
Action の種類に依存する。</p></li>
<li><p>Action の実行が完了すると、OutputPins に出力データを渡して停止する。</p>
<p>ただし、Action が streaming Paramters を持つ Behavior の呼び出しである場合、Action の実行は、完了前に streaming 出力 Parameters に対応する OutputPins
にデータを配送することもできる。</p>
<p>Action の実行が停止した後、その実行に使用された資源は、その実行を実装する実行機関により回収されることがある。このよう資源管理の詳細は本仕様では定義されない。</p>
</li>
</ol>
<p>Actions の意味の仕様上、Behaviors は同じ種類の Action を複数回再利用することが許されていて、Action の意味はそれぞれの用法に個別に適用する。例えば：</p>
<blockquote>
<div><p>Activities may have multiple nodes that are instances of the same Action
metaclass, and each instance has its own values for the properties described
below, affecting the execution of that particular usage of the Action only.
The same applies to Interactions with multiple <code class="docutils literal notranslate"><span class="pre">actions</span></code> that are instances
of the same Action metaclass.</p>
</div></blockquote>
<p>次の記述が困る：</p>
<blockquote>
<div><p>The phrase “an Action” or “the Action” in this specification refers to a
single instance of an Action metaclass used in a Behavior, separate from the
other instances of the same Action metaclass that may be used in the Behavior
or other Behaviors.</p>
</div></blockquote>
<p>局所再入不能と局所再入可能：</p>
<blockquote>
<div><p>If an Action is not locally reentrant (<code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code> = false, the
default), then no more than one execution of it may exist at any given time
within a single execution of the containing Behavior.</p>
</div></blockquote>
<p>同時に実行可能することが可能かどうかという視点だ。通常であれば Action の実行が開始される場合でも、同じ Behavior の実行内で実行中の Action がすでにある場合は、新しい実行が開始されない。</p>
<blockquote>
<div><p>On the other hand, if an Action is locally reentrant (<code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code>
= true), then a new execution of it may begin any time the normal rules above
allow it, even if there are one or more executions already ongoing within the
same Behavior execution.</p>
</div></blockquote>
<p>再入不能な CallAction の動作の性質：</p>
<blockquote>
<div><p>A CallAction for a non-reentrant Behavior (<code class="docutils literal notranslate"><span class="pre">isReentrant</span></code> = true) will also
act as if the CallAction were locally non- reentrant, whatever the value of
the <code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code> property for the action.</p>
</div></blockquote>
<p>このような Action は、この Action が呼び出さしたものだろうが、他の Action が呼び出したものだろうが、現在実行中の Behavior がある場合は実行されない (13.2.3,
16.3.3)。</p>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>引用文中の true は false ではないかと思う。</p>
</div>
<p>Action の局所事前・事後条件：</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">localPrecondition</span></code> and <code class="docutils literal notranslate"><span class="pre">localPostcondition</span></code> for an Action are
Constraints that should hold when an execution of an Action starts and
completes, respectively.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">localPrecondition</span></code> または <code class="docutils literal notranslate"><span class="pre">localPostcondition</span></code> はモデル作者が定義する
Constraint であるので、違反とは UML Action 実行の意味が未定義であることではない。</p>
<p>これらの条件がどのように強制されるかは、具体的には本仕様では定義されない。</p>
<blockquote>
<div><p>An execution engine may detect violations statically, if possible, or at
runtime. The runtime effect of a violation may be an error that stops
execution, just a warning, or no effect at all, as determined by the
execution engine.</p>
</div></blockquote>
</section>
<section id="opaque-actions">
<h4><a class="toc-backref" href="#id80" role="doc-backlink">16.2.3.2 Opaque Actions</a><a class="headerlink" href="#opaque-actions" title="Permalink to this heading">¶</a></h4>
<p>OpaqueAction の定義。UML で opaque といえば意味するところは：</p>
<blockquote>
<div><p>An OpaqueAction is an Action whose specification may be given in a textual
concrete syntax other than UML. An OpaqueAction may also be used as a
temporary placeholder before some other kind of Action is chosen.</p>
</div></blockquote>
<p>テキスト内容と解釈方法は <code class="docutils literal notranslate"><span class="pre">body</span></code>, <code class="docutils literal notranslate"><span class="pre">language</span></code> で持つ：</p>
<blockquote>
<div><p>An OpaqueAction has a <code class="docutils literal notranslate"><span class="pre">body</span></code> that consists of a sequence of text Strings
representing alternative means of specifying the behavior of the Action. A
corresponding sequence of <code class="docutils literal notranslate"><span class="pre">language</span></code> Strings may be used to specify the
languages in which each of the <code class="docutils literal notranslate"><span class="pre">body</span></code> Strings is to be interpreted.</p>
</div></blockquote>
<ul class="simple">
<li><p>言語を指定する必要はない。</p></li>
<li><p>言語が指定されていない場合、<code class="docutils literal notranslate"><span class="pre">body</span></code> 文字列の解釈は、その形式や OpaqueAction
の使用方法から暗黙の了解で決定される。</p></li>
</ul>
<p>OpaqueAction の本文は複数あり得る：</p>
<blockquote>
<div><p>If an OpaqueAction has more than one <code class="docutils literal notranslate"><span class="pre">body</span></code> String, then any one of the
<code class="docutils literal notranslate"><span class="pre">bodies</span></code> can be used to determine the behavior of the OpaqueAction. The UML
specification does not determine how this choice is made.</p>
</div></blockquote>
</section>
<section id="pins">
<h4><a class="toc-backref" href="#id81" role="doc-backlink">16.2.3.3 Pins</a><a class="headerlink" href="#pins" title="Permalink to this heading">¶</a></h4>
<p>Pin の定義：</p>
<blockquote>
<div><p>A Pin represents an input to an Action or an output from an Action.</p>
</div></blockquote>
<ul class="simple">
<li><p>InputPin が入力を表し、OutputPin が出力を表す。</p></li>
<li><p>Action が所有する入力と出力の各集合は順序付けられている。</p></li>
<li><p>Action の InputPins と OutputPins は Action の種類により決定される。</p></li>
</ul>
<p>Pin は ObjectNode の一種なので (15.4)、指定された Type の値を含むオブジェクトトークン (15.2) を保持する。</p>
<p>Action の InputPin のトークンに保持された値は Action の実行に対する入力データを与え、Action の実行から生じた出力データはオブジェクトトークンで包み込まれて
Action の OutputPins に置かれる。</p>
<p>Pin の多重度について：</p>
<blockquote>
<div><p>A Pin is also a MultiplicityElement. The multiplicity bounds on a Pin
constrain the total number of values that may be input or output by a single
execution of an Action, not the number of tokens it contains (see the
<code class="docutils literal notranslate"><span class="pre">upperBound</span></code> property inherited from ObjectNode).</p>
</div></blockquote>
<p>継承属性 <code class="docutils literal notranslate"><span class="pre">ordering</span></code> と <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> について：</p>
<blockquote>
<div><p>Pin inherits both an <code class="docutils literal notranslate"><span class="pre">ordering</span></code> attribute from ObjectNode and an
<code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> attribute from MultiplicityElement. The values of these
attributes may be set independently.</p>
</div></blockquote>
<p>ただし、<code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が真の場合、MultiplicityElement としての Pin 上の値の順序は、値が Pin に配置された順序になる。ただし、<code class="docutils literal notranslate"><span class="pre">ordering</span></code> 属性の値によって Pin
から値を取り出す順序が決まる。</p>
<p>例えば <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が <code class="docutils literal notranslate"><span class="pre">true</span></code> で <code class="docutils literal notranslate"><span class="pre">ordering</span></code> が <code class="docutils literal notranslate"><span class="pre">FIFO</span></code> であると、
MultiplicityElement と同じ順序で Pin から値が取られるはずだ。</p>
<p>他方で <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が偽の場合、値がその Pin に置かれる順序は不定であり、異なる
<code class="docutils literal notranslate"><span class="pre">orderings</span></code> の効果は定義されない。</p>
<p>InputPin:</p>
<blockquote>
<div><p>An InputPin is a Pin that holds input values to be consumed by its Action.</p>
</div></blockquote>
<ul class="simple">
<li><p>Action はその InputPins のうちの一つの値が、その <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値より小さい場合、実行を開始することは不可能だ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upper</span></code> 値はその Action の単一の実行によって InputPin から消費することが可能である値の最大数を決定する。</p></li>
</ul>
<blockquote>
<div><p>Tokens consumed by an Action are immediately removed from its InputPins when
the action begins an execution (except in some cases for
StructuredActivityNodes, where tokens may remain on InputPins during the
Action execution - see sub clause 16.11).</p>
</div></blockquote>
<p>OutputPin:</p>
<blockquote>
<div><p>An OutputPin is a Pin that holds output values produced by an Action.</p>
</div></blockquote>
<ul class="simple">
<li><p>各実行について、Action はそれらの OutputPins の多重度の <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値で要求されるのと同数以上の値をその Output に入れることができなければ、それ自身を停止することが不可能だ。以前の実行から OutputPins に残っていることがある値は、この最小多重度要件を満たすことには含まれない。</p></li>
<li><p>Ation は一度の実行では、その OutputPin の多重度よりも多くの値を出力に入れることは許されない。</p></li>
</ul>
<p>ValuePins と ActionInputPins はどんなものか：</p>
<blockquote>
<div><p>ValuePins and ActionInputPins are InputPins, but are not used in the
determination of whether an Action is enabled for execution.</p>
</div></blockquote>
<ul class="simple">
<li><p>Action に実行を開始する他の方法がない場合、その入力に ValuePins または
ActionInputPins を持つだけでは Action の実行は有効にならない。</p></li>
<li><p>Action が他の手段で有効化した場合、Action が所有する ValuePins と
ActionInputPins の指定に従って値が計算され、その結果が実行開始時に Action の入力として与えられる。</p></li>
</ul>
<p>ValuePin は ValueSpecification を評価することで値を備える。Action が他の手段によって有効化されると、その ValuePin の ValueSpecification が評価され、その結果が
Action の実行開始時に入力として与えられる。</p>
<p>ActionInputPin:</p>
<blockquote>
<div><p>An ActionInputPin provides values by executing another Action. When an Action
is enabled by other means, the <code class="docutils literal notranslate"><span class="pre">fromActions</span></code> on any ActionInputPins owned
by the Action are also enabled.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">fromActions</span></code> は ActionInputPins を所有する Action の前に実行されなければならず、<code class="docutils literal notranslate"><span class="pre">fromAction</span></code> の出力は対応する ActionInputPins に置かれる。</p>
<p>この処理は <code class="docutils literal notranslate"><span class="pre">fromAction</span></code> のどの <code class="docutils literal notranslate"><span class="pre">ActionInputPin</span></code> 上でも再帰する。
ActionInputPins がすべての入力に使用される場合、これは入れ子式の Action モデルである木構造を形成し、Read{Variable,Self}Actions のような入力を持たない Action で底を打つ。</p>
</section>
<section id="actions-and-pins-in-activities">
<h4><a class="toc-backref" href="#id82" role="doc-backlink">16.2.3.4 Actions and Pins in Activities</a><a class="headerlink" href="#actions-and-pins-in-activities" title="Permalink to this heading">¶</a></h4>
<p>Action およびその Pins が Activity に含まれる場合、トークンがいつこの Pins に出入りし、いつこの Action が実行されるかは、Actions と同様に Activities の意味によって決定される。</p>
<p>Activity にある Action を実行する必要条件：</p>
<blockquote>
<div><p>Executing an Action in an Activity requires all of its InputPins to be
offered all necessary tokens, as specified by their minimum multiplicity
(except for the special cases of ActionInputPins and ValuePins, as discussed
above).</p>
</div></blockquote>
<ul>
<li><p>Action が実行を開始すると、その InputPins すべては、各 InputPin で許容される最大多重度まで、供給されたトークンを一度に受理する。</p>
<blockquote>
<div><p>InputPins cannot accept more tokens than will be consumed immediately by
their Actions during a single execution. This ensures that InputPins on
separate Actions competing for the same tokens do not accept any tokens
they cannot immediately consume, causing deadlock or starvation as Actions
wait for tokens accepted by the InputPins of other Actions but not used.</p>
</div></blockquote>
</li>
<li><p>ある Action の InputPins が受理したトークンは、他のどの Action も消費することは不可能だ。</p></li>
</ul>
<p>Activity 内の Action が実行を完了すると、その OutputPins に配置された出力データのオブジェクトトークンは、Pins から出発する ObjectFlows のどれに対しても供給されることがある。さらに、制御トークンはその Action から出発する ControlFlows 上で供給されるものとする (15.5)。</p>
<p>局所的再入可能性の性質：</p>
<blockquote>
<div><p>If an Action is not locally reentrant (<code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code> = false), then
once it starts executing, the Action and its InputPins do not accept any
tokens offered to them until the execution has finished.</p>
</div></blockquote>
<p>この時点で、必要なトークンがまだ利用可能であれば、Action は供給を受理し、新しい実行を開始することが許される。一方、Action の <code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code> が真である場合、上記の規則が許す限り、いつでも新しい実行を開始することが許される。</p>
<p>制御ピンの性質：</p>
<blockquote>
<div><p>A control Pin (with <code class="docutils literal notranslate"><span class="pre">isControl</span></code> = true) must have a control type
(<code class="docutils literal notranslate"><span class="pre">isControlType</span></code> = true), so that they may be used with ControlFlows.</p>
</div></blockquote>
<p>制御 Pins は Actions が Pins に課す制約では無視される。</p>
<p>制御 InputPin に到着したトークンは、その Action に到着した制御トークンと同じ意味を持つが、制御トークンは制御 Pin に一時的に貯蔵することが可能だ。</p>
<p>トークンは Action から出る ControlFlow に置かれたトークンと同じ意味に従って制御
OutputPin に置かれる。</p>
</section>
</section>
<section id="notation">
<h3><a class="toc-backref" href="#id83" role="doc-backlink">16.2.4 Notation</a><a class="headerlink" href="#notation" title="Permalink to this heading">¶</a></h3>
<p>本節では Activities で使われる Actions を表す図表的表記法を既定する。この表記法はオプションであり、適合性のあるツールがテキストによる具体的な構文を用いてもよい。だが、Actions に対する図表的表記を用いるのならば、以下の定義だけが仕様準拠表記だ。</p>
<section id="id4">
<h4><a class="toc-backref" href="#id84" role="doc-backlink">16.2.4.1 Actions</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.2 Action</p>
</div></blockquote>
<ul class="simple">
<li><p>Actions は丸角矩形を用いて示す。</p></li>
<li><p>記号には Action の名前やその他の説明が現れることがある。</p></li>
</ul>
<p>Actions の特化型の対する記法は後述。</p>
<blockquote>
<div><p>Figure 16.3 Local pre- and post-conditions</p>
</div></blockquote>
<p>局所的な事前条件と事後条件はそれぞれキーワード <code class="docutils literal notranslate"><span class="pre">«localPrecondition»</span></code> と
<code class="docutils literal notranslate"><span class="pre">«localPostcondition»</span></code> を呼び出しに取り付けた Comment として示す。</p>
</section>
<section id="id5">
<h4><a class="toc-backref" href="#id85" role="doc-backlink">16.2.4.2 Pins</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.4 Pin notations</p>
<p>As ObjectNodes, Pins are notated as rectangles (see sub clause 15.4.4).
However, Pin rectangles may be notated as small rectangles that are attached
to the symbol for the Action that owns them (see Figure 16.4).</p>
</div></blockquote>
<p>Pin の付近にその名前を表示してもよい。名前に制限はないが、それを流れるオブジェクトやデータの種類を単に示すだけだ。両者を示すには <code class="docutils literal notranslate"><span class="pre">name:</span> <span class="pre">type</span></code> のようにラベルする。</p>
<p>InvocationActions の Pin に対応する Parameter を Classes 上の BehavioralFeatures
の Parameter と同じテキスト表記を用いて、ラベルで完全に指定することもできる。この場合、Classes 上の BehaviorFeatures の Parameters と同じテキスト表記 (16.3.4)
を使用する。</p>
<blockquote>
<div><p>Figure 16.5 Pin notations, with arrows</p>
</div></blockquote>
<p>InputPins と OutputPins を区別する ActivityEdges が存在しないときには、この図のように矢印を Pin 矩形の内部に配置しても構わない。矢印の向きは Action に対する入出力の別によって決める。</p>
<blockquote>
<div><p>Figure 16.6 Standalone Pin notations</p>
</div></blockquote>
<p>ある Action の OutputPin が ObjectFlow を介して別の Action の同名 InputPin に接続している状況では、この図のようなオプション記法で示すことが許される。</p>
<ul class="simple">
<li><p>この記法における単品の Pin は当該モデルにおける OutputPin, InputPin, その間の
ObjectFlow に対応する。</p></li>
<li><p>この形式は Pin の型が同じでないならばなるべく避けること。</p></li>
</ul>
<blockquote>
<div><p>Control Pins are shown with the textual annotation {control} placed near the
Pin symbol.</p>
<p>A ValuePin is notated as an InputPin with the ValueSpecification written
beside it (see sub clause 8.2.4 on textual notation for ValueSpecifications).</p>
</div></blockquote>
</section>
</section>
<section id="examples">
<h3><a class="toc-backref" href="#id86" role="doc-backlink">16.2.5 Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<section id="id6">
<h4><a class="toc-backref" href="#id87" role="doc-backlink">16.2.5.1 Actions</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.7 Examples of Actions</p>
</div></blockquote>
<p>Send Payment の実施後に Accept Payment が実施される。</p>
<blockquote>
<div><p>Figure 16.8 Example of action using a tool-specific concrete syntax</p>
</div></blockquote>
<p>あるツールに固有の具体的構文で表現されたアクションらしい。ループ処理を一つの
Action で表してよいようだ。</p>
<blockquote>
<div><p>Figure 16.9 Example of an action with local pre- and post-conditions</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Dispense</span> <span class="pre">Drink</span></code> という Action の局所的な事前条件と事後条件が Comment 記法を使って詳細に記された例。飲み物が自販機から出る前後の状態が普通の英語で仕様化されている。</p>
</section>
<section id="id7">
<h4><a class="toc-backref" href="#id88" role="doc-backlink">16.2.5.2 Pins</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.10 Pin examples</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Fill</span> <span class="pre">Order</span></code> が <code class="docutils literal notranslate"><span class="pre">Order</span></code> を生産し、<code class="docutils literal notranslate"><span class="pre">Ship</span> <span class="pre">Order</span></code> がそれを消費する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fill</span> <span class="pre">Order</span></code> は <code class="docutils literal notranslate"><span class="pre">Ship</span> <span class="pre">Order</span></code> が開始するために完了する必要がある。</p></li>
<li><p>右上の図式は両 Actions に Pin 記号を明示した版だ。</p></li>
<li><p>下の図式では Pin をたくさん描いている。Pin に添えられている角括弧付きのラベルが目を引く。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.11 Specifying selection behavior on an ObjectFlow</p>
</div></blockquote>
<ul class="simple">
<li><p>Pin は ObjectNode なので <code class="docutils literal notranslate"><span class="pre">selection</span></code> の指定が可能。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Order</span></code> は <code class="docutils literal notranslate"><span class="pre">Order</span> <span class="pre">Priority</span></code> に基づいて出荷され、同じ優先度のものは FIFO 方式で補充することを意図している。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.12 Example abstract syntax model showing the use of ActionInputPins</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">self.foo-&gt;bar(self.baz)</span></code> なるテキストによる具体的構文の式を UML 抽象構文式で示したもの。これは難しい。</p>
</section>
</section>
</section>
<section id="invocation-actions">
<h2><a class="toc-backref" href="#id89" role="doc-backlink">16.3 Invocation Actions</a><a class="headerlink" href="#invocation-actions" title="Permalink to this heading">¶</a></h2>
<section id="id8">
<h3><a class="toc-backref" href="#id90" role="doc-backlink">16.3.1 Summary</a><a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>An InvocationAction is an Action that results, directly or indirectly, in the
invocation of a Behavior (see sub clause 13.2).</p>
</div></blockquote>
<p>InvocationActions には、Operations や Behaviors を呼び出すための CallActions
や、すでにオブジェクト化された Behaviors を開始するための CallActions がある。</p>
<p>InvocationActions には信号やその他のオブジェクトを標的として送信したり、利用可能な受信者に向けて信号を一斉送信する能力を有するものある。</p>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id91" role="doc-backlink">16.3.2 Abstract Syntax</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.13 Invocation Actions</p>
</div></blockquote>
<p>抽象型 InvocationAction から派生する型がいくつかある。概要に書いてあるとおりのクラス図。</p>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id92" role="doc-backlink">16.3.3 Semantics</a><a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<section id="call-actions">
<h4><a class="toc-backref" href="#id93" role="doc-backlink">16.3.3.1 Call Actions</a><a class="headerlink" href="#call-actions" title="Permalink to this heading">¶</a></h4>
<p>CallAction の定義から。</p>
<blockquote>
<div><p>A CallAction is an InvocationAction that calls a Behavior or an Operation.
There are three kinds of CallActions:</p>
</div></blockquote>
<dl>
<dt>CallBehaviorAction</dt><dd><p>Behavior を直接呼び出す CallAction であり、BehavioralFeature を呼び出すことで
Behavior を呼び出すものではない。</p>
</dd>
<dt>CallOperationAction</dt><dd><p>Operation 呼び出し要求メッセージを対象オブジェクトに伝達し、関連 Behavior の呼び出しを引き起こすことがある CallAction だ。その対象オブジェクトはこの
CallOperationAction の <code class="docutils literal notranslate"><span class="pre">target</span></code> InputPin から取得する。</p>
</dd>
<dt>StartObjectBehaviorAction</dt><dd><p>直接オブジェクト化された Behavior か、あるオブジェクトの
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> のどちらか一方の実行を開始する CallAction だ。開始するオブジェクトはその InputPin から取得する。</p>
<blockquote>
<div><p>If the input object is an instantiated Behavior that is not already
executing, then it begins executing. If the input object has a
classifierBehavior that is not already executing, then it is instantiated
and started. In either case, if the identified Behavior is already
executing, then the StartObjectBehavior has no effect.</p>
</div></blockquote>
<p>注意：入力オブジェクトが新規生成された Behavior でない場合は、
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> を持つ必要がある。入力オブジェクトが新規生成された
Behavior である場合、そのオブジェクトは <code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> をも持っていることがあり、それも開始される。この <code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> 自体が
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> を持っている場合、この <code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> も再帰的に開始される。</p>
</dd>
</dl>
<p>CallAction は直接的にか、またはある Operation 呼び出しを通じて、同期的または非同期的 Behavior 呼び出しに帰することがある。</p>
<ul class="simple">
<li><p>呼び出しが同期的 (<code class="docutils literal notranslate"><span class="pre">isSynchronous</span></code> = true) の場合、呼び出された Behavior の実行が（正常かどうかを問わず）完了するまで、その Action の実行は完了しない。</p></li>
<li><p>呼び出しが非同期的 (<code class="docutils literal notranslate"><span class="pre">isSynchronous</span></code> = false) の場合、Action の実行はその
Behavior が呼び出されるとすぐに完了する。非同期呼び出しが完了すると、CallAction を包含する Behavior の実行は、Behaviorの実行中に発生した例外条件の処理も含め、呼び出された Behaviorの実行とは独立して同時に進行する。</p></li>
</ul>
<p>再入不能な Behavior を呼び出すと：</p>
<blockquote>
<div><p>If the Behavior invoked by a CallAction is not reentrant, then no more than
one execution of it shall exist at any given time (see sub clause 13.2.2).</p>
</div></blockquote>
<p>再入不能 Behavior の呼び出しは、その Behavior がすでに実行中であるときに新たな実行を開始することは許されないが、現在の実行が停止したときに新たな実行を開始することは許される。</p>
<blockquote>
<div><p>However, a CallAction with <code class="docutils literal notranslate"><span class="pre">isLocallyReentrant</span></code> = false shall not start a
new execution of the Behavior if there is a Behavior execution ongoing that
was started by the same Action within the same containing Behavior execution,
but may start it when the current execution terminates (see also sub clause
16.2.3).</p>
</div></blockquote>
<p>Parameters と Pins の照合仕様：</p>
<blockquote>
<div><p>Behaviors and Operations have totally ordered lists of owned Parameters, and
these Parameters are matched to Pins on a CallAction using that ordering.</p>
</div></blockquote>
<ul class="simple">
<li><p>CallAction の <code class="docutils literal notranslate"><span class="pre">arguments</span></code> Pins は入力 Parameters の部分リストに順番に照合され、<code class="docutils literal notranslate"><span class="pre">result</span></code> Pins は出力 Parameters の部分リストに順番に照合される。</p></li>
<li><p>CallAction の <code class="docutils literal notranslate"><span class="pre">arguments</span></code> と <code class="docutils literal notranslate"><span class="pre">results</span></code> Pins の型、順序、多重度は、対応する
Parameters と同じでなければならない。</p></li>
</ul>
<p>CallAction を実行すると、その <code class="docutils literal notranslate"><span class="pre">argument</span></code> Pins にある値が、対応する入力
Parameters で呼び出された Behavior または Operation に引き渡される。</p>
<ul class="simple">
<li><p>呼び出しが同期的である場合、出力 Parameter に返された値が CallAction の対応する <code class="docutils literal notranslate"><span class="pre">result</span></code> Pins のトークンに配置される。</p></li>
<li><p>出力 Parameter に値がない場合は、対応する <code class="docutils literal notranslate"><span class="pre">result</span></code> Pin に空トークンが配置される。</p></li>
<li><p>呼び出しが非同期の場合、結果値を返すことは不可能だ。</p></li>
</ul>
<p>引数の一つでも streaming ならば：</p>
<blockquote>
<div><p>If any of the Parameters are streaming (<code class="docutils literal notranslate"><span class="pre">isStreaming</span></code> = true), then the
call must be synchronous (see also the discussion of streaming Behavior
parameters in sub clause 13.2.3).</p>
</div></blockquote>
<ul class="simple">
<li><p>この場合、呼び出し先 Behavior の実行中、CallAction は streaming 入力 Parameter
に対応する実引数 Pin に、各 Pin の <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値までのトークンを受理し続ける。Streaming 出力 Parameter に配送された値は、対応する結果 Pins に供給される（各 Pin の <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値までしか受理されない）。</p></li>
</ul>
<p>呼び出し先 Behavior はその実行中に、呼び出し元 CallAction との間のトークンフローを streaming Parameter によって入手できるということになる。</p>
<p>Actions についての実行規則に加えて、<code class="docutils literal notranslate"><span class="pre">streaming</span></code> Parameters のある Behavior や
Operation を呼び出す CallAction には次の規則が適用する：</p>
<ul>
<li><p>CallAction に対する InputPins のすべてで、それぞれの <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値以上の個数の値が CallAction 実行前に供給されるものとする。</p>
<blockquote>
<div><p>If all the <code class="docutils literal notranslate"><span class="pre">argument</span></code> Pins of the CallAction are for streaming Parameters
with a <code class="docutils literal notranslate"><span class="pre">lower</span></code> multiplicity greater than 0, then at least one shall have
an offered value before the CallAction can execute.</p>
</div></blockquote>
</li>
<li><p>CallAction が正常に実行を完了することが可能になる前に、ある <code class="docutils literal notranslate"><span class="pre">streaming</span></code>
Parameter に対応する CallAction の <code class="docutils literal notranslate"><span class="pre">argument</span></code> Pin それぞれの <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値以上の個数の値が受理されなければならない。</p></li>
<li><p>呼び出された Behavior の実行が正常に完了する前に、CallAction の <code class="docutils literal notranslate"><span class="pre">result</span></code> Pin
それぞれの <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値以上の値を、その実行完了までに配送されなければならない。</p>
<blockquote>
<div><p>(Values may be posted to <code class="docutils literal notranslate"><span class="pre">result</span></code> Pins corresponding to streaming output
Parameters before the execution completes.)</p>
</div></blockquote>
<p>しかし、呼び出し先 Behavior が正常に完了しない場合、<code class="docutils literal notranslate"><span class="pre">result</span></code> Pin にはその
<code class="docutils literal notranslate"><span class="pre">lower</span></code> 値よりも少ない数の値が配送されてもよい。</p>
</li>
</ul>
<p>ParameterSets にグループ化されている Parameters がある {Behavior,Operation} を呼び出す CallAction には特別な規則も適用する：</p>
<ul>
<li><p>{Behavior,Operation} に入力 ParameterSets がある場合、CallAction 実行許可時の
(16.2.3) の規則が、入力 ParameterSet それぞれの Parameters に対応している
InputPins の（重複する可能性のある）集合に個別に適用される。</p>
<blockquote>
<div><p>If sufficient data is available to more than one input set, then one is
chosen non- deterministically.</p>
</div></blockquote>
</li>
<li><p>{Behavior,Operation} に出力 ParameterSets があり、かつ CallAction が正常完了する場合、この CallAction はある出力 ParameterSet に対応している OutPins 上にしか、これらの OutPins の <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値に見合う出力を生じないものとする。かつ、オブジェクトトークンがこれらの OutputPins から出発する ActivityEdges に供給される。</p>
<blockquote>
<div><p>No object tokens are offered from any other OutputPins, not even null
tokens.</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="send-actions">
<h4><a class="toc-backref" href="#id94" role="doc-backlink">16.3.3.2 Send Actions</a><a class="headerlink" href="#send-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A send Action is an action that transmits an object asynchronously to one or
more target objects. As a send Action is always asynchronous, it may have
<code class="docutils literal notranslate"><span class="pre">argument</span></code> inputs, but it has no result outputs. The Action completes as
soon as the object is sent, whether or not it has been received yet.</p>
</div></blockquote>
<p>非同期であること、結果出力がないこと、送付をもって完了することが特徴だ。次の三種類の送信 Actions がある：</p>
<dl>
<dt>SendSignalAction</dt><dd><p>Signal オブジェクトを生成してそれを対象の InputPin で指定されたオブジェクトに伝える InvocationAction だ。</p>
<blockquote>
<div><p>A SendSignalAction must have <code class="docutils literal notranslate"><span class="pre">argument</span></code> InputPins corresponding, in
order, to each of the (owned and inherited) Properties of the Signal being
sent, with the same type, ordering and multiplicity as the corresponding
<code class="docutils literal notranslate"><span class="pre">attribute</span></code>.</p>
</div></blockquote>
<ul class="simple">
<li><p>伝達される Signal オブジェクトの Property 値は、その Property に対応する
<code class="docutils literal notranslate"><span class="pre">argument</span></code> InputPin から取られる。</p></li>
<li><p>対象オブジェクトによる Signal オブジェクトの処理は (13.2.3), (13.3.3) で述べられる。</p></li>
</ul>
</dd>
<dt>BroadcastSignalAction</dt><dd><p>SendSignalAction 同様に、その <code class="docutils literal notranslate"><span class="pre">argument</span></code> InputPins から取った値を使って
Signal オブジェクトを生成する InvocationActionだ。ただし、Signal オブジェクトを単一の対象オブジェクトに送信するのではなく、システム内の利用可能な対象オブジェクトのすべてに潜在的に伝達する。</p>
</dd>
<dt>SendObjectAction</dt><dd><p>その対象の InputPin で指定されたオブジェクトに向けてあらゆる種類のオブジェクトを伝える InvocationAction だ。</p>
<ul class="simple">
<li><p>伝達されるオブジェクトは SendObjectAction の単一要望 InputPin で与えられる。</p></li>
<li><p>このオブジェクトが Signal インスタンスである場合、{Send,Broadcast}SignalAction から送信されたものと同じ方法で対象オブジェクトによって処理される。そうでない場合、オブジェクト受付は AnyReceiveEvent
を使用してしか処理不能だ (13.3.3)。</p></li>
</ul>
</dd>
</dl>
<p>{Send,Broadcast}SignalActions では <code class="docutils literal notranslate"><span class="pre">argument</span></code> InputPins は送信される Signal の
Properties に順番に照合される。Signal の所有 Property は ordered であるが、Signal は Generalization 関係によって他の Signals の Properties から継承することもある。この場合 Property の順序は所有 Properties が継承 Properties の前に来るようになる。以下略。</p>
<blockquote>
<div><p>The target object(s) of a send Action may be local or remote. The transmitted
object may be copied during transmission, so identity may not be preserved.</p>
</div></blockquote>
<p>オブジェクトの伝達方法、それに必要な時間、伝達がさまざまな対象に到達する順序、経路はすべて未定義だ。</p>
</section>
<section id="invocation-actions-and-ports">
<h4><a class="toc-backref" href="#id95" role="doc-backlink">16.3.3.3 Invocation Actions and Ports</a><a class="headerlink" href="#invocation-actions-and-ports" title="Permalink to this heading">¶</a></h4>
<p>Port がある InvocationAction とそうでないものがある：</p>
<blockquote>
<div><p>A CallOperationAction, SendSignalAction, or SendObjectAction may send a
request through a Port by targeting an object having the Port and identifying
the Port with the Action’s <code class="docutils literal notranslate"><span class="pre">onPort</span></code> attribute. Other kinds of
InvocationActions shall not have a value for the <code class="docutils literal notranslate"><span class="pre">onPort</span></code> attribute.</p>
</div></blockquote>
<p>この Port には次の要件がある：</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">onPort</span></code> is given, then the Port shall be an owned or inherited
<code class="docutils literal notranslate"><span class="pre">feature</span></code> of the <code class="docutils literal notranslate"><span class="pre">type</span></code> of the <code class="docutils literal notranslate"><span class="pre">target</span></code> InputPin of the Action.</p>
</div></blockquote>
<p>Action が実行されると、対象オブジェクト自体にメッセージを送信するのではなく、対象オブジェクトの与えられた Port を通してメッセージを送信、処理される (11.3.3)。</p>
<p>「内側で実行する」という概念：</p>
<blockquote>
<div><p>An Action is said to execute <em>inside</em> an object if the context object of the
Behavior execution within which the Action is executing is either the same as
or is directly or indirectly owned (in the sense of transitive composition
links) by the given object.</p>
</div></blockquote>
<p>例えば、与えられたオブジェクト（あるいはオブジェクトの部分）の <code class="docutils literal notranslate"><span class="pre">method</span></code> や
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> の中で実行される場合もこれに含まれる。</p>
<p>ある情況での Action に関係する Operation や Reception に注目する：</p>
<blockquote>
<div><p>In the case of a CallOperationAction, a <code class="docutils literal notranslate"><span class="pre">provided</span></code> or <code class="docutils literal notranslate"><span class="pre">required</span></code>
Interface of the given Port shall have the called Operation as a <code class="docutils literal notranslate"><span class="pre">feature</span></code>.
In the case of a SendSignalAction or a SendObjectAction whose <code class="docutils literal notranslate"><span class="pre">object</span></code>
InputPin has a Signal as its <code class="docutils literal notranslate"><span class="pre">type</span></code>, a <code class="docutils literal notranslate"><span class="pre">provided</span></code> or <code class="docutils literal notranslate"><span class="pre">required</span></code>
Interface of the given Port may have a Reception for the identified Signal,
but this is not required. In either case, the relevant Operation or Reception
(if any) is referred to as the <em class="dfn">invoked BehavioralFeature</em> in the
following rules.</p>
</div></blockquote>
<ul>
<li><p>呼び出に先 BehavioralFeature がある <code class="docutils literal notranslate"><span class="pre">provided</span></code> Interface にはあって、どの
<code class="docutils literal notranslate"><span class="pre">required</span></code> Interface にもない場合、InvocationAction が実行されると、与えられた Port を通して、対象 InputPin で与えられたオブジェクトに呼び出され、その受領は (11.3.3) で述べられたように処理される。</p>
<blockquote>
<div><p>NOTE. This allows an InvocationAction executed inside its target object to
potentially send a message back into the target object through a
<code class="docutils literal notranslate"><span class="pre">provided</span></code> Interface of one of its own Ports.</p>
</div></blockquote>
</li>
<li><p>呼び出し先 BehavioralFeature がある <code class="docutils literal notranslate"><span class="pre">required</span></code> Interface にはあって、どの
<code class="docutils literal notranslate"><span class="pre">provided</span></code> Interface にもない場合、InvocationAction が対象 InputPin で与えられるオブジェクトの内部で実行されていると、(11.3.3) で述べられたように、与えられた Port を通して、対象オブジェクトの外部へ呼び出しが転送される。</p>
<blockquote>
<div><p>If the InvocationAction is being executed other than inside the given
target object, the semantics are undefined.</p>
</div></blockquote>
</li>
<li><p>呼び出し先 BehavioralFeature がある <code class="docutils literal notranslate"><span class="pre">provided</span></code> とある <code class="docutils literal notranslate"><span class="pre">required</span></code> Interface
の両方にあるか、または呼び出し先 BehavioralFeature がない場合、この
InvocationAction が対象の InputPin で与えられるオブジェクトの内部で実行されていれば、与えられた Port を通して対象オブジェクトの外部で呼び出される。そうでない場合、中へ呼び出される。</p>
<blockquote>
<div><p>NOTE. In this case, if the InvocationAction executes inside its target
object, it cannot send a message back into the target object, because such
a message would go out through the required Interface. However, the same
effect can be achieved by having a Connector that loops from the Port in
question back to that same Port.</p>
</div></blockquote>
</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">onPort</span></code> を指定することなしに、{CallOperation,SendSignal,SendObject} の対象オブジェクトとして、「相互作用点」オブジェクト（つまり Port に新規生成されたオブジェクト）を使用することも可能だ。この場合、その要求は相互作用店に直接送られ、この Port の所有者の内部で特定の経路に送られる (11.3.3)。この要求は、当 Portの
<code class="docutils literal notranslate"><span class="pre">provided</span></code> Interface のいずれかを介して、相互作用点の所有者に行く。</p>
</section>
</section>
<section id="id11">
<h3><a class="toc-backref" href="#id96" role="doc-backlink">16.3.4 Notation</a><a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">onPort</span></code> の値は特定の InvocationAction を意味する記号の名前文字列にある句 “via
&lt;port&gt;” によって示す。</p>
<section id="call-behavior-actions">
<h4><a class="toc-backref" href="#id97" role="doc-backlink">16.3.4.1 Call Behavior Actions</a><a class="headerlink" href="#call-behavior-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.14 Calling a Behavior</p>
<p>A CallBehaviorAction shall be notated as an Action with the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the
invoked Behavior placed inside the Action symbol (see Figure 16.14).</p>
</div></blockquote>
<p>Action の名前が Behavior のそれと異なる場合は、代わりに Action 名が記号に現れるものとする。</p>
<p>Behavior の <code class="docutils literal notranslate"><span class="pre">precondition</span></code> と <code class="docutils literal notranslate"><span class="pre">postcondition</span></code> を Figure 16.3 と同様にして示すことが可能であるが、キーワード <code class="docutils literal notranslate"><span class="pre">«precondition»</span></code> と <code class="docutils literal notranslate"><span class="pre">«postcondition»</span></code> を用いる。</p>
<blockquote>
<div><p>Figure 16.15 Calling an Activity</p>
</div></blockquote>
<p>Activity の呼び出しは Action 記号の内部に熊手みたいな (a rake-style) 記号を置くことで示す。</p>
<blockquote>
<div><p>The rake resembles a miniature hierarchy, indicating that this invocation
starts another Activity that represents a further decomposition.</p>
</div></blockquote>
<p>右側の図式は代替表記だ。呼び出し先 Activity の内容を角丸巨大矩形の中に表示する。</p>
<ul class="simple">
<li><p>ActivityParameterNodes は呼び出し先 Activity の境界線上に表示する。</p></li>
<li><p>ObjectFlows は CallBehaviorAction の Pins に対応する呼び出し先 Activity の
ActivityParameterNodes にリンクして表示するが、抽象構文では Pins にリンクしている。</p></li>
</ul>
<p>抽象構文は記法の選択に関係なく同じだ。</p>
</section>
<section id="call-operation-actions">
<h4><a class="toc-backref" href="#id98" role="doc-backlink">16.3.4.2 Call Operation Actions</a><a class="headerlink" href="#call-operation-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.16 Calling an Operation</p>
<p>A CallOperationAction is notated as an Action with the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the
invoked Operation placed inside the Action symbol</p>
</div></blockquote>
<p>Fig. 16.3 と同様にして示すことが可能。</p>
<blockquote>
<div><p>Figure 16.17 Calling an Operation, showing the owner name</p>
</div></blockquote>
<p>Operation の <code class="docutils literal notranslate"><span class="pre">owner</span></code> の <code class="docutils literal notranslate"><span class="pre">name</span></code> を Operation <code class="docutils literal notranslate"><span class="pre">name</span></code> の下に
<code class="docutils literal notranslate"><span class="pre">(OwnerClassName::)</span></code> または <code class="docutils literal notranslate"><span class="pre">(OwnerClassName::OperationName)</span></code> の形式で表示する。</p>
</section>
<section id="send-signal-and-send-object-actions">
<h4><a class="toc-backref" href="#id99" role="doc-backlink">16.3.4.3 Send Signal and Send Object Actions</a><a class="headerlink" href="#send-signal-and-send-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.18 Sending a Signal</p>
<p>A SendSignalAction is notated as a convex pentagon with the <code class="docutils literal notranslate"><span class="pre">name</span></code> of the
Signal placed inside it.</p>
</div></blockquote>
<ul class="simple">
<li><p>右側が凸。</p></li>
<li><p>SendObjectAction が常にある Signal を送信するような形で用いられる場合、SendSignalAction 記法をがその SendObjectAction を表すのに利用可能だ。</p></li>
</ul>
</section>
<section id="pin-annotations">
<h4><a class="toc-backref" href="#id100" role="doc-backlink">16.3.4.4 Pin Annotations</a><a class="headerlink" href="#pin-annotations" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.19 Exception Pin annotations</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">isException</span></code> が真である Parameters に対応する Pins は、小さい三角形が例外ピンから出発する辺の始点を示す、小さな△の Comment 付きで表示される。</p>
<p>Pin が単品 ObjectNode 記法で示されている場合にも△は記す。</p>
<blockquote>
<div><p>Figure 16.20 Effect Pin annotations</p>
</div></blockquote>
<p>Pin に対応する Parameter に <code class="docutils literal notranslate"><span class="pre">effect</span></code> が指定されている場合、その <code class="docutils literal notranslate"><span class="pre">effect</span></code> は
Pin に接続する辺の付近に中括弧で囲んで記す。</p>
<blockquote>
<div><p>Figure 16.21 Stream Pin annotations</p>
</div></blockquote>
<p>Pin に対応する Parameter の <code class="docutils literal notranslate"><span class="pre">isStreaming</span></code> の真偽値は、この Pin 記号の近くに
<code class="docutils literal notranslate"><span class="pre">{stream}</span></code> または <code class="docutils literal notranslate"><span class="pre">{nonstream}</span></code> で示す。</p>
<ul class="simple">
<li><p>Pin が単品 ObjectNode 記法で示されている場合にも同様。</p></li>
<li><p>このような中括弧 Comment が省略されている場合は <code class="docutils literal notranslate"><span class="pre">{nonstream}</span></code> であるものとする。</p></li>
</ul>
<p>Streaming Parameters については図表的表記を用いることでさらに強調することがある：</p>
<ul class="simple">
<li><p>単品の Pin を塗りつぶし矢印で結んで streaming を示すことが可能だ。</p></li>
<li><p>そうでなければ streaming Paramters に対応する Pins を塗りつぶし小矩形で示すことが可能だ。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.22 Stream Pin annotations, with filled arrows and rectangles</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">streaming</span></code> Parameters を示すためにには、さらなる強調を付加してよい。</p>
<ul>
<li><p>単体の Pin に接続している矢印の矢先を黒く塗りつぶしてよい。</p></li>
<li><p>さもなければ Pins 自体を黒く塗りつぶしてよい。</p></li>
</ul>
</li>
</ul>
</section>
<section id="parameter-sets">
<h4><a class="toc-backref" href="#id101" role="doc-backlink">16.3.4.5 Parameter Sets</a><a class="headerlink" href="#parameter-sets" title="Permalink to this heading">¶</a></h4>
<p>InvocationAction の Pins に出入りする複数の ObjectFlows は通常 “and” 条件として扱われる。しかし、ある flows のグループ一つが他のグループに対して排他的であることもある。これは ParameterSets でモデル化されて、一つ以上の Pins を取り囲む矩形として表記される。</p>
<blockquote>
<div><p>Figure 16.23 Alternative input/outputs using ParameterSet notation</p>
</div></blockquote>
<p>入力に対する disjunctive normal form を表している。”and” の流れのグループ一つが“or” のグループ分けによって分離されている。</p>
</section>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id102" role="doc-backlink">16.3.5 Examples</a><a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<section id="id13">
<h4><a class="toc-backref" href="#id103" role="doc-backlink">16.3.5.1 Call Behavior Actions</a><a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.24 Invoking an Activity</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Fill</span> <span class="pre">Order</span></code> という Activity を呼び出す CallBehaviorAction だ。角丸矩形内右下の逆さフォーク記号に注意。</p>
</section>
<section id="send-signal-actions">
<h4><a class="toc-backref" href="#id104" role="doc-backlink">16.3.5.2 Send Signal Actions</a><a class="headerlink" href="#send-signal-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.25 Sending Signals</p>
</div></blockquote>
<p>何か発注処理のワークフローの一部を示す図式。Signals が送られる。</p>
<blockquote>
<div><p>An order is created (in response to some previous request that is not shown
in the example). A Signal is sent to the warehouse to fill and ship the
order. Then an invoice is created and sent to the customer.</p>
</div></blockquote>
</section>
<section id="id14">
<h4><a class="toc-backref" href="#id105" role="doc-backlink">16.3.5.3 Pin Annotations</a><a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.26 Streaming Pin examples</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Order</span> <span class="pre">Filling</span></code> は周期的にオブジェクトを放出する（この仕様を <code class="docutils literal notranslate"><span class="pre">{stream}</span></code> で示している）連続的 Behavior であり、必ずしも完了するものではない。</p>
<p><code class="docutils literal notranslate"><span class="pre">Order</span> <span class="pre">Shipping</span></code> も補充された (<code class="docutils literal notranslate"><span class="pre">[Filled]</span></code>) <code class="docutils literal notranslate"><span class="pre">Order</span></code> オブジェクトを周期的に受理する連続的 Behavior だ。<code class="docutils literal notranslate"><span class="pre">Order</span> <span class="pre">Shipping</span></code> は最初の <code class="docutils literal notranslate"><span class="pre">Order</span></code> が到着したときに呼び出され、到着するたびに処理することを <code class="docutils literal notranslate"><span class="pre">{stream}</span></code> で示している。</p>
<blockquote>
<div><p>Figure 16.27 Exception Pin examples</p>
</div></blockquote>
<p>上のコースは例外送出ケース。△がそれを示す。</p>
<blockquote>
<div><p>Figure 16.28 Pin example with effects</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Order</span></code> を発注する <code class="docutils literal notranslate"><span class="pre">Place</span> <span class="pre">Order</span></code> Action と、発注された <code class="docutils literal notranslate"><span class="pre">Order</span></code> を読み込んで処理する <code class="docutils literal notranslate"><span class="pre">Fill</span> <span class="pre">Order</span></code> Action を示している。</p>
<ul class="simple">
<li><p>中括弧は <code class="docutils literal notranslate"><span class="pre">effect</span></code> を示す。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Place</span> <span class="pre">Order</span></code> が <code class="docutils literal notranslate"><span class="pre">Order</span></code> を <code class="docutils literal notranslate"><span class="pre">{create}</span></code> して、<code class="docutils literal notranslate"><span class="pre">Fill</span> <span class="pre">Order</span></code> が
<code class="docutils literal notranslate"><span class="pre">Order</span></code> を <code class="docutils literal notranslate"><span class="pre">{read}</span></code> する。</p></li>
</ul>
</section>
<section id="id15">
<h4><a class="toc-backref" href="#id106" role="doc-backlink">16.3.5.4 Parameter Sets</a><a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.29 Alternative input/outputs using ParameterSets</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Ship</span> <span class="pre">Item</span></code> の InputPins が（それぞれが）グループ化されているので、<code class="docutils literal notranslate"><span class="pre">Buy</span>
<span class="pre">Item</span></code> か <code class="docutils literal notranslate"><span class="pre">Make</span> <span class="pre">Item</span></code> からのどちらかのアイテムを受信するたびに <code class="docutils literal notranslate"><span class="pre">Ship</span> <span class="pre">Item</span></code>
が開始する。</p>
</section>
</section>
</section>
<section id="object-actions">
<h2><a class="toc-backref" href="#id107" role="doc-backlink">16.4 Object Actions</a><a class="headerlink" href="#object-actions" title="Permalink to this heading">¶</a></h2>
<section id="id16">
<h3><a class="toc-backref" href="#id108" role="doc-backlink">16.4.1 Summary</a><a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Object Actions deal with the creation, destruction and comparison of
instances of Classifiers.</p>
</div></blockquote>
<p>与えられた Classifier のオブジェクトを読み込んだり、オブジェクトがどのように分類されているかを調べたり、オブジェクトの分類を変化させたりする Actions もある。</p>
</section>
<section id="id17">
<h3><a class="toc-backref" href="#id109" role="doc-backlink">16.4.2 Abstract Syntax</a><a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.30 Object Actions</p>
</div></blockquote>
<p>十個近くの派生 Actions がある。注意深く見ると {Input,Output}Pin のどちらかしかないものと、両方があるものがあることに気づく。</p>
</section>
<section id="id18">
<h3><a class="toc-backref" href="#id110" role="doc-backlink">16.4.3 Semantics</a><a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h3>
<section id="create-object-actions">
<h4><a class="toc-backref" href="#id111" role="doc-backlink">16.4.3.1 Create Object Actions</a><a class="headerlink" href="#create-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A CreateObjectAction is an Action that creates a direct instance of a given
Classifier and places the new instance on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin. The
Action has no other effect.</p>
</div></blockquote>
<p>オブジェクトが生成される Classifier が Behavior である場合、その生成オブジェクトがその Behavior の実行だ。ただしその実行は生成時にすぐに自動的に開始することはない。StartObjectBehaviorAction (16.3.3) を用いて明示的に開始するものとする。</p>
</section>
<section id="destroy-object-actions">
<h4><a class="toc-backref" href="#id112" role="doc-backlink">16.4.3.2 Destroy Object Actions</a><a class="headerlink" href="#destroy-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A DestroyObjectAction is an Action that destroys the object on its target
InputPin.</p>
</div></blockquote>
<p>オブジェクトはリンクである場合もある。DestroyLinkAction (16.6) の意味が適用される。</p>
<p>オブジェクトが破壊されると、それはどの Classifier とも分類されぬものになる。</p>
<p>リンクの破壊：</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isDestroyLinks</span></code> is true, links in which the object participates are
destroyed along with the object according to the semantics of
DestroyLinkAction, except for link objects, which are destroyed according to
the semantics of DestroyObjectAction with the same attribute values as the
original DestroyObjectAction.</p>
</div></blockquote>
<p>複合集約オブジェクトの破壊：</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isDestroyOwnedObjects</span></code> is true, objects owned by the object through
composite aggregation are destroyed according to the semantics of
DestroyObjectAction with the same attribute values as the original
DestroyObjectAction.</p>
</div></blockquote>
<p>既に破壊されたオブジェクトを破壊することは効果がない。</p>
</section>
<section id="test-identity-actions">
<h4><a class="toc-backref" href="#id113" role="doc-backlink">16.4.3.3 Test Identity Actions</a><a class="headerlink" href="#test-identity-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A TestIdentityAction is an action that tests if the two values given on its
InputPins are identical objects. If the two values represent the same object,
the Boolean value true is placed on the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin. Otherwise the
value false is placed on the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<ul class="simple">
<li><p>Class 型オブジェクト同士の比較は、オブジェクトの同一性に基づいて行われる。</p></li>
<li><p>DataType 型オブジェクト同士の比較は、同じ値を持つかどうかに基づいて行われる。</p>
<ul>
<li><p>PrimitiveType 型の場合、UML 外の型の定義によって決定される。</p></li>
<li><p>Enumeration の場合は EnumerationLiteral の比較で決まる。</p></li>
<li><p>それ以外の場合は対応する属性同士の比較となる。</p></li>
</ul>
</li>
</ul>
<p>比較不能の場合でも、とにかく TestIdentityAction は真偽値を出す。</p>
<blockquote>
<div><p>The result of a TestIdentityAction for objects that are classified by both
Classes and DataTypes, or by other kinds of Classifiers, is not defined, but,
in all cases the Action produces a Boolean result.</p>
</div></blockquote>
</section>
<section id="read-self-actions">
<h4><a class="toc-backref" href="#id114" role="doc-backlink">16.4.3.4 Read Self Actions</a><a class="headerlink" href="#read-self-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadSelfAction is an Action that places the context object of the Action
execution on its result OutputPin. (See sub clause 16.2.3 about context
objects.)</p>
</div></blockquote>
<p>例えば、ReadSelfAction がある Operation のメソッドである Behavior に含まれている場合、それが返す context object はその Operation 呼び出し対象である Operation の所有 Classifier のオブジェクトになる。</p>
<p>ReadSelfAction がどの Behavior の所有 Classifier にも含まれていない Behavior に含まれている場合、context object はこの Action が実行されている Behavior のオブジェクトになる。</p>
</section>
<section id="value-specification-actions">
<h4><a class="toc-backref" href="#id115" role="doc-backlink">16.4.3.5 Value Specification Actions</a><a class="headerlink" href="#value-specification-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ValueSpecificationAction is an Action that evaluates a ValueSpecification
and places the resulting value on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<p>特に、LiteralSpecification を ValueSpecificationAction で定数値を生産するために使用してもよい。</p>
<p>ValueSpecificationAction で InstanceValue を使用することは CreateObjectAction を使用してオブジェクトを生成することと似ているが、InstanceValue の
InstanceSpecification の <code class="docutils literal notranslate"><span class="pre">slot</span></code> を使用してこの StructuralFeatures に値を与えることがある。</p>
</section>
<section id="read-extent-actions">
<h4><a class="toc-backref" href="#id116" role="doc-backlink">16.4.3.6 Read Extent Actions</a><a class="headerlink" href="#read-extent-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadExtentAction is an Action that retrieves the objects in the current
extent of a Classifier and places them on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin. The
<em>extent</em> of a classifier is the set of all instances of a Classifier
(including instances of any specializations) that exist at any one time.</p>
</div></blockquote>
<p>よくわからない概念だ。</p>
</section>
<section id="reclassify-object-actions">
<h4><a class="toc-backref" href="#id117" role="doc-backlink">16.4.3.7 Reclassify Object Actions</a><a class="headerlink" href="#reclassify-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReclassifyObjectAction is an Action that changes which Classifiers classify
the object given on its <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin. It may both add and remove
Classifiers from the object. Multiple Classifiers may be added and removed at
one time.</p>
</div></blockquote>
<p>この Action 完了後、入力オブジェクトは各 <code class="docutils literal notranslate"><span class="pre">newClassifier</span></code> によって分類され、<code class="docutils literal notranslate"><span class="pre">oldClassifier</span></code> によってはされない。</p>
<ul class="simple">
<li><p>このオブジェクトが <code class="docutils literal notranslate"><span class="pre">oldClassifier</span></code> ではない Classifier によって以前に分類されていた場合は、その Classifier によっても分類される。</p></li>
<li><p>すでに存在する Classifier と重複する <code class="docutils literal notranslate"><span class="pre">newClassifier</span></code> を指定しても、入力オブジェクトを分類していない <code class="docutils literal notranslate"><span class="pre">oldClassifier</span></code> を指定しても、<code class="docutils literal notranslate"><span class="pre">newClassifier</span></code> と
<code class="docutils literal notranslate"><span class="pre">oldClassifier</span></code> の両方として Classifier を指定しても、何の効果もない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">newClassifier</span></code> は抽象型であってはならない。</p></li>
</ul>
<blockquote>
<div><p>The identity of the input object is preserved, no behaviors are executed, and
no default value expressions are evaluated.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">newClassifiers</span></code> は不可分な段階で既存の分類子を置き換えるので、
<code class="docutils literal notranslate"><span class="pre">oldClassifiers</span></code> と <code class="docutils literal notranslate"><span class="pre">newClassifiers</span></code> が共通の構造的特徴や関連を持っていても、再分類時に構造的特徴値やリンクが失われることはない。</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> is <em>true</em>, then all existing Classifiers for the object
are removed before the <code class="docutils literal notranslate"><span class="pre">newClassifiers</span></code> are added, except if a
newClassifier already classifies the input object, in which case this
Classifier is not removed.</p>
</div></blockquote>
<p>オブジェクトから Classifiers を全部取り除いて、新しいものを何も追加しないことの効果は定義されない。</p>
</section>
<section id="read-is-classified-object-actions">
<h4><a class="toc-backref" href="#id118" role="doc-backlink">16.4.3.8 Read-Is-Classified-Object Actions</a><a class="headerlink" href="#read-is-classified-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadIsClassifiedObjectAction is an Action that determines whether the
object given on its <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin is classified by a given Classifier.
If it is so classified, then a Boolean <em>true</em> value is placed on the result
OutputPin. Otherwise a <em>false</em> value is placed on the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">isDirect</span></code> が真ならば、調べる内容はそのオブジェクトが指定 Classifier により直接的に分類されるかどうかであり、その Classifier の特殊化によって分類されるかどうかは調べられない。反対に <code class="docutils literal notranslate"><span class="pre">isDirect</span></code> が偽ならば、特殊化も調べられることがある。</p>
</section>
<section id="start-classifier-behavior-actions">
<h4><a class="toc-backref" href="#id119" role="doc-backlink">16.4.3.9 Start Classifier Behavior Actions</a><a class="headerlink" href="#start-classifier-behavior-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A StartClassifierBehaviorAction is an Action that starts the execution of the
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> of the object given on its <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin.</p>
</div></blockquote>
<ul class="simple">
<li><p>この Action は Behavior の実行が開始されると同時に完了し、その後 Behavior が非同期に実行される。</p></li>
<li><p>Behavior がすでに実行されている場合、または与えられたオブジェクトが
<code class="docutils literal notranslate"><span class="pre">classifierBehavior</span></code> を持つ Classifier によって分類されていない場合、StartClassifierBehaviorAction は何の効果もない。</p></li>
</ul>
<blockquote>
<div><p>NOTE. StartClassifierBehaviorAction is provided for compatibility with older
versions of UML. It is generally preferable to use a
StartObjectBehaviorAction instead of a StartClassifierBehaviorAction, as a
StartObjectBehaviorAction allows for the passing of Parameter values and for
synchronous invocation (see sub clause 16.3).</p>
</div></blockquote>
</section>
</section>
<section id="id19">
<h3><a class="toc-backref" href="#id120" role="doc-backlink">16.4.4 Notation</a><a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.31 ValueSpecificationAction notation</p>
</div></blockquote>
<p>ValueSpecificationAction はその ValueSpecification でラベルされる Action として記す。</p>
<p>その他の種類のオブジェクト行動固有の記法はない。</p>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id121" role="doc-backlink">16.4.5 Examples</a><a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.32 ValueSpecificationActions</p>
</div></blockquote>
<p>現実味のない見本だが、定数 5 または 6 を出力する Activity だ。角丸矩形二つとも
ValueSpecificationAction の記号だ。</p>
</section>
</section>
<section id="link-end-data">
<h2><a class="toc-backref" href="#id122" role="doc-backlink">16.5 Link End Data</a><a class="headerlink" href="#link-end-data" title="Permalink to this heading">¶</a></h2>
<section id="id21">
<h3><a class="toc-backref" href="#id123" role="doc-backlink">16.5.1 Summary</a><a class="headerlink" href="#id21" title="Permalink to this heading">¶</a></h3>
<p>リンクオブジェクトではないリンク、つまり AssociationClass のオブジェクトではない
Association のオブジェクトは、実行中の値としてAction との間で引き渡すことが不可能だ。その代わり、リンクはその端の値により識別される。</p>
<blockquote>
<div><p>LinkEndData is a specification of such values for one end of a link, used in
the identification of links by LinkActions (as further described in sub
clause 16.6).</p>
</div></blockquote>
</section>
<section id="id22">
<h3><a class="toc-backref" href="#id124" role="doc-backlink">16.5.2 Abstract Syntax</a><a class="headerlink" href="#id22" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.33 Link End Data</p>
</div></blockquote>
<p>LinkEndData は Element から直接派生。</p>
<p>LinkEnd{Creation,Destruction}Data は LinkEndData から派生。InputPin を基底クラスのそれとは別に関連付ける。</p>
</section>
<section id="id23">
<h3><a class="toc-backref" href="#id125" role="doc-backlink">16.5.3 Semantics</a><a class="headerlink" href="#id23" title="Permalink to this heading">¶</a></h3>
<section id="id24">
<h4><a class="toc-backref" href="#id126" role="doc-backlink">16.5.3.1 Link End Data</a><a class="headerlink" href="#id24" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>LinkEndData is an Element that specifies the inputs to be used to match the
values on one end of a link.</p>
</div></blockquote>
<p>Association 端子それぞれが LinkEndData 要素で個別に識別される。</p>
<p>LinkEndData 要素には三つの部分がある：</p>
<ol class="arabic simple">
<li><p>照合されるリンクの <code class="docutils literal notranslate"><span class="pre">end</span></code> の識別。この Property は Association の
<code class="docutils literal notranslate"><span class="pre">memberEnd</span></code> でなければならない (11.4)。</p></li>
<li><p>リンクの指定された <code class="docutils literal notranslate"><span class="pre">end</span></code> で期待される値を設置する <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin 一つ。</p>
<ul class="simple">
<li><p>この InputPin は <code class="docutils literal notranslate"><span class="pre">end</span></code> と同じ <code class="docutils literal notranslate"><span class="pre">type</span></code> を持ち、多重度は 1 だ。</p></li>
<li><p>ReadLinkAction で open end を指定することがあるため、当 InputPin を持つことはオプションだ (16.6)。</p></li>
</ul>
</li>
<li><p>オプションで、リンクの指定された <code class="docutils literal notranslate"><span class="pre">end</span></code> の <code class="docutils literal notranslate"><span class="pre">qualifiers</span></code> の期待される値を備える InputPins を識別する QualifierValues</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">qualifier</span></code> Properties は <code class="docutils literal notranslate"><span class="pre">end</span></code> の <code class="docutils literal notranslate"><span class="pre">qualifiers</span></code> でなければならない (9.5)。</p></li>
<li><p>この InputPin は指定された <code class="docutils literal notranslate"><span class="pre">qualifier</span></code> と同じ <code class="docutils literal notranslate"><span class="pre">type</span></code> であり、多重度は 1
だ。</p></li>
</ul>
</li>
</ol>
</section>
<section id="link-end-creation-data">
<h4><a class="toc-backref" href="#id127" role="doc-backlink">16.5.3.2 Link End Creation Data</a><a class="headerlink" href="#link-end-creation-data" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>LinkEndCreationData is a specialized kind of LinkEndData used to identify one
end of a link to be created by CreateLinkAction (see sub clause 16.6).</p>
</div></blockquote>
<p>正規の LinkEndData が含むものに加え、LinkEndCreationData は次のものも含む：</p>
<ul class="simple">
<li><p>オプション <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> は新しいリンクがこの <code class="docutils literal notranslate"><span class="pre">end</span></code> における値に以前合致したリンク全部を置き換えるかどうかを指定する。</p></li>
<li><p>与えられた <code class="docutils literal notranslate"><span class="pre">end</span></code> が順序付きならば、この <code class="docutils literal notranslate"><span class="pre">end</span></code> の順序付けられた値における新しいリンクの挿入点を設置するために、<code class="docutils literal notranslate"><span class="pre">type</span></code> が UnlimitedNatural で多重度が 1
の <code class="docutils literal notranslate"><span class="pre">insertAt</span></code> InputPin (16.6) を指定しなければならない。</p></li>
</ul>
</section>
<section id="link-end-destruction-data">
<h4><a class="toc-backref" href="#id128" role="doc-backlink">16.5.3.3 Link End Destruction Data</a><a class="headerlink" href="#link-end-destruction-data" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>LinkEndDestructionData is a specialized kind of LinkEndData used to identify
one end of a link to be destroyed by DestroyLinkAction (see sub clause 16.6).</p>
</div></blockquote>
<p>正規の LinkEndData が含むものに加えて、LinkEndDestructionData は次のものを含む：</p>
<ul class="simple">
<li><p>オプション <code class="docutils literal notranslate"><span class="pre">isDestroyDuplicates</span></code> が真であれば、この <code class="docutils literal notranslate"><span class="pre">end</span></code> の値に合致するリンク全てを破壊することを指定する。</p></li>
<li><p>指定された <code class="docutils literal notranslate"><span class="pre">end</span></code> が順序付きかつ非一意であり、<code class="docutils literal notranslate"><span class="pre">isDestroyDuplicates</span></code> が偽であれば、<code class="docutils literal notranslate"><span class="pre">type</span></code> が UnlimitedNatural であり多重度が 1 である <code class="docutils literal notranslate"><span class="pre">destroyAt</span></code>
InputPin (16.6) を、破壊されるリンクのこの <code class="docutils literal notranslate"><span class="pre">end</span></code> での位置の値を設置するために指定されていなければならない。</p></li>
</ul>
</section>
</section>
<section id="id25">
<h3><a class="toc-backref" href="#id129" role="doc-backlink">16.5.4 Notation</a><a class="headerlink" href="#id25" title="Permalink to this heading">¶</a></h3>
<p>LinkEndData 固有の記法はない。</p>
</section>
<section id="id26">
<h3><a class="toc-backref" href="#id130" role="doc-backlink">16.5.5 Examples</a><a class="headerlink" href="#id26" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="link-actions">
<h2><a class="toc-backref" href="#id131" role="doc-backlink">16.6 Link Actions</a><a class="headerlink" href="#link-actions" title="Permalink to this heading">¶</a></h2>
<section id="id27">
<h3><a class="toc-backref" href="#id132" role="doc-backlink">16.6.1 Summary</a><a class="headerlink" href="#id27" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>LinkActions (and ClearAssociationAction) operate on Associations and their
instances, links. This includes Associations that are AssociationClasses.</p>
</div></blockquote>
<p>ただし、特に AssociationClass のオブジェクトに対して操作する LinkObjectAction については (16.7) を参照すること。</p>
</section>
<section id="id28">
<h3><a class="toc-backref" href="#id133" role="doc-backlink">16.6.2 Abstract Syntax</a><a class="headerlink" href="#id28" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.34 Link Actions</p>
</div></blockquote>
<p>ClearAssociationAction が LinkAction 族から浮いている。</p>
</section>
<section id="id29">
<h3><a class="toc-backref" href="#id134" role="doc-backlink">16.6.3 Semantics</a><a class="headerlink" href="#id29" title="Permalink to this heading">¶</a></h3>
<section id="id30">
<h4><a class="toc-backref" href="#id135" role="doc-backlink">16.6.3.1 Link Actions</a><a class="headerlink" href="#id30" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A LinkAction is an Action that reads, creates, or destroys links of an
Association, which may be an AssociationClass. The links acted on are
identified using LinkEndData, which specifies the values expected on the ends
of those links (see sub clause 16.5).</p>
</div></blockquote>
<ul class="simple">
<li><p>LinkAction の LinkEndData 要素の <code class="docutils literal notranslate"><span class="pre">ends</span></code> すべては、同じ Association の
<code class="docutils literal notranslate"><span class="pre">memberEnd</span></code> でなければならない。</p></li>
<li><p>LinkAction の LinkEndData 要素で識別される InputPins はすべて、この LinkAction
の <code class="docutils literal notranslate"><span class="pre">inputValue</span></code> InputPins でなければならない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isStatic</span></code> 値が真である <code class="docutils literal notranslate"><span class="pre">end</span></code> を持つ Associations の意味は未定義だ。</p></li>
</ul>
</section>
<section id="read-link-actions">
<h4><a class="toc-backref" href="#id136" role="doc-backlink">16.6.3.2 Read Link Actions</a><a class="headerlink" href="#read-link-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadLinkAction is a LinkAction that retrieves values on one end of an
Association (given the values on all the other ends) and places them on its
<code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<p>この読み込まれる端子をこの ReadLinkAction の <em class="dfn">open end</em> という。</p>
<blockquote>
<div><p>Exactly one <code class="docutils literal notranslate"><span class="pre">endData</span></code> element for a ReadLinkAction must <em>not</em> have a
<code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin identified, and its corresponding end is the open end.</p>
</div></blockquote>
<p>リンク読み取りで open end が回航不能だったり、ReadLinkAction の context
Classifier (16.2.3) から、または context Classifier がない場合に包含 Behavior から見えなかったりするリンクを読み取る場合の意味は未定義だ。</p>
<p>ReadLinkAction 実行内容と結果：</p>
<blockquote>
<div><p>When a ReadLinkAction executes, it identifies the subset of all existing
links of the Association that match the <code class="docutils literal notranslate"><span class="pre">endData</span></code> object values and
qualifier values for all ends other than the open end and any qualifier
values given for the open end. The values placed on the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin
are the ones on the open end of this subset of links.</p>
</div></blockquote>
<p>合致するリンクがない場合、ReadLinkAction は、その <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に空トークンを一つ生産する。</p>
<blockquote>
<div><p>The result OutputPin of a ReadLinkAction must have the same type and ordering
as the open end. The multiplicity of the open end must be compatible with
that of the OutputPin, but they do not have to be the same.</p>
</div></blockquote>
</section>
<section id="create-link-action">
<h4><a class="toc-backref" href="#id137" role="doc-backlink">16.6.3.3 Create Link Action</a><a class="headerlink" href="#create-link-action" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A CreateLinkAction is a LinkAction for creating links.</p>
</div></blockquote>
<ul class="simple">
<li><p>リンクは Actions との間で受け渡しできる値であるとは限らないため、
CreateLinkAction に OutputPin はない。</p></li>
<li><p>CreateLinkAction はリンクオブジェクトの作成にも使用してよいが、この場合も出力値はない。Association が AssociationClass に変更されても、その逆でも、
CreateLinkAction を変更する必要はない。</p></li>
</ul>
<blockquote>
<div><p>The semantics of CreateLinkObjectAction applies to creating link objects with
CreateLinkAction (see sub clause 16.7).</p>
</div></blockquote>
<p>CreateLinkAction は LinkEndCreationData を使う：</p>
<blockquote>
<div><p>CreateLinkAction uses a specialization of LinkEndData called
LinkEndCreationData. It supports the destruction of existing links of the
Association that connect any of the objects of the new link.</p>
</div></blockquote>
<p>リンクが作成されるとき、この <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> オプションは端子ごとに利用可能で、新しいリンクが作成される前に、指定された端子からの Association のリンクすべてが破壊される。作成されるリンクがすでに存在する場合は、このオプションでは破壊されない。</p>
<p>Association 端子すべてが順序付けられておらず、一意である場合、同じ Association
によってすでにリンクしているオブジェクト間でリンクを作成しても効果はない。</p>
<blockquote>
<div><p>Associations with ordered ends are supported with an insertion point
specified at runtime by an additional <code class="docutils literal notranslate"><span class="pre">insertAt</span></code> InputPin on
LinkEndCreationData</p>
</div></blockquote>
<p>これは <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が偽である場合、順序付けられた Association 端子にとっては必須であって、順序付けられていない端子では省略される。</p>
<blockquote>
<div><p>NOTE. Association ends may be ordered even if the upper multiplicity is 1.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">insertAt</span></code> Pin の明細：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">insertAt</span></code> Pin は <code class="docutils literal notranslate"><span class="pre">type</span></code> が UnlimitedNatural で多重度が 1 だ。</p></li>
<li><p>現在のリンク数以下の正の整数である挿入点が意味するのは、既存のリンクの配列のその位置に新しいリンクを挿入することであり、整数 1 は新しいリンクが配列の最初となることを意味する。</p></li>
<li><p>挿入点に無制限 “*” を指定すると、新しいリンクを配列の末尾に挿入することを意味する。</p></li>
<li><p>値 0 や既存リンク数より大きい値の場合、意味は未定義だ。</p></li>
</ul>
<blockquote>
<div><p>Reinserting an existing link at a new position in an ordered, unique end
moves the link to that position.</p>
</div></blockquote>
<p>抽象型の Association のリンクを作成することの意味は未定義だ。</p>
<p>Association 端子の一つの <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値に違反するリンクを作成することの意味は未定義だ。</p>
<p>リンクが作成された後のその端子の濃度 (11.5.3) がその端子の <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値より大きい場合、新しいリンクはその端子の <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値に違反することになる。</p>
<blockquote>
<div><p>The semantics is undefined for creating a link that has an Association end
with <code class="docutils literal notranslate"><span class="pre">isReadOnly</span></code> = true after initialization of the other end objects,
unless the link being created already exists (in which case the
CreateLinkAction has no effect).</p>
</div></blockquote>
<p>すべての読み取り専用端子から新しいリンクに関与するオブジェクトがまだ初期化されているところである限り、リンクを作成することが許される。</p>
<blockquote>
<div><p>This means that Associations with two or more read-only ends cannot have
links created unless all the objects to be linked are being initialized.</p>
</div></blockquote>
</section>
<section id="destroy-link-actions">
<h4><a class="toc-backref" href="#id138" role="doc-backlink">16.6.3.4 Destroy Link Actions</a><a class="headerlink" href="#destroy-link-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A DestroyLinkAction is an Action that destroys links matching specified
LinkEndData. If there are no matching links, then the DestroyLinkAction has
no effect.</p>
</div></blockquote>
<p>DestroyLinkAction はリンクオブジェクトを破壊することに用いても構わないが、破壊するオブジェクトは LinkEndData を用いて同様に指定する。</p>
<blockquote>
<div><p>(The DestroyLinkAction thus does not need to be changed if the Association is
changed to an AssociationClass, or vice versa.)</p>
</div></blockquote>
<p>DestroyObjectAction でリングオブジェクトを破壊する場合は DestroyLinkAction の意味が適用される。</p>
<blockquote>
<div><p>DestroyLinkAction uses a specialization of LinkEndData called
LinkEndDestructionData. It supports destruction of duplicate links of
Association on ends that are non-unique.</p>
</div></blockquote>
<p>この <code class="docutils literal notranslate"><span class="pre">isDestroyDuplicates</span></code> オプションは端子ごとに利用可能で、指定した端子からの Association の重複リンクすべてを破壊させる。</p>
<blockquote>
<div><p>Associations with ordered, non-unique ends are supported by a deletion
position specified at runtime by an additional <code class="docutils literal notranslate"><span class="pre">destroyAt</span></code> InputPin on
LinkEndDestructionData, which is required for ordered, non-unique Association
ends when <code class="docutils literal notranslate"><span class="pre">isDestroyDuplicates</span></code> is false, and omitted for other ends.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">destroyAt</span></code> Pin は <code class="docutils literal notranslate"><span class="pre">type</span></code> が UnlimitedNatural で多重度が 1 だ。</p></li>
<li><p>現在のリンク数以下の正の整数である削除点が意味するのは、既存のリンクの配列のその位置のリンクを破壊することであり、整数 1 は最初のリンクを意味する。</p></li>
<li><p>値 0 や既存リンク数より大きい値や無制限 “*” の場合、意味は未定義だ。</p></li>
</ul>
<blockquote>
<div><p>The semantics are undefined for destroying a link that has an Association end
with <code class="docutils literal notranslate"><span class="pre">isReadOnly</span></code> = true after initialization of the other end objects,
unless no link matches the <code class="docutils literal notranslate"><span class="pre">endData</span></code> (in which case the DestroyLinkAction
has no effect).</p>
</div></blockquote>
<p>すべての読み取り専用端子からリンクに関与するオブジェクトがまだ初期化されているところである限り、破壊することが許される。</p>
<blockquote>
<div><p>This means links with two or more read-only ends cannot be destroyed, unless
all the participating objects are being initialized.</p>
</div></blockquote>
</section>
<section id="clear-association-actions">
<h4><a class="toc-backref" href="#id139" role="doc-backlink">16.6.3.5 Clear Association Actions</a><a class="headerlink" href="#clear-association-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ClearAssociationAction is an Action that destroys all links of an
Association in which a particular object participates, including link objects
of an AssociationClass.</p>
</div></blockquote>
<ul class="simple">
<li><p>クリアされる Association は静的に指定される。</p></li>
<li><p>ClearAssociationAction はその Association の <code class="docutils literal notranslate"><span class="pre">memberEnds</span></code> の中から一つ以上のものの特化型でなければならない実行中オブジェクトに対する InputPin を持つ。</p></li>
</ul>
<blockquote>
<div><p>All links of the Association that have the given object on any end are
destroyed, even when this violates the minimum multiplicity of any of the
Association ends.</p>
</div></blockquote>
<p>DestroyObjectAction の意味が ClearAssociationAction でリンクオブジェクトを破壊する場合に適用される。</p>
</section>
</section>
<section id="id31">
<h3><a class="toc-backref" href="#id140" role="doc-backlink">16.6.4 Notation</a><a class="headerlink" href="#id31" title="Permalink to this heading">¶</a></h3>
<p>LinkActions や ClearAssociationActions に特化した記法は定義されない。</p>
</section>
<section id="id32">
<h3><a class="toc-backref" href="#id141" role="doc-backlink">16.6.5 Examples</a><a class="headerlink" href="#id32" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="link-object-actions">
<h2><a class="toc-backref" href="#id142" role="doc-backlink">16.7 Link Object Actions</a><a class="headerlink" href="#link-object-actions" title="Permalink to this heading">¶</a></h2>
<section id="id33">
<h3><a class="toc-backref" href="#id143" role="doc-backlink">16.7.1 Summary</a><a class="headerlink" href="#id33" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Link object Actions operate on link objects, which are instances of
AssociationClasses. LinkActions also operate on link objects, but identify
them differently (see sub clause 16.7).</p>
</div></blockquote>
</section>
<section id="id34">
<h3><a class="toc-backref" href="#id144" role="doc-backlink">16.7.2 Abstract Syntax</a><a class="headerlink" href="#id34" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.35 Link Object Actions</p>
</div></blockquote>
<p>ReadLinkObjectEnd{,Qualifier}Action は構造が同じ。</p>
</section>
<section id="id35">
<h3><a class="toc-backref" href="#id145" role="doc-backlink">16.7.3 Semantics</a><a class="headerlink" href="#id35" title="Permalink to this heading">¶</a></h3>
<section id="read-link-object-end-actions">
<h4><a class="toc-backref" href="#id146" role="doc-backlink">16.7.3.1 Read Link Object End Actions</a><a class="headerlink" href="#read-link-object-end-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadLinkObjectEndAction is an action that retrieves an end object from a
link object.</p>
</div></blockquote>
<ul class="simple">
<li><p>オブジェクトを取得する AssociationClass の <code class="docutils literal notranslate"><span class="pre">end</span></code> は静的に指定する。</p></li>
<li><p>読み込まれるリンクオブジェクトは <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin に指定する。</p></li>
<li><p>指定されたリンクオブジェクトの端子の値は <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に置く。</p></li>
</ul>
<blockquote>
<div><p>NOTE. This is not the same as reading links of the link object’s Association
with the specified end as the open end (as described for ReadLinkAction in
sub clause 16.6).</p>
</div></blockquote>
<p>読み込まれるリンクオブジェクトは、ReadLinkAction のようにリンク端子の値によってではなく、他のオブジェクトと同様に識別される。端子の多重度がその Association における <code class="docutils literal notranslate"><span class="pre">1..1</span></code> と異なっていても、リンクオブジェクトの各端子にはオブジェクトが厳密に一つ存在する。これが ReadLinkObjectEndAction の <code class="docutils literal notranslate"><span class="pre">result</span></code> の OutputPin が常に多重度 <code class="docutils literal notranslate"><span class="pre">1..1</span></code> を持つ理由だ。</p>
</section>
<section id="read-link-object-end-qualifier-actions">
<h4><a class="toc-backref" href="#id147" role="doc-backlink">16.7.3.2 Read Link Object End Qualifier Actions</a><a class="headerlink" href="#read-link-object-end-qualifier-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadLinkObjectEndQualifierAction is an action that retrieves a
<code class="docutils literal notranslate"><span class="pre">qualifier</span></code> end value from a link object.</p>
</div></blockquote>
<ul class="simple">
<li><p>値を取得する <code class="docutils literal notranslate"><span class="pre">qualifier</span></code> は静的に指定する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">qualifier</span></code> の所有者は AssociationClass の端子でなければならない。</p></li>
<li><p>読み込まれるリンクオブジェクトは <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin に指定する。</p></li>
<li><p>指定されたリンクオブジェクトの指定された <code class="docutils literal notranslate"><span class="pre">qualifier</span></code> の値は <code class="docutils literal notranslate"><span class="pre">result</span></code>
OutputPin に置く。</p></li>
</ul>
</section>
<section id="create-link-object-actions">
<h4><a class="toc-backref" href="#id148" role="doc-backlink">16.7.3.3 Create Link Object Actions</a><a class="headerlink" href="#create-link-object-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A CreateLinkObjectAction is a specialized CreateLinkAction (see sub clause
16.6) for creating a link object (an instance of an AssocationClass).</p>
</div></blockquote>
<p>CreateLinkObjectAction は CreateLinkAction と同じリンク作成の意味を持つが、その
<code class="docutils literal notranslate"><span class="pre">endData</span></code> は AssociationClass のものでなければならず、新しいリンクは
<code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に配置されるリンクオブジェクトでなければならない。</p>
<p>与えられた <code class="docutils literal notranslate"><span class="pre">endData</span></code> に合致するリンクオブジェクトがすでに存在し、その
Assocication の端子がすべて一意である場合、これが <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に配置され、新しいリンクオブジェクトは作成されない。</p>
</section>
</section>
<section id="id36">
<h3><a class="toc-backref" href="#id149" role="doc-backlink">16.7.4 Notation</a><a class="headerlink" href="#id36" title="Permalink to this heading">¶</a></h3>
<p>リンクオブジェクトに作用する Actions に特化した記法は定義されない。</p>
</section>
<section id="id37">
<h3><a class="toc-backref" href="#id150" role="doc-backlink">16.7.5 Examples</a><a class="headerlink" href="#id37" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="structural-feature-actions">
<h2><a class="toc-backref" href="#id151" role="doc-backlink">16.8 Structural Feature Actions</a><a class="headerlink" href="#structural-feature-actions" title="Permalink to this heading">¶</a></h2>
<section id="id38">
<h3><a class="toc-backref" href="#id152" role="doc-backlink">16.8.1 Summary</a><a class="headerlink" href="#id38" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>StructuralFeatureActions support the reading and writing of
StructuralFeatures.</p>
</div></blockquote>
</section>
<section id="id39">
<h3><a class="toc-backref" href="#id153" role="doc-backlink">16.8.2 Abstract Syntax</a><a class="headerlink" href="#id39" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.36 Structural Feature Actions</p>
</div></blockquote>
<p>StructuralFeatureAction から {Read,Write,Clear}StructuralFeatureAction を派生する。</p>
<p>WriteStructuralFeatureAction から {Add,Remove}StructuralFeatureAction を派生する。</p>
</section>
<section id="id40">
<h3><a class="toc-backref" href="#id154" role="doc-backlink">16.8.3 Semantics</a><a class="headerlink" href="#id40" title="Permalink to this heading">¶</a></h3>
<section id="id41">
<h4><a class="toc-backref" href="#id155" role="doc-backlink">16.8.3.1 Structural Feature Actions</a><a class="headerlink" href="#id41" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A StructuralFeatureAction is given a statically-specified StructuralFeature
of a Classifier, and an object on which to act on its <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin.</p>
</div></blockquote>
<p>このオブジェクトは、StructuralFeature を所有する Classifier の（直接または間接の）オブジェクトか、StructuralFeature が二項 Association の所有端子 <code class="docutils literal notranslate"><span class="pre">ownedEnd</span></code>
である場合は、その Association の反対側の端子の <code class="docutils literal notranslate"><span class="pre">type</span></code> のオブジェクトだ。</p>
<p>StructuralFeature がある Assocation の端子である場合、ある
StructuralFeatureAction がこの StructuralFeature を端子とする Association の
LinkAction と同じ意味を持つ。この意味は</p>
<ul class="simple">
<li><p>StructuralFeatureAction の context Classifier や包含 Behavior からこの
StructuralFeature が見えない場合、</p></li>
<li><p>context Classifier がない場合、</p></li>
<li><p>この StructuralFeature の <code class="docutils literal notranslate"><span class="pre">isStatic</span></code> が真の場合</p></li>
</ul>
<p>には未定義だ。</p>
<p>オブジェクトが関与する StructuralFeatures と Associations は動的な分類 (16.4) により、時間の経過とともに変化することがある。ただし：</p>
<blockquote>
<div><p>However, the type of the <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin of a StructuralFeatureAction is
a single Classifier, and the semantics are defined only when the object
passed to the Action is classified by that Classifier (directly or
indirectly) at the time the Action accepts it and while the Action is
executing.</p>
</div></blockquote>
<p>この StructuralFeature は、モデル Element としてある StructuralFeatureAction から参照されるため、他の Classifier に同じ名前の StructuralFeature があったとしても一意に識別される。</p>
<blockquote>
<div><p>A ReadStructuralFeatureAction reads the values of a StructuralFeature and
places these values on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin. The other kinds of
StructuralFeatureActions, WriteStructuralFeatureActions (including
AddStructuralFeatureValueActions and RemoveStructuralFeatureValueActions) and
ClearStructuralFeatureActions modify the values of a StructuralFeature.</p>
</div></blockquote>
<p>これらの Actions はオプションで <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を持つことが許される。このオプションを備える場合、変更された入力オブジェクトはこの OutputPin に配置される。</p>
<p>入力オブジェクトがデータ値（すなわち DataType 型オブジェクト）の場合、入力データ値の複製が <code class="docutils literal notranslate"><span class="pre">output</span></code> Pin に置かれるが、適切な StructuralFeature が変更される。</p>
<blockquote>
<div><p>As a data value does not have an independent identity, the only way to obtain
the modified data value is through the use of the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
</section>
<section id="read-structural-feature-actions">
<h4><a class="toc-backref" href="#id156" role="doc-backlink">16.8.3.2 Read Structural Feature Actions</a><a class="headerlink" href="#read-structural-feature-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadStructuralFeatureAction is a StructuralFeatureAction that retrieves the
values of a StructuralFeature and places them on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<ul class="simple">
<li><p>StructuralFeature が ordered であれば、値は順番に OutputPin に配置される。</p></li>
<li><p>StructuralFeature が Assocation 端子の場合、意味は StructuralFeature を open
end とする ReadLinkAction と同じだ (16.6)。</p></li>
<li><p>取得された値がない場合（つまり StructuralFeature が空である場合）、
ReadStructuralFeatureAction はその <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に単一の空トークンを生産する。</p></li>
</ul>
<blockquote>
<div><p>The type and ordering of the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin are the same as those of
the StructuralFeature. The multiplicity of the StructuralFeature must be
compatible with the multiplicity of the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin, but does not
have to be the same.</p>
</div></blockquote>
<p>例えば、StructuralFeature が単一の値しか許容しない場合でも、この OutputPin の多重度を設定して複数の値を支援することが可能だ。このようにすると、モデルになった
ReadStructuralFeatureAction は StructuralFeature の多重度の変更に影響されない。</p>
</section>
<section id="add-structural-feature-value-actions">
<h4><a class="toc-backref" href="#id157" role="doc-backlink">16.8.3.3 Add Structural Feature Value Actions</a><a class="headerlink" href="#add-structural-feature-value-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An AddStructuralFeatureValueAction is a StructuralFeatureAction for adding a
value to a StructuralFeature of an object.</p>
</div></blockquote>
<ul class="simple">
<li><p>追加される値は <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin に与えられる。この InputPin は
StructuralFeature と同じ <code class="docutils literal notranslate"><span class="pre">type</span></code> を持ち、多重度は <code class="docutils literal notranslate"><span class="pre">1..1</span></code> だ。</p></li>
<li><p>StructuralFeature が Assocation 端子の場合、意味は CreateLinkAction (16.6) と同じで、リンクに関与するのは作用するオブジェクトと新しい値だ。</p></li>
</ul>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> is true, then the existing values of the StructuralFeature
are removed before the new value is added, except if the StructuralFeature
already contains the new value, in which case it is not removed under this
option.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が偽で、StructuralFeature が unordered で unique である場合、この StructuralFeature にすでに含まれている値を追加しても、何の影響もない。</p>
<p>順序付けられた StructuralFeature に値を追加するには、<code class="docutils literal notranslate"><span class="pre">insertAt</span></code> InputPin で与えられた新しい値を置くための挿入点が必要だ。これは <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が偽の場合には順序付けられた StructuralFeatures で必要となり、順序付けられない
StructuralFeatures では省略される。</p>
<p>StructuralFeatures の値は <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値が 1 であるときでさえ ordered であってもよい。</p>
<p><code class="docutils literal notranslate"><span class="pre">insertAt</span></code> Pin の明細再び：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">insertAt</span></code> Pin が存在する場合、その <code class="docutils literal notranslate"><span class="pre">type</span></code> は UnlimitedNatural であり多重度は 1 だ。</p></li>
<li><p>現在の値の数以下の正の整数である挿入点が意味するのは、既存の値の配列のその位置に新しい値を挿入することであり、整数 1 は新しい値が配列の最初となることを意味する。</p></li>
<li><p>挿入点に無制限 “*” を指定すると、新しい値を配列の末尾に挿入することを意味する。</p></li>
<li><p>値 0 や既存の値の数より大きい値の場合、意味は未定義だ。</p></li>
<li><p>順序付きかつ一意な StructuralFeature の新しい位置に既存の値を再び挿入すると、その位置に値が移動する。このような StructuralFeature の値は順序付き集合であるため、これは機能する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が真のときに挿入点を使用すると、これは無視される。</p></li>
</ul>
<blockquote>
<div><p>The semantics are undefined for adding a value that violates the upper
multiplicity of the StructuralFeature, and for adding a new value to a
StructuralFeature with <code class="docutils literal notranslate"><span class="pre">isReadonly</span></code> = true after initialization of the
object that would have the value.</p>
</div></blockquote>
</section>
<section id="remove-structural-feature-value-actions">
<h4><a class="toc-backref" href="#id158" role="doc-backlink">16.8.3.4 Remove Structural Feature Value Actions</a><a class="headerlink" href="#remove-structural-feature-value-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A RemoveStructuralFeatureValueAction is a StructuralFeatureAction for
removing a value from a StructuralFeature of an object.</p>
</div></blockquote>
<p>この特徴が Assocation 端子の場合、意味は DestroyLinkAction と同じで、リンクに関与するのはこのオブジェクトと削除される値だ。</p>
<blockquote>
<div><p>Except as given below, the value to be removed is given on the value
InputPin, which has the same type as the StructuralFeature and a multiplicity
of <code class="docutils literal notranslate"><span class="pre">1..1</span></code>.</p>
</div></blockquote>
<p>この結果、StructuralFeature の <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値に違反する場合でも、値は削除される。</p>
<ul class="simple">
<li><p>StructuralFeature に含まれていない値を削除しても、効果は何もない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isRemoveDuplicates</span></code> オプションは、一意でない StructuralFeature で指定された値の重複をすべて削除するかどうかを示す。</p></li>
</ul>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isRemoveDuplicates</span></code> is false and the StructuralFeature is ordered and
non-unique, then there is no <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin, and the value to be removed
is instead specified by giving its position on the <code class="docutils literal notranslate"><span class="pre">removeAt</span></code> InputPin,
which has <code class="docutils literal notranslate"><span class="pre">type</span></code> UnlimitedNatural and a multiplicity of <code class="docutils literal notranslate"><span class="pre">1..1</span></code>.</p>
</div></blockquote>
<ul class="simple">
<li><p>現在の値の数以下の正の整数である削除点が意味するのは、既存の値の配列のその位置の値を削除することであり、整数 1 は配列の最初の値を意味する。</p></li>
<li><p>値 0 や既存の値の数より大きい値や無制限 “*” の場合、意味は未定義だ。</p></li>
</ul>
<p>所有オブジェクトの初期化後に、<code class="docutils literal notranslate"><span class="pre">readOnly</span></code> が真である StructuralFeature の既存の値を取り除く場合の意味は未定義だ。</p>
</section>
<section id="clear-structural-feature-actions">
<h4><a class="toc-backref" href="#id159" role="doc-backlink">16.8.3.5 Clear Structural Feature Actions</a><a class="headerlink" href="#clear-structural-feature-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ClearStructuralFeatureAction is a StructuralFeatureAction that removes all
values of a StructuralFeature, even if lower multiplicity of the
StructuralFeature is greater than 0.</p>
</div></blockquote>
<ul class="simple">
<li><p>StructuralFeature に値がない場合、この動作は効果がない。</p></li>
<li><p>StructuralFeature が Association 端子の場合、意味は与えられたオブジェクトに対する ClearAssociationAction と同じだ。</p></li>
</ul>
<p>StructuralFeature が値を持たない場合を除き、StructuralFeature を所有するオブジェクトの初期化後、<code class="docutils literal notranslate"><span class="pre">isReadOnly</span></code> が真である StructuralFeature ではその意味は未定義だ。</p>
</section>
</section>
<section id="id42">
<h3><a class="toc-backref" href="#id160" role="doc-backlink">16.8.4 Notation</a><a class="headerlink" href="#id42" title="Permalink to this heading">¶</a></h3>
<p>StructuralFeatureActions に特化した記法は定義されない。</p>
</section>
<section id="id43">
<h3><a class="toc-backref" href="#id161" role="doc-backlink">16.8.5 Examples</a><a class="headerlink" href="#id43" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="variable-actions">
<h2><a class="toc-backref" href="#id162" role="doc-backlink">16.9 Variable Actions</a><a class="headerlink" href="#variable-actions" title="Permalink to this heading">¶</a></h2>
<section id="id44">
<h3><a class="toc-backref" href="#id163" role="doc-backlink">16.9.1 Summary</a><a class="headerlink" href="#id44" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>VariableActions support the reading and writing of Variables.</p>
</div></blockquote>
</section>
<section id="id45">
<h3><a class="toc-backref" href="#id164" role="doc-backlink">16.9.2 Abstract Syntax</a><a class="headerlink" href="#id45" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.37 Variable Actions</p>
</div></blockquote>
<p>派生のスタイルが先ほどのものと似ている。</p>
</section>
<section id="id46">
<h3><a class="toc-backref" href="#id165" role="doc-backlink">16.9.3 Semantics</a><a class="headerlink" href="#id46" title="Permalink to this heading">¶</a></h3>
<section id="variable-action">
<h4><a class="toc-backref" href="#id166" role="doc-backlink">16.9.3.1 Variable Action</a><a class="headerlink" href="#variable-action" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A VariableAction operates on a statically-specified Variable.</p>
</div></blockquote>
<p>この Variable は VariableAction を含む Activity (15.2) または
StructuredActivityNode (16.11) によって定義されたものでなければならない。</p>
</section>
<section id="read-variable-actions">
<h4><a class="toc-backref" href="#id167" role="doc-backlink">16.9.3.2 Read Variable Actions</a><a class="headerlink" href="#read-variable-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReadVariableAction is a VariableAction that retrieves the values of a
Variable and places them on its <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin.</p>
</div></blockquote>
<ul>
<li><p>その Variable に順序がある場合、値は順番に OutputPin に配置される。</p></li>
<li><p>取得された値がない場合、Variable が空である場合、ReadVariableAction は、その
<code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に単一の空トークンを生じる。</p>
<blockquote>
<div><p>The type and ordering of the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin are the same as those of
the Variable. The multiplicity of the Variable must be compatible with the
multiplicity of the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin, but does not have to be the same.</p>
</div></blockquote>
</li>
</ul>
<p>例えば、Variable が単一の値しか許容しない場合でも、この OutputPin の多重度を設定して複数の値を支援することが可能だ。このようにすると、モデルになった
ReadVariableAction は Variable の多重度の変更に影響されない。</p>
</section>
<section id="add-variable-value-action">
<h4><a class="toc-backref" href="#id168" role="doc-backlink">16.9.3.3 Add Variable Value Action</a><a class="headerlink" href="#add-variable-value-action" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An AddVariableValueAction is a VariableAction for adding a value to a
Variable. The value to be added is given on the <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin, which is
required. This InputPin has the same <code class="docutils literal notranslate"><span class="pre">type</span></code> as the Variable and a
multiplicity of <code class="docutils literal notranslate"><span class="pre">1..1</span></code> (that is, a single value is added).</p>
</div></blockquote>
<p>追加される値は <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin に与えられる。この InputPin は Variable と同じ
<code class="docutils literal notranslate"><span class="pre">type</span></code> を持ち、多重度は <code class="docutils literal notranslate"><span class="pre">1..1</span></code> だ。</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> is true, then the existing values of the Variable are
removed before the new value is added, except if the Variable already
contains the new value, in which case it is not removed under this option.</p>
</div></blockquote>
<p>その Variable の <code class="docutils literal notranslate"><span class="pre">lower</span></code> 値が 1 より大きい場合でも、この Action が完了するとその Variable はつねに単一の値を持つ。</p>
<p><code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が偽で、Variable が unordered で unique である場合、この
Variable にすでに含まれている値を追加しても、何の影響もない。</p>
<blockquote>
<div><p>Adding a value to an ordered Variable requires an insertion point for the new
value using the <code class="docutils literal notranslate"><span class="pre">insertAt</span></code> InputPin, which is required for ordered Variable
when <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> is false and omitted for unordered Variable (values of
a Variable may be ordered or unordered, even if the multiplicity upper bound
is 1.)</p>
</div></blockquote>
<ul class="simple">
<li><p>現在の値の数以下の正の整数である挿入点が意味するのは、既存の値の配列のその位置の値を挿入することであり、整数 1 は新しい値が配列の最初の値になることを意味する。</p></li>
<li><p>挿入点に無制限 “*” を指定すると、新しい値を配列の最後に挿入することを意味する。</p></li>
<li><p>値 0 や既存の値の数より大きい値を指定した場合、意味は未定義だ。</p></li>
<li><p>順序付きかつ一意な Variable の新しい位置に既存の値を再び挿入すると、その位置に値が移動する。このような Variable の値は順序付き集合であるため、これは機能する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が真のときに挿入点を使用すると、これは無視される。</p></li>
</ul>
<p>Variable の <code class="docutils literal notranslate"><span class="pre">upper</span></code> 値に違反する値を追加する場合の意味は未定義だ。</p>
</section>
<section id="remove-variable-value-actions">
<h4><a class="toc-backref" href="#id169" role="doc-backlink">16.9.3.4 Remove Variable Value Actions</a><a class="headerlink" href="#remove-variable-value-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A RemoveVariableValueAction is a VariableAction for removing a value from a
Variable.</p>
</div></blockquote>
<ul class="simple">
<li><p>削除される値は Variable と同じ型と多重度 <code class="docutils literal notranslate"><span class="pre">1..1</span></code> を持つ <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin に与えられる。</p></li>
<li><p>Variable に含まれていない値を削除しようとしても効果はない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isRemoveDuplicates</span></code> オプションは一意でない Variable 内の指定された値の重複をすべて削除するかどうかを示す。</p></li>
</ul>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isRemoveDuplicates</span></code> is false and the Variable is ordered and
non-unique, then there is no <code class="docutils literal notranslate"><span class="pre">value</span></code> InputPin, and the value to be removed
is specified by giving its position on the <code class="docutils literal notranslate"><span class="pre">removeAt</span></code> InputPin, which has
type UnlimitedNatural and a multiplicity of <code class="docutils literal notranslate"><span class="pre">1..1</span></code>.</p>
</div></blockquote>
<ul class="simple">
<li><p>現在の値の数以下の正の整数である削除点が意味するのは、既存の値の配列のその位置の値を削除することであり、整数 1 は配列の最初の値を意味する。</p></li>
<li><p>値 0 や既存の値の数より大きい値や無制限 “*” の場合、意味は未定義だ。</p></li>
</ul>
</section>
<section id="clear-variable-actions">
<h4><a class="toc-backref" href="#id170" role="doc-backlink">16.9.3.5 Clear Variable Actions</a><a class="headerlink" href="#clear-variable-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ClearVariableAction is a VariableAction that removes all values of a
Variable, even if the lower multiplicity of the Variable is greater than 0.</p>
</div></blockquote>
<p>Variable に値がない場合、この Action は効果がない。</p>
</section>
</section>
<section id="id47">
<h3><a class="toc-backref" href="#id171" role="doc-backlink">16.9.4 Notation</a><a class="headerlink" href="#id47" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.38 Presentation option for AddVariableValueAction</p>
</div></blockquote>
<p>上の図式は下の図式の抽象的構文版。</p>
<p>AddVariableValueAction の <code class="docutils literal notranslate"><span class="pre">isReplaceAll</span></code> が真である場合、これは変数名の近くに
<code class="docutils literal notranslate"><span class="pre">{replaceAll}</span></code> というテキスト註釈で示すことが可能だ。</p>
</section>
<section id="id48">
<h3><a class="toc-backref" href="#id172" role="doc-backlink">16.9.5 Examples</a><a class="headerlink" href="#id48" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="accept-event-actions">
<h2><a class="toc-backref" href="#id173" role="doc-backlink">16.10 Accept Event Actions</a><a class="headerlink" href="#accept-event-actions" title="Permalink to this heading">¶</a></h2>
<section id="id49">
<h3><a class="toc-backref" href="#id174" role="doc-backlink">16.10.1 Summary</a><a class="headerlink" href="#id49" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>An AcceptEventAction waits for the occurrence of one or more Events.</p>
</div></blockquote>
<p>受理した Event の発生が CallEvent の場合、ReplyAction をそれに応答するのに用いられることがある。受理した Event の発生が SignalEvent の場合、受信した Signal オブジェクトは、</p>
<ul class="simple">
<li><p>その属性の値へと直ちに unmarshal されるか、</p></li>
<li><p>UnmarshallAction を用いて後でそうされる。</p></li>
</ul>
</section>
<section id="id50">
<h3><a class="toc-backref" href="#id175" role="doc-backlink">16.10.2 Abstract Syntax</a><a class="headerlink" href="#id50" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.39 Accept Event Actions</p>
</div></blockquote>
<p>Action の派生クラスがまだまだ定義されていく。</p>
<p>Trigger のフォントがドイツ風だが？</p>
</section>
<section id="id51">
<h3><a class="toc-backref" href="#id176" role="doc-backlink">16.10.3 Semantics</a><a class="headerlink" href="#id51" title="Permalink to this heading">¶</a></h3>
<section id="accept-event-action">
<h4><a class="toc-backref" href="#id177" role="doc-backlink">16.10.3.1 Accept Event Action</a><a class="headerlink" href="#accept-event-action" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>AcceptEventAction is an Action with Triggers for one or more Events.</p>
</div></blockquote>
<ul>
<li><p>AcceptEventAction が実行されると、その実行に対する context object のイベントプールから、その Triggers のいずれかに合致する Event の発生が発送されるのを待つ。</p></li>
<li><p>AcceptEventAction の context object はこの AcceptEventAction が実行される
Behavior 実行の context object だ。Behavior 実行そのものであることも許される
(13.2.3)。</p>
<blockquote>
<div><p>AcceptEventAction is a <em>wait point</em> in the sense discussed in sub clause
13.3.3, except only the AcceptEventAction waits, rather than the whole
Activity (Activities can have other Actions executing while
AcceptEventActions are waiting).</p>
</div></blockquote>
</li>
</ul>
<p>AcceptEventAction に合致する Event 発生がイベントプールから発送される場合、その
AcceptEventAction は続行可能になる。ただし、包含 Behavior 実行にこの Event 発生に合致する Trigger が複数待機しているものがある場合、実際に起こるのはそのうちの一つしかない。</p>
<blockquote>
<div><p>If the Trigger on the AcceptEventAction is chosen, then it completes and
produces output on any <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins.</p>
</div></blockquote>
<p>受理信号作用：</p>
<blockquote>
<div><p>An AcceptEventAction with a <code class="docutils literal notranslate"><span class="pre">trigger</span></code> for a SignalEvent is informally
called an <em class="dfn">accept signal action</em>.</p>
</div></blockquote>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">isUnmarshall</span></code> が偽の場合、受理された SignalEvent 発生に関連付けられた
Signalオブジェクト が配置される単一の <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を持たなければならない。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isUnmarshal</span></code> が真の場合、SignalEvent の Signal の各属性に対応する
<code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を（順番に）持たなければならず、受理された SignalEvent 発生に関連付けられた Signal オブジェクトの属性値は、これらの OutputPin に置かれる。</p></li>
</ul>
<p>待機時間作用：</p>
<blockquote>
<div><p>An AcceptEventAction with a <code class="docutils literal notranslate"><span class="pre">trigger</span></code> for a TimeEvent is informally called
a <em class="dfn">wait time action</em>.</p>
</div></blockquote>
<ul class="simple">
<li><p>待機時間作用は単一の <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を持たなければならない。</p></li>
<li><p>これが TimeEvent 発生を受理すると、その発生時刻の値が <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin に置かれる。</p></li>
</ul>
<p>AcceptEventAction が <code class="docutils literal notranslate"><span class="pre">result</span></code> を持たない場合もある：</p>
<blockquote>
<div><p>If the <code class="docutils literal notranslate"><span class="pre">triggers</span></code> of an AcceptEventAction are all for ChangeEvents and/or
CallEvents, then the AcceptEventAction has no <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins (unless
the AcceptEventAction is an AcceptCallAction, see below).</p>
</div></blockquote>
<p>この <code class="docutils literal notranslate"><span class="pre">triggers</span></code> が ChangeEvent や CallEvent とともに SignalEvent や TimeEvent
を含む場合、この AcceptEventAction は <code class="docutils literal notranslate"><span class="pre">isUnmarshall</span></code> が偽でなければならず、単一の <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を持たなければならない。</p>
<p>AnyReceiveEvent:</p>
<blockquote>
<div><p>If one of the <code class="docutils literal notranslate"><span class="pre">triggers</span></code> of an AcceptEventAction is an AnyReceiveEvent, and
the Event occurrence is for a message that is not matched by a SignalEvent or
CallEvent <code class="docutils literal notranslate"><span class="pre">trigger</span></code> on the same AcceptEventAction, then the Event
occurrence matches the <code class="docutils literal notranslate"><span class="pre">trigger</span></code> for the AnyReceiveEvent</p>
</div></blockquote>
<p>AcceptEventAction が Activity で使われる場合、それがいつ利用可能になるのかを決めるには特別な規則がある：</p>
<blockquote>
<div><p>If the AcceptEventAction has no incoming edges, by the usual rules, it is
enabled when its immediately containing Activity (or StructuredActivityNode)
begins execution. However, in addition, an AcceptEventAction with no incoming
edges remains enabled after it accepts an Event occurrence.</p>
</div></blockquote>
<p>Event 発生を受理して値を出力した後でも停止せず、別の Event 発生を待機し続ける。このような AcceptEventAction は、その直後に包含する Activity (or
StructuredActivityNode) が停止したときに停止する。</p>
</section>
<section id="accept-call-actions">
<h4><a class="toc-backref" href="#id178" role="doc-backlink">16.10.3.2 Accept Call Actions</a><a class="headerlink" href="#accept-call-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An AcceptCallAction is an AcceptEventAction specialized for the handling of
CallEvent occurrences.</p>
</div></blockquote>
<ul class="simple">
<li><p>CallEvent に対する単一の Trigger を持たなければならない。</p></li>
<li><p>CallEvent で特定された Operation の in と inout の <code class="docutils literal notranslate"><span class="pre">ownParameters</span></code> に順番に対応する <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins を持つ。</p></li>
<li><p>同期呼び出しから戻るために必要な情報を備える <code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> OutputPin
を持つ。</p></li>
</ul>
<blockquote>
<div><p>An AcceptCallAction is triggered in the same way as a normal
AcceptEventAction on matching CallEvent occurrences.</p>
</div></blockquote>
<ul class="simple">
<li><p>呼び出しの後、コールメッセージに関連付けられた実引数値が <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin
に置かれる。</p></li>
<li><p>さらに、後続する ReplyAction を実行するのに十分な情報が <code class="docutils literal notranslate"><span class="pre">returnInformation</span></code>
OutputPin に置かれる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> 値の内容は当仕様では定義されておらず、ReplyAction によってのみ使用される。</p></li>
</ul>
<p>非同期呼び出しにより引き起こされた AcceptCallAction は、やはりその
<code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> OutputPin に値を生じるが、その値を受理する ReplyAction は非同期呼び出しの戻り値が与えられると、何の効果もなく直ちに完了する。</p>
<p>AcceptCallAction の CallEvent で参照される Operation には関連するメソッド
Behavior があるべきではない。</p>
<blockquote>
<div><p>Otherwise, a call to the Operation will have the immediate effect of
executing the method and will not be placed into the event pool for the
context object.</p>
</div></blockquote>
<p>したがって、Operation に対する呼び出しは AcceptCallAction に送達されることは決してない。</p>
</section>
<section id="reply-actions">
<h4><a class="toc-backref" href="#id179" role="doc-backlink">16.10.3.3 Reply Actions</a><a class="headerlink" href="#reply-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReplyAction is an Action that completes the handling of a call that was
accepted by a previous AcceptCallAction</p>
</div></blockquote>
<p>この二つは復帰情報値で結ばれていて、その <code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> OutputPin にある
AcceptCallAction によって生じ、包含 Behavior によって ReplyAction の
<code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> InputPin に配置される。</p>
<p>ReplyAction は Trigger も特定する。Trigger は ReplyAction が復帰情報値を取得する
AcceptCallAction が所有する CallEvent Trigger となるべく同じだ。</p>
<p>ReplyAction の <code class="docutils literal notranslate"><span class="pre">replyValue</span></code> InputPins は CallEvent により特定される Operation
の out, inout, return <code class="docutils literal notranslate"><span class="pre">ownedParameters</span></code> に順番に対応するものとする。</p>
<blockquote>
<div><p>When a ReplyAction executes, it generates a reply message to the original
call request message, using the values from its <code class="docutils literal notranslate"><span class="pre">replyValue</span></code> InputPins.</p>
</div></blockquote>
<p>同期呼び出しの場合、<code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> InputPin の値は応答メッセージの送信先となる呼び出し元を識別するために使用される。ただし、<code class="docutils literal notranslate"><span class="pre">returnInformation</span></code> 値が非同期呼び出しの結果である場合、応答メッセージは送信されず、ReplyAction は何の効果もなく完了する。</p>
<blockquote>
<div><p>The details of transmitting call requests, encoding return information, and
transmitting replies are not defined in this specification.</p>
</div></blockquote>
<p>応答情報を複製したり、オブジェクトに格納したり、引き渡したりしてもよいが、
ReplyAction の中で一度しか利用されてはならない。</p>
<blockquote>
<div><p>The semantics are undefined if the same return information value is supplied
to a second ReplyAction. The semantics are also undefined if the return
information value is not for a call to the same Operation as identified by
the <code class="docutils literal notranslate"><span class="pre">replyToCall</span></code> Trigger of the ReplyAction.</p>
</div></blockquote>
<p>ReplyAction が同期呼び出しからの復帰情報で実行されない場合、呼び出し元は応答を受信しないので、それゆえ実行を完了することがないはずだ。このことは違法ではないが、普通は望ましくない。</p>
</section>
<section id="unmarshall-actions">
<h4><a class="toc-backref" href="#id180" role="doc-backlink">16.10.3.4 Unmarshall Actions</a><a class="headerlink" href="#unmarshall-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>An UnmarshallAction is an Action that retrieves the values of the
StructuralFeatures of an object and places them on OutputPins.</p>
</div></blockquote>
<ul class="simple">
<li><p>このオブジェクトは <code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> Classifier によって与えられた型と多重度
<code class="docutils literal notranslate"><span class="pre">1..1</span></code> を持つ <code class="docutils literal notranslate"><span class="pre">object</span></code> InputPin に与えられる。</p></li>
<li><p>UnmarshallAction は <code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> の各 Properties に順番に対応する
<code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin を持つ。</p></li>
</ul>
<p>Signal に所有された Properties は順序付けられているが、Generalization 関係に起因して他の Classifiers から Properties を継承してもよい。この場合、</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> の Properties は所有される Properties すべてが継承された
Properties よりも先に来るように順序付けられる。</p></li>
<li><p>さらに <code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> の祖先二つが Generalization によって直接的または間接的に関係している場合、より特殊な Classifier の被所有 Properties は、より一般的な Classifier の被所有 Properties よりも先に並ぶ。</p>
<blockquote>
<div><p>However, in the presence of multiple Generalization, some ancestors of the
<code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> may not have any such transitive Generalization
relationship, and no standard ordering is defined between the Properties of
such ancestors.</p>
</div></blockquote>
</li>
</ul>
<p>UnmarshallAction が実行すると、その InputPin からオブジェクトを取り、そのオブジェクトから <code class="docutils literal notranslate"><span class="pre">unmarshallType</span></code> の Properties の値を取得して、これらの値を対応するOutputPins に配置する。</p>
<p>UnmarshallAction は、例えば、<code class="docutils literal notranslate"><span class="pre">isUnmarshall</span></code> が偽である AcceptEventAction により生成された Signal オブジェクトの属性値を得るのに有用だ。</p>
</section>
</section>
<section id="id52">
<h3><a class="toc-backref" href="#id181" role="doc-backlink">16.10.4 Notation</a><a class="headerlink" href="#id52" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.40 AcceptEventAction notations</p>
</div></blockquote>
<p>AcceptEventAction は一般には凹五角形で記される。</p>
<ul class="simple">
<li><p>左側が凹。</p></li>
<li><p>内側にその <code class="docutils literal notranslate"><span class="pre">name</span></code> を配してもよい。</p></li>
</ul>
<p>待機時間作用、すなわち単一の TimeEvent <code class="docutils literal notranslate"><span class="pre">trigger</span></code> を有する AcceptEventAction
は、砂時計記号で記す。Action の <code class="docutils literal notranslate"><span class="pre">name</span></code> を記号の下側に書いてもよい。</p>
</section>
<section id="id53">
<h3><a class="toc-backref" href="#id182" role="doc-backlink">16.10.5 Examples</a><a class="headerlink" href="#id53" title="Permalink to this heading">¶</a></h3>
<section id="id54">
<h4><a class="toc-backref" href="#id183" role="doc-backlink">16.10.5.1 Accept Event Actions</a><a class="headerlink" href="#id54" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.41 Implicitly enabled AcceptEventAction</p>
</div></blockquote>
<p>注文の取り消しを示す Signal を受理する、単一の SignalEvent <code class="docutils literal notranslate"><span class="pre">trigger</span></code> がある
AcceptEventAction の例だ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Cancel</span> <span class="pre">order</span> <span class="pre">request</span></code> を受理すると <code class="docutils literal notranslate"><span class="pre">Cancel</span> <span class="pre">Order</span></code> が呼び出される。</p></li>
<li><p>この Action はそれを含む Activity に入ると有効になるため ControlFlow は発生しない。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.42 Explicitly enabled AcceptEventAction</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Process</span> <span class="pre">Order</span></code> 後に <code class="docutils literal notranslate"><span class="pre">Request</span> <span class="pre">Payment</span></code> Signal が送信される (16.3.4)。それから <code class="docutils literal notranslate"><span class="pre">Payment</span> <span class="pre">confirmed</span></code> AcceptEventAction がそれを受信すると、<code class="docutils literal notranslate"><span class="pre">Ship</span> <span class="pre">Order</span></code> が行われる。</p>
<p>Signal の受信はそれが送信された後しか有効でない。</p>
<blockquote>
<div><p>Figure 16.43 Repetitive time event</p>
</div></blockquote>
<p>これは単一の TimerEvent <code class="docutils literal notranslate"><span class="pre">trigger</span></code> がある AcceptEventAction の例だ。</p>
<ul class="simple">
<li><p>砂時計は待機時間活動の記号だ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">End</span> <span class="pre">of</span> <span class="pre">month</span> <span class="pre">occurred</span></code> が砂時計の左側に書いてある。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Report</span> <span class="pre">Meter</span> <span class="pre">Reading</span></code> は毎月末に起こる。</p></li>
</ul>
</section>
<section id="id55">
<h4><a class="toc-backref" href="#id184" role="doc-backlink">16.10.5.2 Unmarshall Actions</a><a class="headerlink" href="#id55" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>Figure 16.44 UnmarshallAction</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Unmarshall</span> <span class="pre">Order</span></code> は <code class="docutils literal notranslate"><span class="pre">Order</span></code> から <code class="docutils literal notranslate"><span class="pre">Name</span></code>, <code class="docutils literal notranslate"><span class="pre">Address</span></code>, <code class="docutils literal notranslate"><span class="pre">Product</span></code> の属性の値を unmarshal する。</p>
</section>
</section>
</section>
<section id="structured-actions">
<h2><a class="toc-backref" href="#id185" role="doc-backlink">16.11 Structured Actions</a><a class="headerlink" href="#structured-actions" title="Permalink to this heading">¶</a></h2>
<section id="id56">
<h3><a class="toc-backref" href="#id186" role="doc-backlink">16.11.1 Summary</a><a class="headerlink" href="#id56" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>A StructuredActivityNode is an Action that is also an ActivityGroup (see sub
clause 15.6). That is, it contains ActivityNodes and ActivityEdges that
define its behavior when executed.</p>
</div></blockquote>
<p>さらに、特化種の StructuredActivityNode (ConditionalNodes, LoopNodes,
SequenceNodes) は、その中の ExecutableNodes がどのように実行されるかについて固有の制御意味を定義する。</p>
<p>ExpansionRegion も StructuredActivityNode の一種だが、ここではなく後で述べられる。</p>
</section>
<section id="id57">
<h3><a class="toc-backref" href="#id187" role="doc-backlink">16.11.2 Abstract Syntax</a><a class="headerlink" href="#id57" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.45 Structured Actions</p>
</div></blockquote>
<p>StructuredActivityNode は Namespace, Action, ActivityGroup から派生している。その派生型に {Conditional,Loop,Sequence}Node がある。</p>
</section>
<section id="id58">
<h3><a class="toc-backref" href="#id188" role="doc-backlink">16.11.3 Semantics</a><a class="headerlink" href="#id58" title="Permalink to this heading">¶</a></h3>
<section id="structured-activity-nodes">
<h4><a class="toc-backref" href="#id189" role="doc-backlink">16.11.3.1 Structured Activity Nodes</a><a class="headerlink" href="#structured-activity-nodes" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A StructuredActivityNode is an Action that is also an ActivityGroup (see sub
clause 15.6) and whose behavior is specified by the ActivityNodes and
ActivityEdges it so contains.</p>
</div></blockquote>
<ul class="simple">
<li><p>StructuredActivityNodeは、それが含む ActivityNode と ActivityEdges を所有するため、節点や辺は StructuredActivityNode 一つにしか直接含まれない。</p></li>
<li><p>StructuredActivityNode は入れ子にすることが許されるが、そのため、辺や節点は入れ子になった多数の StructuredActivityNode に間接的に含まれることがある。</p></li>
</ul>
<p>Variable 詳細：</p>
<blockquote>
<div><p>A StructuredActivityNode may also include the definition of Variables.</p>
</div></blockquote>
<ul class="simple">
<li><p>これらの Variables および周囲の StructuredActivityNode や Activity で定義された Variables は、StructuredActivityNode 入れ子の StructuredActivityNode 内の
VariableActions (16.9) によってしか操作することが許されない。</p></li>
<li><p>StructuredActivityNode が実行を開始するとき、その Variables はすべて空だ。</p></li>
</ul>
<p>特殊型は別途述べられるので待て：</p>
<blockquote>
<div><p>The immediately following discussion under this heading is for the semantics
of a StructuredActivityNode that is not an instance of one of the
specializations of StructuredActivityNodes.</p>
</div></blockquote>
<p>StructuredActivityNode は有効化され、Action に関する通常の規則に従って実行を開始する (16.2.3)。</p>
<blockquote>
<div><p>None of the <code class="docutils literal notranslate"><span class="pre">nodes</span></code> within a StructuredActivityNode are enabled until the
containing StructuredActivityNode begins executing (including InitialNodes
and AcceptEventActions). At that point, which <code class="docutils literal notranslate"><span class="pre">nodes</span></code> are enabled is
determined in the same way as for the <code class="docutils literal notranslate"><span class="pre">nodes</span></code> of an Activity when it begins
execution (see sub clause 15.2.3).</p>
</div></blockquote>
<p>実行は <a class="reference internal" href="ch15-activities.html"><span class="doc">15 Activities</span></a> にあるように Activity モデルの意味に従って進行する。</p>
<p>StructuredActivityNode の InputPins 詳細：</p>
<blockquote>
<div><p>The InputPins of a StructuredActivityNode may be the <code class="docutils literal notranslate"><span class="pre">sources</span></code> for
ActivityEdges contained in the StructuredActivityNode.</p>
</div></blockquote>
<ul class="simple">
<li><p>これによって InputPins に配置されたトークンを StructuredActivityNode 内の
ActivityNodes が利用可能になる。</p></li>
<li><p>この InputPins はその StructuredActivityNode が実行を開始すると <code class="docutils literal notranslate"><span class="pre">outgoing</span></code>
へそのトークンを供給する。</p></li>
</ul>
<p>同様に、StructuredActivityNode の OutputPins は、これに含まれる ActivityEdges の
<code class="docutils literal notranslate"><span class="pre">targets</span></code> であってもよい。トークンに関する仕様も向きを入れ替えれば InputPins
と同様。</p>
<p>StructuredActivityNode に含まれる ActivityEdge の要件：</p>
<blockquote>
<div><p>An ActivityEdge contained by a StructuredActivityNode must have both its
<code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> either be contained (directly or indirectly) in the
StructuredActivityNode or be a Pin owned by the StructuredActivityNode.</p>
</div></blockquote>
<p>逆に、StructuredActivityNode に含まれない ActivityEdge は、その <code class="docutils literal notranslate"><span class="pre">source</span></code> と
<code class="docutils literal notranslate"><span class="pre">target</span></code> の両方とも StructuredActivityNode に含まれることは許されない。</p>
<p>StructuredActivityNode に出入りする ActivityEdges はこの StructuredActivityNode
の入れ物（直接または間接）によって所有される。</p>
<p>ActivityEdge が StructuredActivityNode の境界を到着方向にまたぐ場合：</p>
<blockquote>
<div><p>If an ActivityEdge has a <code class="docutils literal notranslate"><span class="pre">source</span></code> outside a StructuredActivityNode and a
<code class="docutils literal notranslate"><span class="pre">target</span></code> within it, then any offers made on that edge remain pending until
the StructuredActivityNode begins execution. While the StructuredActivityNode
is executing, the <code class="docutils literal notranslate"><span class="pre">target</span></code> of the ActivityEdge may accept any offers pending
from before the execution of the StructuredActivityNode, as well as any
additional offers made while the StructuredActivityNode is executing, per the
usual semantics of ActivityNodes.</p>
</div></blockquote>
<p>ActivityEdge が StructuredActivityNode の境界を出発方向にまたぐ場合は、その
StructuredActivityNode が実行中でない限り、その辺上では供給不能だ。この
StructuredActivityNode の実行中、この ActivityEdge から行われた供給は即座に
StructuredActivityNode の外に拡がり、ActivityNode の通常の意味に従ってこの辺の
<code class="docutils literal notranslate"><span class="pre">target</span></code> がその供給を処理する。</p>
<p>実行停止の詳細：</p>
<blockquote>
<div><p>A StructuredActivityNode completes execution according to the same rules as
for the completion of the execution of an Activity (see sub clause 15.2.3),
including terminating execution due to an ActivityFinalNode (see sub clause
15.3.3).</p>
</div></blockquote>
<p>ただし、StructuredActivityNode に含まれる ActivityFinalNode は、その中に含まれることがあるActivity や他の StructuredActivityNode ではなく、直に含まれる
StructuredActivityNode とその中身しか停止しない。</p>
<p>実行停止時にトークンの消息はどうなるか：</p>
<blockquote>
<div><p>When a StructuredActivityNode completes its execution, all executions ongoing
within it are terminated and all tokens contained in it are destroyed, except
those on OutputPins of the StructuredActivityNode, which are offered on any
<code class="docutils literal notranslate"><span class="pre">outgoing</span></code> edges.</p>
</div></blockquote>
<ul class="simple">
<li><p>StructuredActivityNode の実行中にその OutputPins 上にトークンが蓄積されることがあるが、その実行が完了してしまうと、そのトークンらは <code class="docutils literal notranslate"><span class="pre">outgoing</span></code> 辺にのみ供給される。</p></li>
<li><p>StructuredActivityNode が完了したときにトークンを何も保持していない OutputPins
はいずれも、それらの <code class="docutils literal notranslate"><span class="pre">outgoing</span></code> 辺上で空トークンを供給する。</p></li>
</ul>
</section>
<section id="isolation">
<h4><a class="toc-backref" href="#id190" role="doc-backlink">16.11.3.2 Isolation</a><a class="headerlink" href="#isolation" title="Permalink to this heading">¶</a></h4>
<p>属性 <code class="docutils literal notranslate"><span class="pre">mustIsolate</span></code> の意味が述べられている。</p>
<blockquote>
<div><p>Because of the concurrent nature of the execution of Actions within and
across Behaviors, it can be difficult to guarantee consistent access and
modification of object memory. In order to avoid race conditions or other
concurrency-related problems, it is sometimes necessary to isolate the
effects of a group of Actions from the effects of Actions outside the group.</p>
</div></blockquote>
<p>このことを StructuredActivityNode およびその派生型の属性 <code class="docutils literal notranslate"><span class="pre">mustIsolate</span></code> を真に設定することで表すことがある。</p>
<p>このフラグが真である場合の仕様：</p>
<blockquote>
<div><p>If the <code class="docutils literal notranslate"><span class="pre">mustIsolate</span></code> flag is true for a StructuredActivityNode, then any
access to an object by an Action within the node must not conflict with
access to the object by an Action outside the node. A conflict is defined as
an attempt to write to the object by one or both of the Actions.</p>
</div></blockquote>
<p>このような競合が潜在的に存在する場合、孤立した StructuredActivityNode の外部にある Action によるこのようなアクセスを StructuredActivityNode の実行と interleave
させてはならない。</p>
<blockquote>
<div><p>This specification does not define the ways in which this rule may be
enforced. An execution engine may achieve isolation using a locking
mechanism, or it may simply sequentialize execution to avoid concurrency
conflicts, or it may use some other method.</p>
</div></blockquote>
<p>これらの規則に従ってモデルを実行することが不可能な場合、そのモデルは非形式的です。</p>
<p>独立性は不可分性の性質とは異なる。後者は Actions のグループが全て正常完了するか、全く効果がないかのどちらかであることを保証するものだ。</p>
</section>
<section id="conditional-nodes">
<h4><a class="toc-backref" href="#id191" role="doc-backlink">16.11.3.3 Conditional Nodes</a><a class="headerlink" href="#conditional-nodes" title="Permalink to this heading">¶</a></h4>
<p>ConditionalNode は実行の分岐と考えられる。</p>
<blockquote>
<div><p>A ConditionalNode is a StructuredActivityNode that chooses one among some
number of alternative collections of ExecutableNodes to execute.</p>
</div></blockquote>
<ul class="simple">
<li><p>Clause は ConditionalNode の枝一本に相当する。</p></li>
<li><p>枝は <code class="docutils literal notranslate"><span class="pre">test</span></code> 部分と <code class="docutils literal notranslate"><span class="pre">body</span></code> 部分で構成される。</p></li>
<li><p>ConditionalNode 内のどの ExecutableNode も、ちょうど一つの Caluse の <code class="docutils literal notranslate"><span class="pre">test</span></code> または <code class="docutils literal notranslate"><span class="pre">body</span></code> に含まれなければならない。</p></li>
</ul>
<p>ConditionalNode の実行開始仕様：</p>
<blockquote>
<div><p>When a ConditionalNode begins execution, any InitialNodes within it are
immediately enabled. An ExecutableNode contained in the ConditionalNode,
however, can only become enabled when the <code class="docutils literal notranslate"><span class="pre">test</span></code> section or <code class="docutils literal notranslate"><span class="pre">body</span></code>
section that contains it is executed, as described below.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">test</span></code> または <code class="docutils literal notranslate"><span class="pre">body</span></code> が実行されるときの仕様：</p>
<p>その節内の ExecutableNode のうち、必須入力データがなく、同じ節内に <code class="docutils literal notranslate"><span class="pre">source</span></code> を持つ ControlFlow が到着していないものはすべて有効になり、制御トークンを一つ受領する。</p>
<ul class="simple">
<li><p>ただし、実行中でない節の ExecutableNode への供給は、即座に引き渡されず、保留されたままであることを除けば、Activities の通常の意味に従い進行する。</p></li>
<li><p>対象 ExecutableNode はそれを含む節の後の実行の一部として最終的に実行される場合、保留中の供給を受理することが許される。</p></li>
</ul>
<p>いったん ConditionalNode が実行中になると、<code class="docutils literal notranslate"><span class="pre">predecessorClauses</span></code> がないその
Clauses の <code class="docutils literal notranslate"><span class="pre">test</span></code> 節が実行される。</p>
<blockquote>
<div><p>Each <code class="docutils literal notranslate"><span class="pre">test</span></code> section has an Action owning the <code class="docutils literal notranslate"><span class="pre">decider</span></code> OutputPin with
type Boolean identified by the Clause. The result of a <code class="docutils literal notranslate"><span class="pre">test</span></code> section is
the value placed on the <code class="docutils literal notranslate"><span class="pre">decider</span></code> OutputPin. If one or more <code class="docutils literal notranslate"><span class="pre">test</span></code>
sections result in a true value, then the corresponding <code class="docutils literal notranslate"><span class="pre">body</span></code> sections are
enabled for execution. Next, any Clauses for which all <code class="docutils literal notranslate"><span class="pre">predecessorClauses</span></code>
have <code class="docutils literal notranslate"><span class="pre">test</span></code> sections that did not result in a true value have their
<code class="docutils literal notranslate"><span class="pre">test</span></code> sections executed.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">test</span></code> 節の実行が「同時である」と指定されるところでは、モデルがそれらの実行の順序に何も課さないことを意味する。</p>
<ul class="simple">
<li><p>実行順序を強制するため、ConditionalNode の Clauses 間で専用の制約を指定してもよい。</p></li>
</ul>
<p>属性 <code class="docutils literal notranslate"><span class="pre">isAssured</span></code> と <code class="docutils literal notranslate"><span class="pre">isDeterminate</span></code> の仕様：</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">isAssured</span></code> is true for a ConditionalNode, this asserts that at least
one <code class="docutils literal notranslate"><span class="pre">test</span></code> section will yield a true value. If <code class="docutils literal notranslate"><span class="pre">isDeterminate</span></code> is true,
this asserts that at most one <code class="docutils literal notranslate"><span class="pre">test</span></code> section will yield a true value (the
<code class="docutils literal notranslate"><span class="pre">predecessorClause</span></code> relationship may be used to enforce this assertion).</p>
</div></blockquote>
<p>これらの主張を自動的に検証することは一般には不可能であり、それらを強制する必要はないが、実行機関に対して有用な情報を与えることはある。主張に違反する場合、まともでないモデルが形成される。</p>
<p><code class="docutils literal notranslate"><span class="pre">body</span></code> 節の実行：</p>
<blockquote>
<div><p>Once the process of executing <code class="docutils literal notranslate"><span class="pre">test</span></code> sections finishes, if there is exactly
one <code class="docutils literal notranslate"><span class="pre">body</span></code> section enabled for execution, that <code class="docutils literal notranslate"><span class="pre">body</span></code> section is
executed. If more than one <code class="docutils literal notranslate"><span class="pre">body</span></code> section is enabled, only one is actually
executed, but the choice of which one is non-deterministic.</p>
</div></blockquote>
<p>実行可能な <code class="docutils literal notranslate"><span class="pre">body</span></code> がない場合、ConditionalNode の実行は何の効果も足さずに完了する。</p>
<p>名前は else だが、C 言語の default のような役回りだ：</p>
<blockquote>
<div><p>An “else” Clause is a Clause that is a successor to all other clauses in the
ConditionalNode and whose <code class="docutils literal notranslate"><span class="pre">test</span></code> section always results in true.</p>
</div></blockquote>
<p>このような Clause の <code class="docutils literal notranslate"><span class="pre">body</span></code> はこの ConditionalNode 内の他の <code class="docutils literal notranslate"><span class="pre">body</span></code> が有効になっていない場合かつその場合に限り有効になる。これにより、少なくとも一つの
<code class="docutils literal notranslate"><span class="pre">body</span></code> が ConditionalNode に対して常に実行される。</p>
<p>次の記述は理解できるか：</p>
<blockquote>
<div><p>Whenever a <code class="docutils literal notranslate"><span class="pre">body</span></code> section becomes enabled for execution, it may actually be
executed before the completion of any further <code class="docutils literal notranslate"><span class="pre">test</span></code> section executions. In
this case, any ongoing <code class="docutils literal notranslate"><span class="pre">test</span></code> section executions are terminated and no
further <code class="docutils literal notranslate"><span class="pre">test</span></code> sections are executed.</p>
</div></blockquote>
<p>ConditionalNode には <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins の順序付き集合がある。</p>
<blockquote>
<div><p>Each Clause of the ConditionalNode must have a matching set of bodyOutput
OutputPins, which must identify OutputPins owned by Actions in the body
section of the Clause.</p>
</div></blockquote>
<ul class="simple">
<li><p>すべての Clause は <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin の一つ一つに対して <code class="docutils literal notranslate"><span class="pre">bodyOutput</span></code> を持つ必要がある。</p></li>
<li><p>Clause の <code class="docutils literal notranslate"><span class="pre">body</span></code> が実行される場合、その実行が完了すると、この Clause の
<code class="docutils literal notranslate"><span class="pre">bodyOutputs</span></code> 上のトークンはすべて ConditionalNode の対応する <code class="docutils literal notranslate"><span class="pre">result</span></code>
OutputPinsに移される。</p></li>
</ul>
<p>その後、ConditionalNode の実行が完了し、その OutputPin 上のトークンはすべての
<code class="docutils literal notranslate"><span class="pre">outgoing</span></code> 辺に供給される。</p>
<p>空トークンが生じる情況：</p>
<blockquote>
<div><p>Any OutputPins that do not hold any tokens when the StructuredActivityNode
completes offer null tokens on their <code class="docutils literal notranslate"><span class="pre">outgoing</span></code> edges. If no test section
of a ConditionalNode results in a true value, then no <code class="docutils literal notranslate"><span class="pre">body</span></code> section is
executed, no tokens are placed on any <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins, and null tokens
are offered from all these OutputPins.</p>
</div></blockquote>
<p>OutputPins はどの <code class="docutils literal notranslate"><span class="pre">outgoing</span></code> 辺にも供給される。</p>
<blockquote>
<div><p>Any OutputPins that do not hold any tokens when the StructuredActivityNode
completes offer null tokens on their <code class="docutils literal notranslate"><span class="pre">outgoing</span></code> edges. If no <code class="docutils literal notranslate"><span class="pre">test</span></code>
section of a ConditionalNode results in a true value, then no <code class="docutils literal notranslate"><span class="pre">body</span></code>
section is executed, no tokens are placed on any result OutputPins, and null
tokens are offered from all these OutputPins.</p>
</div></blockquote>
<p>ConditionalNode が実行を完了すると、内部で進行中の実行全てが停止され、その内部にあるトークンはすべて破壊される。</p>
<p>ConditionalNode の実行中にトークンを受理する ActivityFinalNode をこの
ConditionalNode が直接含む場合、この ConditionalNode は直ちに完了する。この場合、StructuredActivityNodes の ActivityFinalNode の規則に従い、ConditionalNodeを直接含む ConditionalNode のみが停止される。</p>
<blockquote>
<div><p>A ConditionalNode may not have InputPins.</p>
</div></blockquote>
<p>ActivityEdges は ConditionalNode の中と外を往来することが許されていて、
ConditionalNode 内の ExecutableNode の実行の指定元以外、意味は同じだ。</p>
</section>
<section id="loop-nodes">
<h4><a class="toc-backref" href="#id192" role="doc-backlink">16.11.3.4 Loop Nodes</a><a class="headerlink" href="#loop-nodes" title="Permalink to this heading">¶</a></h4>
<p>LoopNode とは、反復的なループを表現する StructuredActivityNode だ。LoopNode は
<code class="docutils literal notranslate"><span class="pre">setupPart</span></code>, <code class="docutils literal notranslate"><span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> で構成され、これらはその LoopNode に含まれる ExecutableNodes の部分集合を識別する。LoopNode にある ExecutableNode はいずれも <code class="docutils literal notranslate"><span class="pre">setupPart</span></code>, <code class="docutils literal notranslate"><span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> のいずれかに含まれていなければならない。</p>
<p>LoopNode が実行を始めると、その内部にある InitialNodes はどれもが直ちに利用可能になる。しかし、LoopNode に含まれる ExecutableNode は、それを含む <code class="docutils literal notranslate"><span class="pre">setupPart</span></code>,
<code class="docutils literal notranslate"><span class="pre">test</span></code>, <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> のどれかがが実行されたときにのみ有効になる。</p>
<blockquote>
<div><p>When a section is executed, any ExecutableNode in the section that has no
mandatory input data and no incoming ControlFlow <em>with a source in the same
section</em> is enabled and receives a single control token.</p>
</div></blockquote>
<ul class="simple">
<li><p>ただし、実行中でない節の ExecutableNode への供給は、即座に引き渡されず、保留されたままであることを除けば、Activities の通常の意味に従い進行する。</p></li>
<li><p>対象 ExecutableNode はそれを含む節の後の実行の一部として最終的に実行される場合、保留中の供給を受理することが許される。</p></li>
</ul>
<p>ループの実行仕様：</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">setupPart</span></code> of a LoopNode is executed first. When the <code class="docutils literal notranslate"><span class="pre">setupPart</span></code> has
completed execution, the iterative execution of the loop begins. Execution of
the <code class="docutils literal notranslate"><span class="pre">test</span></code> section may precede or follow execution of the <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code>,
depending on whether <code class="docutils literal notranslate"><span class="pre">isTestFirst</span></code> is true or false, respectively.</p>
</div></blockquote>
<p>以降の記述では <code class="docutils literal notranslate"><span class="pre">isTestFirst</span></code> が真であると仮定する。</p>
<blockquote>
<div><p>If the <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> is executed first (<code class="docutils literal notranslate"><span class="pre">isTestFirst</span></code> = false), it is always
executed at least once, after which the following description applies to
subsequent iterations.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">test</span></code> 節には LoopNode により識別される Boolean 型の <code class="docutils literal notranslate"><span class="pre">decider</span></code> OutputPin を所有する Action がある。<code class="docutils literal notranslate"><span class="pre">test</span></code> の実行が完了するとき、<code class="docutils literal notranslate"><span class="pre">decider</span></code> の値が真であれば <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> が実行される。そうでなければこの LoopNode の実行が完了する。</p>
<p><code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> の実行するたびに、ループの次の反復に備えて <code class="docutils literal notranslate"><span class="pre">test</span></code> 節が再び実行される。</p>
<blockquote>
<div><p>A LoopNode may also define a set of <code class="docutils literal notranslate"><span class="pre">loopVariable</span></code> OutputPins used to hold
intermediate values during each loop iteration.</p>
</div></blockquote>
<ul class="simple">
<li><p>これらの OutputPins は、反復中にループの <code class="docutils literal notranslate"><span class="pre">test</span></code> 節と <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> 節内で保持する値を利用できるようにするために、出発 ActivityEdges を持つことが許される。</p></li>
<li><p>LoopNode が <code class="docutils literal notranslate"><span class="pre">loopVariable</span></code> OutputPins を持つ場合、<code class="docutils literal notranslate"><span class="pre">loopVariableInput</span></code>
InputPins, <code class="docutils literal notranslate"><span class="pre">bodyOutput</span></code> OutputPins, <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPins の合致集合も持つ必要がある。</p></li>
</ul>
<p>トークンの移動：</p>
<blockquote>
<div><p>When the LoopNode begins executing, the tokens on the <code class="docutils literal notranslate"><span class="pre">loopVariableInput</span></code>
InputPins are moved to the corresponding <code class="docutils literal notranslate"><span class="pre">loopVariable</span></code> OutputPins before
the first iteration of the loop.</p>
</div></blockquote>
<p>LoopNode の <code class="docutils literal notranslate"><span class="pre">bodyPart</span></code> の各実行が完了すると、<code class="docutils literal notranslate"><span class="pre">loopVariable</span></code> OutputPins に残っているトークンは破壊され、<code class="docutils literal notranslate"><span class="pre">bodyOutput</span></code> OutputPins のトークンは対応する
<code class="docutils literal notranslate"><span class="pre">loopVariable</span></code> OutputPins に複製ーされ、次の反復で利用可能になる。</p>
<p><code class="docutils literal notranslate"><span class="pre">test</span></code> が失敗し、ループが完了すると、最後の反復から <code class="docutils literal notranslate"><span class="pre">bodyOutput</span></code> 上のトークンは <code class="docutils literal notranslate"><span class="pre">result</span></code> に移され、それらの OutputPins から出発する辺すべてに供給される。</p>
<blockquote>
<div><p>A LoopNode may not have any other InputPins or OutputPins than those
described above. However, ActivityEdges may cross into and out of a LoopNode,
as for StructuredActivityNodes in general, and the semantics are the same
(see above), except that the execution of ExecutableNodes within the LoopNode
is specified by the iterative looping semantics described above.</p>
</div></blockquote>
<p>特に、ある反復で LoopNode に交差する ActivityEdge から受理したトークンは消費され、次の反復では利用できない。</p>
</section>
<section id="sequence-nodes">
<h4><a class="toc-backref" href="#id193" role="doc-backlink">16.11.3.5 Sequence Nodes</a><a class="headerlink" href="#sequence-nodes" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A SequenceNode defines a complete, sequential ordering of all the
ActivityNodes it contains, which must all be ExecutableNodes.</p>
</div></blockquote>
<p>SequenceNode が実行されると、その中の各節点が順番に実行される。この SequenceNode
はその節点間に ActivityEdges を含むことがあり、ActivityEdges はこの SequenceNode
の内外を横断することが許される。</p>
<p>SequenceNode の意味は同じ節点と辺を含む一般的な StructuredActivityNode と同等だが、このSequenceNode で指定されたように、節点を順次順序付けるために ControlFlow
が追加されている。</p>
</section>
</section>
<section id="id59">
<h3><a class="toc-backref" href="#id194" role="doc-backlink">16.11.4 Notation</a><a class="headerlink" href="#id59" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.46 Notation for StructuredActivityNode</p>
</div></blockquote>
<p>StructuredActivityNode はその <code class="docutils literal notranslate"><span class="pre">nodes</span></code> と <code class="docutils literal notranslate"><span class="pre">edges</span></code> を囲む角丸矩形の破線で示され、上部にキーワード <code class="docutils literal notranslate"><span class="pre">«structured»</span></code> がある。</p>
<p>{Conditional,Loop,Sequence}Node には標準記法は定義されない。</p>
</section>
<section id="id60">
<h3><a class="toc-backref" href="#id195" role="doc-backlink">16.11.5 Examples</a><a class="headerlink" href="#id60" title="Permalink to this heading">¶</a></h3>
<p>なし。</p>
</section>
</section>
<section id="expansion-regions">
<h2><a class="toc-backref" href="#id196" role="doc-backlink">16.12 Expansion Regions</a><a class="headerlink" href="#expansion-regions" title="Permalink to this heading">¶</a></h2>
<section id="id61">
<h3><a class="toc-backref" href="#id197" role="doc-backlink">16.12.1 Summary</a><a class="headerlink" href="#id61" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>An ExpansionRegion is a StructuredActivityNode that executes its contained
elements multiple times corresponding to elements of an input collection.</p>
</div></blockquote>
</section>
<section id="id62">
<h3><a class="toc-backref" href="#id198" role="doc-backlink">16.12.2 Abstract Syntax</a><a class="headerlink" href="#id62" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.47 Expansion Regions</p>
</div></blockquote>
<p>ExpansionRegion と ExpansionNode だけ。</p>
<p>ExpansionKind という enumeration がある。</p>
</section>
<section id="id63">
<h3><a class="toc-backref" href="#id199" role="doc-backlink">16.12.3 Semantics</a><a class="headerlink" href="#id63" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>An ExpansionRegion is a StructuredActivityNode that takes as input one or
more collections of values and executes its contained ActivityNodes and
ActivityEdges on each value in those collections. If the computation produces
results, these may be collected into output collections. The number of output
collections can differ from the number of input collections.</p>
</div></blockquote>
<ul>
<li><p>その計算が結果を生じる場合、出力収集に集められる。</p></li>
<li><p>出力収集の数は入力収集の数と異なることが可能だ。</p>
<blockquote>
<div><p>An ExpansionNode is an ObjectNode used to indicate a flow across the boundary
of an ExpansionRegion.</p>
</div></blockquote>
</li>
<li><p>領域の外側からはこれらの節点は収集として表示される。</p></li>
<li><p>領域の内側からは値はこの収集の要素として表示される。</p></li>
<li><p>収集とは実行機関が支持する構成要素であり、全体として扱うことも、要素値の集合として扱うことも許されるものだ。</p></li>
</ul>
<blockquote>
<div><p>An execution engine may define various kinds of collection types that it
supports (sets, bags, and so on), individual instances of which may be
constructed from element values and from which those element values may later
be obtained.</p>
</div></blockquote>
<p>このような収集オブジェクトは一つのトークン上の一つの値として引き渡される。実行機関は ExpansionNode に一緒に置かれたトークンの群れで引き渡される値の集合として、暗黙の了解で収集を支えることもある。</p>
<blockquote>
<div><p>If an ExpansionRegion has multiple input ExpansionNodes, then each one must
handle the same kind of collection (set, bag, or so on), although the types
of the elements in different collections may vary.</p>
</div></blockquote>
<ul class="simple">
<li><p>収集の種類が収集型として表される場合、これが ExpansionNodes の <code class="docutils literal notranslate"><span class="pre">type</span></code> として用いられる。</p></li>
<li><p>それ以外の場合、ExpansionNodes の <code class="docutils literal notranslate"><span class="pre">type</span></code> は収集内の要素の <code class="docutils literal notranslate"><span class="pre">type</span></code> を表す。</p></li>
</ul>
<p>ExpansionRegion は Action の通常の規則 (16.2.3) に則って実行を始める。</p>
<blockquote>
<div><p>In addition, if the input ExpansionNodes for the ExpansionRegion have
collection types, then a collection instance must be placed on each
ExpansionNode before the ExpansionRegion may begin executing. Otherwise,
there is no constraint on whether any input ExpansionNode contains any tokens
(as an ExpansionNode with no token is interpreted as the empty collection in
this case).</p>
</div></blockquote>
<p>ExpansionRegion が実行開始すると、入力 ExpansionNode 内のトークンすべてを取り除く。</p>
<blockquote>
<div><p>Then the group of ActivityNodes and ActivityEdges contained in the
ExpansionRegion is executed once for each element of the input collections.
These will be referred to as the <em class="dfn">expansion executions</em> for the
ExpansionRegion.</p>
</div></blockquote>
<p>この収集の要素数が異なる場合、拡大実行の数は最小の収集のサイズに等しい。</p>
<p>各拡大実行は、以下の特別な規則を除き、一般的な StructureActivityNode の実行と同じ意味で、他の実行から独立して進行する：</p>
<ul>
<li><p>拡大実行それぞれの内部では、入力 ExpansionNode をその <code class="docutils literal notranslate"><span class="pre">source</span></code> とし、
ExpansionRegion の内側に <code class="docutils literal notranslate"><span class="pre">target</span></code> があるActivityEdge それぞれに単一のトークンが供給される。</p>
<p>このトークンはその入力 ExpansionNode 上の収集の個々の要素を値として含む。このような収集それぞれに、各拡大実行ごとに異なる要素が供給される。</p>
<ul class="simple">
<li><p>収集が集合でない（一意でない）場合、重複値は異なる要素とみなされる。</p></li>
<li><p>収集が順序付けられている場合、各収集からの要素は、各実行（ある実行は入力収集の位置 1 から要素をすべて取得し、別の実行は位置 2 からすべて取得し、など）のために、実行数まで順番に整列される。</p></li>
<li><p>収集が順序付けられていない場合、個々の要素がどの実行に配送されるかは未定義だ。</p></li>
</ul>
</li>
<li><p>拡大実行それぞれはその <code class="docutils literal notranslate"><span class="pre">source</span></code> が ExpansionRegion の内側にあり、その出力
ExpansionNode を <code class="docutils literal notranslate"><span class="pre">target</span></code> とする ActivityEdge にトークンを供給することになってもかまわない。</p>
<p>このようなトークンは直ちにこの ExpansionNode に受理され、その ExpansionNode の出力収集に追加される。</p>
<ul>
<li><p>入力収集と出力収集の両方が順序付けられている場合、各実行が与える値は入力収集によってその実行により導かれるのと同じ順序で連結される。</p></li>
<li><p>各実行が単一の値を生じる場合、出力収集は最小の入力収集と同じ要素数を持つ。出力収集が順序付けられている場合、入力収集の同じ位置の入力に対応する各位置に出力を持つ。</p>
<blockquote>
<div><p>On the other hand, if each execution may or may not produce a value, then
the output collection will have fewer elements than the input collections
and the ExpansionRegion will act as a kind of filter. Finally, if each
execution can produce more than one value, then the output collection may
end up with a greater number of elements than the input collections.</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>ExpansionRegion の InputPins に配置されたトークンは拡大実行ごとに複製され、拡大実行のそれぞれが InputPins から出発 ActivityEdges 上のトークンの異なる複製が供給される。</p>
<blockquote>
<div><p>In this way, tokens consumed from an InputPin in one expansion execution do
not affect the tokens available from the InputPin in other executions (the
tokens on the InputPin effectively appear to be “constant” across the
executions).</p>
</div></blockquote>
<p>同様に、ExpansionRegion の外からそれに交差する ActivityEdges 上供給されるトークンは、各拡大実行に対して複製される。ActivityEdge それぞれの <code class="docutils literal notranslate"><span class="pre">target</span></code> が各拡大実行内で別々の複製を供給される。</p>
</li>
<li><p>ExpansionRegions には、その内側から外部へ渡る OutputPins や ActivityEdges があってもかまわない。しかし、ExpansionRegion の内部からそのような OutputPins または ActivityEdges にトークンを供給する意味は定義されない。</p></li>
</ul>
<p>ExpansionRegion が拡大実行のすべてを完了すると、出力 ExpansionNodes 上の出力収集をそれらのノードから出発 ActivityEdges のすべてに供給する。</p>
<p>ExpansionRegion が ActivityFinalNode を含む場合、その ActivityFinalNode がいずれかの拡大実行内でトークンを受理すると、現在進行中の拡大実行はすべて終了し、ExpansionRegion 全体としての実行が完了する。この場合でも、出力 ExpansionNode
から出力収集が供給されるものの、その中身は部分的にしか満たされない場合がある。</p>
<p>ExpansionRegion の <code class="docutils literal notranslate"><span class="pre">mode</span></code> はその拡大実行の実行がどのように進行するかを制御する：</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">parallel</span></code></dt><dd><p>拡大実行の実行は同時に進行する。これは実行機関が実行を並列に稼動させるか、時間上的に重なり合って稼働させることを可能にするが、これは必須ではない。実行を逐次的に稼動させるならば、実行順序は定義されない。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">iterative</span></code></dt><dd><p>拡大実行の実行は反復的な順序で行うものとする。ある実行が完了してから他のものが始まる。</p>
<blockquote>
<div><p>The first expansion execution begins immediately when the ExpansionRegion
starts executing, with subsequent executions starting when the previous
execution is completed.</p>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stream</span></code></dt><dd><p>ちょうど一つの拡大実行があり、各要素は収集それぞれからの流れによりこの実行に供給される。入力 ElementNode 上の収集の各要素が ExpansionRegion から出発
ActivityEdges すべてに、トークンとして一つ一つ別々に供給される。</p>
</dd>
</dl>
</section>
<section id="id64">
<h3><a class="toc-backref" href="#id200" role="doc-backlink">16.12.4 Notation</a><a class="headerlink" href="#id64" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.48 Expansion Region</p>
</div></blockquote>
<p>ExpansionRegion は破線丸角枠で記す。左上隅に <code class="docutils literal notranslate"><span class="pre">«parallel»</span></code>, <code class="docutils literal notranslate"><span class="pre">«iterative»</span></code>,
<code class="docutils literal notranslate"><span class="pre">«stream»</span></code> のいずれかのキーワードがある。</p>
<p>入力と出力の ExpansionNodes は小さい短冊のような記号で記す。これらの記号は破線枠上に配置する。</p>
<p>ExpansionRegion の内側と外側に ActivityEdge 矢印があれば、入力と出力の拡張節点を区別されるだろう。そうでない場合に Pins と同様の小矢印を用いることが可能だ。</p>
<blockquote>
<div><p>Figure 16.49 Shorthand notation for expansion region containing single node</p>
</div></blockquote>
<p>速記法として、ExpansionNode リストボックス記法を Action 記号に直接配置し、この
Action の Pins を置き換えることが許される。</p>
<p>この略記法では</p>
<ul class="simple">
<li><p>Behavior の in/input Parameter に対応する入力 ExpansionNode 一つと、</p></li>
<li><p>Behavior の out/inout/return Parameter に対応する出力 ExpansionNode 一つ</p></li>
</ul>
<p>が必要だ。</p>
<blockquote>
<div><p>Figure 16.50 Full form of previous shorthand notation</p>
</div></blockquote>
<p>Fig 16.49 を完全形式で示すとこうなる。</p>
<blockquote>
<div><p>Figure 16.51 Notation for expansion region with one behavior invocation</p>
</div></blockquote>
<p>単一の CallBehaviorAction を含む ExpansionRegion のさらなる省略記法。</p>
<p>これは Fig. 16.49 の記法を使用して示されているが、<code class="docutils literal notranslate"><span class="pre">mode</span></code> キーワードを使用する代わりに、右上隅に “*” が置かれている。</p>
<ul class="simple">
<li><p>これは「多重実行」を含意している。</p></li>
<li><p>この記法は <code class="docutils literal notranslate"><span class="pre">mode</span></code> が parallel である CallBehaviorAction を含む
ExpansionRegion に写される。</p></li>
</ul>
</section>
<section id="id65">
<h3><a class="toc-backref" href="#id201" role="doc-backlink">16.12.5 Examples</a><a class="headerlink" href="#id65" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.52 Expansion region with two inputs and one output</p>
</div></blockquote>
<p>二つの入力と一つの出力があり、並行実行 («parallel») される ExpansionRegion の見本。</p>
<ul class="simple">
<li><p>実行は両方の入力が利用可能になるまで始まらない。</p></li>
<li><p>両方の収集には同数の要素があることを期待している。</p></li>
<li><p>ExpansionRegion 内部は入力収集の各要素について一度ずつ実行される。その各実行一回中、各収集から値の組一つが利用可能。</p></li>
<li><p>各実行は出力 ExpansionNode に結果値を生成する。結果値はすべて入力収集と同じ大きさの収集となる。</p></li>
<li><p>出力収集はすべての並列実行が完了した後、出力 ExpansionNode 上の
ExpansionRegion の外部で利用可能になる。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.53 Expansion Region</p>
</div></blockquote>
<p>ExpansionRegion を含む高速 Fourier 変換計算の断片の見本だ。</p>
<ul class="simple">
<li><p>ExpansionRegion の外側で複素数の配列に対する演算がある。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code>, <code class="docutils literal notranslate"><span class="pre">Slower</span></code>, <code class="docutils literal notranslate"><span class="pre">Supper</span></code>, <code class="docutils literal notranslate"><span class="pre">V</span></code> は配列だ。</p></li>
<li><p>ExpansionRegions 中の式に見える <code class="docutils literal notranslate"><span class="pre">cut</span></code> および <code class="docutils literal notranslate"><span class="pre">shuffle</span></code> は配列に作用する演算だ。</p></li>
<li><p>領域の内側では、二つの算術演算が入力配列三個 (<code class="docutils literal notranslate"><span class="pre">lower</span></code>, <code class="docutils literal notranslate"><span class="pre">upper</span></code>, <code class="docutils literal notranslate"><span class="pre">root</span></code>)
の要素に対して行われ、出力配列二個 (<code class="docutils literal notranslate"><span class="pre">nxteven</span></code>, <code class="docutils literal notranslate"><span class="pre">nxtodd</span></code>) が得られる。</p></li>
<li><p>配列内の異なる位置同士は相互作用しないので、ExpansionRegion はすべての位置で並列実行することが可能だ。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.54 Examples of expansion region shorthand</p>
</div></blockquote>
<p>単一の Action がある ExpansionRegion の略記法の見本。</p>
<p>航空券の予約とホテルの予約が独立かつ並列だ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Specify</span> <span class="pre">Trip</span> <span class="pre">Route</span></code> Action は <code class="docutils literal notranslate"><span class="pre">Book</span> <span class="pre">Flight</span></code> の集合と <code class="docutils literal notranslate"><span class="pre">Book</span> <span class="pre">Hotel</span></code> の集合を出力する。</p></li>
<li><p>ホテルを独立して予約することも、互いに並行して予約することも、搭乗予約と並行して予約することも許される。</p></li>
</ul>
<blockquote>
<div><p>Figure 16.55 Shorthand notation for expansion region</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">Specify</span> <span class="pre">Trip</span> <span class="pre">Route</span></code> が複数の <code class="docutils literal notranslate"><span class="pre">Book</span> <span class="pre">Flight</span></code> 断片にまとまることが可能で、それぞれを個別に予約する必要がある。</p>
<p>それに渡された集合の各搭乗断片に対して一度ずつ、<code class="docutils literal notranslate"><span class="pre">Book</span> <span class="pre">Flight</span></code> Behavior を複数回呼び出す。</p>
</section>
</section>
<section id="other-actions">
<h2><a class="toc-backref" href="#id202" role="doc-backlink">16.13 Other Actions</a><a class="headerlink" href="#other-actions" title="Permalink to this heading">¶</a></h2>
<section id="id66">
<h3><a class="toc-backref" href="#id203" role="doc-backlink">16.13.1 Summary</a><a class="headerlink" href="#id66" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>ReduceActions for repeatedly invoking a Behavior to reduce a collection of
values to a single value, and RaiseExceptionAction for raising exceptions.</p>
</div></blockquote>
</section>
<section id="id67">
<h3><a class="toc-backref" href="#id204" role="doc-backlink">16.13.2 Abstract Syntax</a><a class="headerlink" href="#id67" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Figure 16.56 Other Actions</p>
</div></blockquote>
<p>ReduceAction には {Input,Output}Pin の両方があるが、RaiseExceptionActionには
InputPin だけがある。</p>
</section>
<section id="id68">
<h3><a class="toc-backref" href="#id205" role="doc-backlink">16.13.3 Semantics</a><a class="headerlink" href="#id68" title="Permalink to this heading">¶</a></h3>
<section id="reduce-actions">
<h4><a class="toc-backref" href="#id206" role="doc-backlink">16.13.3.1 Reduce Actions</a><a class="headerlink" href="#reduce-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A ReduceAction is an Action that reduces a collection to a single value by
combining the elements of the collection.</p>
</div></blockquote>
<ul class="simple">
<li><p>入力収集は <code class="docutils literal notranslate"><span class="pre">collection</span></code> InputPin で与えられる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior は入力 Parameter 一つと出力または戻り Parameter 一つが必要だ。</p></li>
<li><p>収集要素 <code class="docutils literal notranslate"><span class="pre">type</span></code> を持つ <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin が一つある。</p></li>
</ul>
<blockquote>
<div><p>An execution engine may define various kinds of collection types that it
supports (set, bag, and so on), individual instances of which may be
constructed from element values and from which those element values may later
be obtained.</p>
</div></blockquote>
<p>このような収集物は単一トークンに単一値として引き渡される。この場合、ReduceAction
の <code class="docutils literal notranslate"><span class="pre">collection</span></code> InputPin はその <code class="docutils literal notranslate"><span class="pre">type</span></code> が収集型であり、多重度は <code class="docutils literal notranslate"><span class="pre">1..1</span></code> であるようになるべくする。</p>
<p>代わりに、実行機関は InputPin に一緒に置かれたトークンの一団で渡された値の集合として、暗黙の了解で収集を支えてもよい。この場合、ReduceAction の <code class="docutils literal notranslate"><span class="pre">collection</span></code>
InputPin はこの収集の要素と同じ <code class="docutils literal notranslate"><span class="pre">type</span></code> を持ち、多重度は 1 より大きく、通常は
<code class="docutils literal notranslate"><span class="pre">*</span></code> であるようになるべくする。</p>
<blockquote>
<div><p>A ReduceAction executes by repeatedly invoking the <code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior on an
intermediate copy of the input collection.</p>
</div></blockquote>
<p>この <code class="docutils literal notranslate"><span class="pre">reducer</span></code> を呼び出すたびに中間収集から要素が二つ削除され、この呼び出しの実引数として働く。この呼び出しから返る値が中間収集に追加され、呼び出し前よりサイズが 1 小さくなり、<code class="docutils literal notranslate"><span class="pre">reducer</span></code> が再び呼び出される。</p>
<blockquote>
<div><p>This process continues until the collection has only one element. This
element is then placed on the <code class="docutils literal notranslate"><span class="pre">result</span></code> OutputPin and the ReduceAction
execution completes.</p>
</div></blockquote>
<p>入力収集が順序なしであるか、または InputPin の <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が偽であれば、中間収集のどの要素が <code class="docutils literal notranslate"><span class="pre">reducer</span></code> 呼び出しの実引数として選択されるのかが不確定となる。</p>
<p>入力収集が順序付けられている場合、または InputPin の <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が真であれば、中間収集の先頭二つの要素が常に <code class="docutils literal notranslate"><span class="pre">reducer</span></code> の呼び出しの実引数として使用され、呼び出しの結果は収集の最初の要素として追加される。</p>
<p><code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior が可換律かつ結合律を満たす演算であれば、順序なし収集または
<code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が偽であることは ReduceAction の結果に影響しないはずだ。</p>
<p><code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior が非可換だが結合律を満たす演算（行列の乗算のような）である場合、中間収集の要素を選択する順序が簡約計算の結果に影響するはずだ。</p>
<blockquote>
<div><p>If it is desired to avoid nondeterminacy in this case, collections may be
ordered or <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> set to true, so the <code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior will be
applied to adjacent pairs according to the collection order.</p>
</div></blockquote>
<p>その呼び出しが互いに影響し合う可能性がある副作用が <code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior にある場合、<code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が偽である ReduceAction の結果は予測不能であってもかまわない。</p>
</section>
<section id="raise-exception-actions">
<h4><a class="toc-backref" href="#id207" role="doc-backlink">16.13.3.2 Raise Exception Actions</a><a class="headerlink" href="#raise-exception-actions" title="Permalink to this heading">¶</a></h4>
<blockquote>
<div><p>A RaiseExceptionAction is an Action that causes an exception to occur.</p>
</div></blockquote>
<ul class="simple">
<li><p>正常に終了するのではなく、例外を送出することで完了する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exception</span></code> InputPin において与えられた値が例外として送出される。</p></li>
</ul>
<blockquote>
<div><p>If the RaiseExceptionAction itself has an ExceptionHandler (see sub clause
15.5) that matches the raised exception, then the exception is caught by that
handler. Otherwise, the exception propagates outward to the innermost
containing StructuredActivityNode of the RaiseExceptionAction.</p>
</div></blockquote>
<p>この StructuredActivityNode が発生した例外に合致する ExceptionHandler を持っている場合、この例外はその処理者によって捕捉される。</p>
<p>例外が StructuredActivityNode の外に伝わると（この節点上の ExceptionHandler によって捕捉される場合も含め）、その StructuredActivityNode は停止する。捕捉される場合、処理者の実行後、(15.5.3) のようにこの StructureActivityNode から制御トークンとオブジェクトトークンが供給される。捕捉されない場合にはどちらも供給されない。</p>
<p>RaiseExceptionAction が実行された Behavior 内のある階層の ExceptionHandler で例外が捕捉されなかった場合、その Behavior の実行は停止する。</p>
<ul class="simple">
<li><p>この Behavior が同期的に呼び出された場合、この例外はその Behavior の呼び出し元に波及する (cf. 16.3.3)。</p></li>
<li><p>この Behavior が非同期的に呼び出された場合、この例外の波及はこの Behavior の実行停止とともに終了する。</p></li>
</ul>
</section>
</section>
<section id="id69">
<h3><a class="toc-backref" href="#id208" role="doc-backlink">16.13.4 Notation</a><a class="headerlink" href="#id69" title="Permalink to this heading">¶</a></h3>
<p>ReduceActions と RaiseExceptionActions に特化した記法は定義されない。</p>
</section>
<section id="id70">
<h3><a class="toc-backref" href="#id209" role="doc-backlink">16.13.5 Examples</a><a class="headerlink" href="#id70" title="Permalink to this heading">¶</a></h3>
<p>ReduceAction は数のリストをその数の和へ簡約するのに使える。</p>
<blockquote>
<div><p>Such a ReduceAction has one InputPin for a collection of numbers, one
OutputPin for a number and an addition function as the <code class="docutils literal notranslate"><span class="pre">reducer</span></code> Behavior.</p>
</div></blockquote>
<p>例えば、入力収集に整数の組 <span class="math notranslate nohighlight">\((2, 7, 5, 3)\)</span> があるとする。このコレクションに加算関数で ReduceAction を適用した結果は 11 だ。</p>
<p>既定の <code class="docutils literal notranslate"><span class="pre">isOrdered</span></code> が偽である場合には、これはいくつかのやり方で計算可能だ。例えば <span class="math notranslate nohighlight">\({(((2 + 7) + 5) + 3),}\,{(2 + (7 + (5 + 3))),}\,{((2 + 7) + (5 +
3)).}\)</span></p>
</section>
</section>
<section id="classifier-descriptions">
<h2><a class="toc-backref" href="#id210" role="doc-backlink">16.14 Classifier Descriptions</a><a class="headerlink" href="#classifier-descriptions" title="Permalink to this heading">¶</a></h2>
<p>機械生成による節。</p>
</section>
<section id="association-descriptions">
<h2><a class="toc-backref" href="#id211" role="doc-backlink">16.15 Association Descriptions</a><a class="headerlink" href="#association-descriptions" title="Permalink to this heading">¶</a></h2>
<p>機械生成による節。</p>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="ch15-activities.html" title="Previous document">15 Activities</a>
        </li>
        <li>
          <a href="ch17-interactions.html" title="Next document">17 Interactions</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2023, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>