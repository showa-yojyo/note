<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Python 入門［２＆３対応］読書ノート 2/3 &#8212; 読書ノート 1.6dev</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=c9b0a06a" />
    <script src="../_static/documentation_options.js?v=4354bf25"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="Python 入門［２＆３対応］読書ノート 3/3" href="note3.html" />
    <link rel="prev" title="Python 入門［２＆３対応］読書ノート 1/3" href="note1.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
    <div class="related top">
      &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="note1.html" title="Previous">Python 入門［２＆３対応］読書ノート 1/3</a>
        </li>
      
        <li>
          &uarr;
          <a href="index.html" title="Parent">Python 入門［２＆３対応］読書ノート</a>
        </li>
        <li>
          <a href="note3.html" title="Next">Python 入門［２＆３対応］読書ノート 3/3</a>
          &rarr;
        </li>
    </ul>
  </nav>
    </div>


          <div class="body" role="main">
            
  <section id="python-2-3-2-3">
<h1><a class="toc-backref" href="#id37" role="doc-backlink">Python 入門［２＆３対応］読書ノート 2/3</a><a class="headerlink" href="#python-2-3-2-3" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">著者<span class="colon">:</span></dt>
<dd class="field-odd"><p>株式会社エスキュービズム／細田謙二、オレンジ岸本、石井光次郎、岩川建彦、岡田正彦</p>
</dd>
<dt class="field-even">出版社<span class="colon">:</span></dt>
<dd class="field-even"><p>秀和システム</p>
</dd>
<dt class="field-odd">発行年<span class="colon">:</span></dt>
<dd class="field-odd"><p>2010 年</p>
</dd>
<dt class="field-even">ISBN<span class="colon">:</span></dt>
<dd class="field-even"><p>978-4-7980-2655-8</p>
</dd>
</dl>
<nav class="contents" id="id1">
<p class="topic-title">ノート目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#python-2-3-2-3" id="id37">Python 入門［２＆３対応］読書ノート 2/3</a></p>
<ul>
<li><p><a class="reference internal" href="#id2" id="id38">第 9 章 イテレータ</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id39">9.1 イテレータとは</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id40">9.2 ジェネレーター</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id5" id="id41">第 10 章 文字列</a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id42">10.1 文字列の概要</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id43">10. 2 文字列の作成</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id44">10.3 文字列の読み込み</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id45">10.4 文字列の更新</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id46">10.5 文字列の削除</a></p></li>
<li><p><a class="reference internal" href="#unicode" id="id47">10.6 Unicode 文字列と文字コード変換</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id11" id="id48">第 11 章 ファイル入出力</a></p>
<ul>
<li><p><a class="reference internal" href="#id12" id="id49">11.1 ファイルの基本操作</a></p></li>
<li><p><a class="reference internal" href="#id13" id="id50">11.2 日本語ファイルを扱う</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id51">11.3 パスの構築</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id52">11.4 ファイルシステム上の操作</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id53">11.5 テンポラリファイルの作成</a></p></li>
<li><p><a class="reference internal" href="#id17" id="id54">11.6 ファイルライクオブジェクト</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id18" id="id55">第 12 章 関数</a></p>
<ul>
<li><p><a class="reference internal" href="#id19" id="id56">12.1 関数の引数</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id57">12.3 関数オブジェクト</a></p></li>
<li><p><a class="reference internal" href="#id21" id="id58">12.4 デコレーター</a></p></li>
<li><p><a class="reference internal" href="#id22" id="id59">12.5 スコープ</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id23" id="id60">第 13 章 クラス</a></p>
<ul>
<li><p><a class="reference internal" href="#id24" id="id61">13.1 インスタンスの係わる文法</a></p></li>
<li><p><a class="reference internal" href="#id25" id="id62">13.2 クラスに係わる文法</a></p></li>
<li><p><a class="reference internal" href="#id26" id="id63">13.3 継承</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id27" id="id64">第 14 章 例外処理</a></p>
<ul>
<li><p><a class="reference internal" href="#id28" id="id65">14.1 処理の分岐</a></p></li>
<li><p><a class="reference internal" href="#id29" id="id66">14.2 例外情報を取り出す</a></p></li>
<li><p><a class="reference internal" href="#id30" id="id67">14.4 独自の例外</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id31" id="id68">第 15 章 モジュール</a></p>
<ul>
<li><p><a class="reference internal" href="#id32" id="id69">15.1 単一ファイルのモジュール</a></p></li>
<li><p><a class="reference internal" href="#id33" id="id70">15.2 複数ファイルのモジュール</a></p></li>
<li><p><a class="reference internal" href="#id34" id="id71">15.3 モジュールのパスを通す</a></p></li>
<li><p><a class="reference internal" href="#id35" id="id72">15.4 スクリプト化</a></p></li>
<li><p><a class="reference internal" href="#id36" id="id73">15.5 ライブラリの利用</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="id2">
<h2><a class="toc-backref" href="#id38" role="doc-backlink">第 9 章 イテレータ</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>ストリーム処理のためのポインタ的な役割</p></li>
<li><p>遅延評価</p></li>
</ul>
<section id="id3">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">9.1 イテレータとは</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Python におけるイテレータとは、<code class="docutils literal notranslate"><span class="pre">next</span></code> メソッドを実装するオブジェクトのこと。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next</span></code> メソッドと <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> 例外を理解しておく。イテレータが
<code class="docutils literal notranslate"><span class="pre">next</span></code> し切れなくなったら、そこから例外が送出されるイメージ。</p></li>
<li><p>囲み記事。Python 3 からは一部の関数がイテレータを返すように仕様変更になっている。特に、イテレータの <code class="docutils literal notranslate"><span class="pre">next</span></code> メソッドがなくなり、単なるフリー関数になるようだ。<code class="docutils literal notranslate"><span class="pre">it.next()</span></code> ではなく <code class="docutils literal notranslate"><span class="pre">next(it)</span></code> ということ。</p></li>
</ul>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id40" role="doc-backlink">9.2 ジェネレーター</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>この本はなぜか語尾の -or のカタカナ表記が揺らいでいる。</p>
<ul>
<li><p>&lt;関数に結びつく広義のイテレータ&gt; (p. 146)</p></li>
<li><p>&lt;ジェネレーターの特徴は、イテレータを進めるまで、関数内のローカル変数を保持したまま、次のシーケンス要素生成までの評価が中断されることです&gt; (p. 146)</p></li>
<li><p>&lt;ジェネレーターも内包表記で書くことができます&gt; (p. 148)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="c1"># (p. 148)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
</li>
<li><p>囲み記事の <code class="docutils literal notranslate"><span class="pre">send</span></code> は読みとばす。</p></li>
</ul>
</section>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id41" role="doc-backlink">第 10 章 文字列</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<section id="id6">
<h3><a class="toc-backref" href="#id42" role="doc-backlink">10.1 文字列の概要</a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>どういうわけか、手許の IDLE だと <code class="docutils literal notranslate"><span class="pre">len(u'日本語')</span></code> が 6 を返す。3 が正解。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">u'日本語'.encode('utf8')</span></code> のタイプは <code class="docutils literal notranslate"><span class="pre">str</span></code> だ。</p></li>
</ul>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id43" role="doc-backlink">10. 2 文字列の作成</a><a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;<code class="docutils literal notranslate"><span class="pre">r</span></code> の文字を置くとエスケープシーケンスを無視する raw 文字列のリテラル表現になります&gt; (p. 154)</p></li>
<li><p>&lt;<code class="docutils literal notranslate"><span class="pre">%</span></code> 演算子を利用した旧来の方法は、今後廃止される予定です&gt; (p. 157)</p></li>
<li><p>Python 3 風 <code class="docutils literal notranslate"><span class="pre">format</span></code> の使い方がすぐに理解できない。後で復習。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">join</span></code> メソッドには慣れておくこと。例えば CSV テキストを文字列リストから素早く構築できる。</p></li>
</ul>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id44" role="doc-backlink">10.3 文字列の読み込み</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>文字検索には <code class="docutils literal notranslate"><span class="pre">find</span></code>, <code class="docutils literal notranslate"><span class="pre">rfind</span></code> と <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">rindex</span></code> メソッドが使える。見つからなかったときに例外 <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> を投げるのが <code class="docutils literal notranslate"><span class="pre">index</span></code> 系。(p. 159)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">isdigit</span></code>, <code class="docutils literal notranslate"><span class="pre">isnumeric</span></code> メソッドは&lt;Unicode 型および Python 3 からは全角に対応しています&gt; (p. 162) とある。全角文字の１やらローマ数字やらを試して遊んでみよう。</p></li>
<li><p>&lt;printable な文字とは、<code class="docutils literal notranslate"><span class="pre">print</span></code> 関数で何かしらの文字列が <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> に表示される文字のこと&gt; (p. 165)</p></li>
</ul>
</section>
<section id="id9">
<h3><a class="toc-backref" href="#id45" role="doc-backlink">10.4 文字列の更新</a><a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>これが理解するのが難しかった。</p>
<ul class="simple">
<li><p>&lt;変更したように見える操作もありますが、新しく文字列を作成して、そのコピーを返しているだけ&gt; (p. 166) らしい。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">split</span></code> メソッドは、&lt;何も指定しないか、<code class="docutils literal notranslate"><span class="pre">None</span></code> を指定した場合は、分割アルゴリズムが変わります&gt; (p. 167) 空白文字がきれいにトリムされるようだ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitlines</span></code> という、改行文字に特化した <code class="docutils literal notranslate"><span class="pre">split</span></code> のようなメソッドがある。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">partition</span></code>, <code class="docutils literal notranslate"><span class="pre">rpartition</span></code> は <code class="docutils literal notranslate"><span class="pre">split</span></code> の弱いやつか。</p></li>
</ul>
<p>整形系メソッドは興味がわいたら読み返す。</p>
</section>
<section id="id10">
<h3><a class="toc-backref" href="#id46" role="doc-backlink">10.5 文字列の削除</a><a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<p>削除に見えても、実は新しくオブジェクトを作って返す操作だ。</p>
</section>
<section id="unicode">
<h3><a class="toc-backref" href="#id47" role="doc-backlink">10.6 Unicode 文字列と文字コード変換</a><a class="headerlink" href="#unicode" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;Unicode は 18 ビットで 1 文字を表現する&gt; (p. 175) とあるが、それは真実なのか。</p></li>
<li><p>Unicode 文字列のほうは、&lt;<code class="docutils literal notranslate"><span class="pre">isdecimal</span></code> メソッドと <code class="docutils literal notranslate"><span class="pre">isnumeric</span></code> メソッドの 2
つが追加されています&gt; (p. 176)</p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">sitecustomize.py</span></code> で <code class="docutils literal notranslate"><span class="pre">sys.setdefaultencoding('utf-8')</span></code> する例が書いてある。(p. 177)</p></li>
<li><p>&lt;<code class="docutils literal notranslate"><span class="pre">unicode</span></code> 関数と <code class="docutils literal notranslate"><span class="pre">decode</span></code> メソッドは、ともに、通常の文字列を Unicode 文字列に変換します&gt; (p. 177)</p></li>
<li><p>&lt;<code class="docutils literal notranslate"><span class="pre">str</span></code> 関数については、必ずデフォルトエンコーディングで変換されます&gt; (p. 179)
<code class="docutils literal notranslate"><span class="pre">encode</span></code> メソッドのほうが柔軟だということか。</p></li>
<li><p>囲み記事。文字列の他に <code class="docutils literal notranslate"><span class="pre">bytes</span></code>, <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> 型というのがある。後者はバイナリの取り扱いに有効らしいので、イメージファイルを解析するのに応用してみたい。</p></li>
</ul>
</section>
</section>
<section id="id11">
<h2><a class="toc-backref" href="#id48" role="doc-backlink">第 11 章 ファイル入出力</a><a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<section id="id12">
<h3><a class="toc-backref" href="#id49" role="doc-backlink">11.1 ファイルの基本操作</a><a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code> メソッドはファイルの内容を一気に文字列として読み込む。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">readlines</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, <code class="docutils literal notranslate"><span class="pre">writelines</span></code> を使い分ける。lines 系は各文字列の末尾に改行文字が付く。</p></li>
</ul>
</section>
<section id="id13">
<h3><a class="toc-backref" href="#id50" role="doc-backlink">11.2 日本語ファイルを扱う</a><a class="headerlink" href="#id13" title="Link to this heading">¶</a></h3>
<ul>
<li><p>前章の文字列メソッドを駆使して、ファイルの文字列の文字コードをプログラム中で適宜変換する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codecs</span></code> というモジュールがあり、ファイルオープン時に文字コードを指定することができる。(p. 189)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">codecs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;temp.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;utf8&#39;</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;あいう&#39;</span><span class="p">)</span> <span class="c1"># ファイル内に UTF-8 で出力される。</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>読み込みも同様。</p>
</li>
<li><p>&lt;BOM 付きファイルを適切に読み取るには、明示的にその BOM を取り除くか、
<code class="docutils literal notranslate"><span class="pre">codecs</span></code> モジュールにおいて <code class="docutils literal notranslate"><span class="pre">utf_8_sig</span></code> という名のエンコードを指定します&gt;
(p. 190) 掲載のサンプルコードでは <code class="docutils literal notranslate"><span class="pre">lstrip(codecs.BOM_UTF8)</span></code> と
<code class="docutils literal notranslate"><span class="pre">codes.open('temp.txt',</span> <span class="pre">'r',</span> <span class="pre">'utf_8_sig',</span> <span class="pre">'ignore')</span></code> の両方の手法を紹介している。</p></li>
</ul>
</section>
<section id="id14">
<h3><a class="toc-backref" href="#id51" role="doc-backlink">11.3 パスの構築</a><a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>ファイルパスの文字列を取り扱う方法を習得すること。</p>
<ul class="simple">
<li><p>&lt;セパレーターは <code class="docutils literal notranslate"><span class="pre">os.path.sep</span></code> または <code class="docutils literal notranslate"><span class="pre">os.sep</span></code> に格納されています&gt; (p. 191)
手元の環境で調べたら、両者は同じものだ。</p></li>
<li><p>&lt;パスを分解する方法は幾つかあります&gt; (p. 193)基本的には split と名の付く関数を利用する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">os.path.commonprefix</span></code> 関数は使いどころがわからない。</p></li>
</ul>
</section>
<section id="id15">
<h3><a class="toc-backref" href="#id52" role="doc-backlink">11.4 ファイルシステム上の操作</a><a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>ファイルの移動・コピー・属性操作関連の処理を習得すること。</p>
<ul>
<li><p>それらしい機能を探すときは <code class="docutils literal notranslate"><span class="pre">os.path</span></code>, <code class="docutils literal notranslate"><span class="pre">shutil</span></code>, <code class="docutils literal notranslate"><span class="pre">os</span></code> モジュールを当たるとよさそうだ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">os.mkdirs</span></code> (p. 197) は UNIX で言うところの <strong class="command">mkdir -p</strong> のようなもの。</p></li>
<li><p>ディレクトリ削除が色々ある。直感的には <code class="docutils literal notranslate"><span class="pre">shutil.rmtree</span></code> が普通の削除に相当するような。</p></li>
<li><p>これ重要。<code class="docutils literal notranslate"><span class="pre">shutil.copy2</span></code> 関数は &lt;最終アクセス時間や最終更新時間などのメタデータもコピー&gt; (p. 199) する。</p></li>
<li><p>ディレクトリのコピーは <code class="docutils literal notranslate"><span class="pre">shutil.copytree</span></code> (p. 201) を利用する。引数が多い。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">os.walk</span></code> 関数ではディレクトリを &lt;デフォルトでは最上層から下に辿っていきます。引数で <code class="docutils literal notranslate"><span class="pre">topdown=False</span></code> とすると、最下層から辿るようになります&gt; (p. 202)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">os.environ</span></code> 変数に環境変数が格納されている。(p. 205)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;PATH&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="go">[&#39;C:\\WINDOWS\\system32&#39;,</span>
<span class="go"> &#39;C:\\WINDOWS&#39;,</span>
<span class="go"> &#39;C:\\WINDOWS\\System32\\Wbem&#39;,</span>
<span class="go"> &#39;C:\\cygwin\\bin&#39;,</span>
<span class="go"> &#39;D:\\Python26\\Scripts&#39;,</span>
<span class="go"> &#39;D:\\Python26\\Lib\\site-packages\\PyQt4\\bin&#39;,</span>
<span class="go"> &#39;C:\\Program Files\\SlikSvn\\bin\\&#39;,</span>
<span class="go"> &#39;C:\\Program Files\\TortoiseSVN\\bin&#39;]</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id16">
<h3><a class="toc-backref" href="#id53" role="doc-backlink">11.5 テンポラリファイルの作成</a><a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tempfile.mkdtemp</span></code> 関数で一時ディレクトリを作成する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tempfile.mkstemp</span></code> と <code class="docutils literal notranslate"><span class="pre">tempfile.NamedTemporaryFile</span></code> 関数で一時ファイルを作成する。ファイルを削除するのを自分でやりたければ前者を利用する、という具合に使い分ける。</p></li>
</ul>
</section>
<section id="id17">
<h3><a class="toc-backref" href="#id54" role="doc-backlink">11.6 ファイルライクオブジェクト</a><a class="headerlink" href="#id17" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;文字列オブジェクトをファイルオブジェクトのように扱う&gt; (p. 208) クラスが
<code class="docutils literal notranslate"><span class="pre">StringIO</span></code> なのか。</p></li>
<li><p>&lt;<code class="docutils literal notranslate"><span class="pre">StringIO</span></code> の内部を C で実装した <code class="docutils literal notranslate"><span class="pre">cStringIO</span></code> モジュール&gt; (p. 208) は速そうだが、ユニコード周りで制限あり。</p></li>
<li><p>囲み記事で紹介されている Python 3 の <code class="docutils literal notranslate"><span class="pre">io</span></code> モジュール。Python 2.6.5 でも使用可能になっていた。</p></li>
</ul>
</section>
</section>
<section id="id18">
<h2><a class="toc-backref" href="#id55" role="doc-backlink">第 12 章 関数</a><a class="headerlink" href="#id18" title="Link to this heading">¶</a></h2>
<section id="id19">
<h3><a class="toc-backref" href="#id56" role="doc-backlink">12.1 関数の引数</a><a class="headerlink" href="#id19" title="Link to this heading">¶</a></h3>
<ul>
<li><p>キーワード引数の指定は順不同。(p. 213)</p></li>
<li><p>可変長引数は面白い。</p>
<ul>
<li><p>&lt;シーケンス型と辞書型の 2 つの指定方法があります。（略）引数宣言の前に <code class="docutils literal notranslate"><span class="pre">*</span></code>
を付けると、複数の引数をタプル型として受け入れます&gt; (p. 214)</p></li>
<li><p>&lt;引数宣言の前に <code class="docutils literal notranslate"><span class="pre">**</span></code> を付けると、キーワード付き引数を辞書型として受け入れます&gt; (p. 215)</p></li>
<li><p>実引数の順序は、</p>
<ol class="arabic simple">
<li><p>一般的な変数、</p></li>
<li><p>デフォルト値のある引数、</p></li>
<li><p>シーケンス型の可変長引数、</p></li>
<li><p>辞書型の可変長引数</p></li>
</ol>
<p>の順でなければならない。(p. 216)</p>
</li>
</ul>
</li>
<li><p>引数は &lt;変更不可能なオブジェクトの場合は、実質的に値渡しとなります&gt; (p. 216)</p></li>
<li><p>囲み記事の &lt;ある種グローバルな変数&gt; (p. 218) の指摘を心に留めておく。</p></li>
</ul>
</section>
<section id="id20">
<h3><a class="toc-backref" href="#id57" role="doc-backlink">12.3 関数オブジェクト</a><a class="headerlink" href="#id20" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;制限のないオブジェクト&gt; (p. 221) の意味がまったくわからない。</p></li>
</ul>
</section>
<section id="id21">
<h3><a class="toc-backref" href="#id58" role="doc-backlink">12.4 デコレーター</a><a class="headerlink" href="#id21" title="Link to this heading">¶</a></h3>
<p>これがまったくわからない。コードを手で打ち込んで実行してみても何をされたのかわからない。</p>
<ul class="simple">
<li><p>&lt;デコレーターは関数を受け取り、修飾した関数を返す関数です&gt; (p. 223)</p></li>
<li><p>修飾のしかたは、修飾したい関数の定義の前に <code class="docutils literal notranslate"><span class="pre">&#64;デコレーター関数</span></code> と書くだけ。</p></li>
<li><p>&lt;デコレーター関数内で新たに関数を定義することが多い&gt; (p. 224)</p></li>
<li><p>デコレーターはネストできる。</p></li>
<li><p>&lt;デコレーターがよく用いられる用途としては、時間計測や型チェック、キャッシュ、アクセス制御、初期化・後始末の処理、トレースなどがあります&gt; (p. 226) とあるので、存在意義は小さくないはずなのだが、わからない。</p></li>
</ul>
<p>なんでデコレーターになじめないんだろう。</p>
</section>
<section id="id22">
<h3><a class="toc-backref" href="#id59" role="doc-backlink">12.5 スコープ</a><a class="headerlink" href="#id22" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>関数内ではグローバル変数を無条件に右辺値参照できる。ただし、たまたま同名なローカル変数として解釈されるため、左辺値参照はできない。</p>
<ul>
<li><p>そのような場合は <code class="docutils literal notranslate"><span class="pre">global</span></code> 文に頼ればよい。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">globals</span></code>, <code class="docutils literal notranslate"><span class="pre">locals</span></code> 関数で、グローバル変数、ローカル変数をそれぞれ表示できる。</p></li>
</ul>
</section>
</section>
<section id="id23">
<h2><a class="toc-backref" href="#id60" role="doc-backlink">第 13 章 クラス</a><a class="headerlink" href="#id23" title="Link to this heading">¶</a></h2>
<p>今まで散々オブジェクトがどうのこうのと話があったのに、このタイミングでクラスとは。</p>
<section id="id24">
<h3><a class="toc-backref" href="#id61" role="doc-backlink">13.1 インスタンスの係わる文法</a><a class="headerlink" href="#id24" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;全てのクラスは、この <code class="docutils literal notranslate"><span class="pre">object</span></code> を根底に継承します&gt; (p. 232)</p></li>
<li><p>&lt;Python のオブジェクトとは、クラスのインスタンスだけでなく、クラスや関数自身も該当します&gt; (p. 233)</p></li>
<li><p>&lt;特殊メソッドの名前は <code class="docutils literal notranslate"><span class="pre">__xxx__</span></code> のように 2 つのアンダースコアが両端に付いたものになります&gt; (p. 234)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">property</span></code> はおさえておく。</p></li>
</ul>
</section>
<section id="id25">
<h3><a class="toc-backref" href="#id62" role="doc-backlink">13.2 クラスに係わる文法</a><a class="headerlink" href="#id25" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>クラス属性は C++ で言うところの static メンバーみたいなものらしい。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;classmethod</span></code> と <code class="docutils literal notranslate"><span class="pre">&#64;staticmethod</span></code> の使い分けかたがわからない。</p></li>
</ul>
</section>
<section id="id26">
<h3><a class="toc-backref" href="#id63" role="doc-backlink">13.3 継承</a><a class="headerlink" href="#id26" title="Link to this heading">¶</a></h3>
<p>あとで読む。</p>
</section>
</section>
<section id="id27">
<h2><a class="toc-backref" href="#id64" role="doc-backlink">第 14 章 例外処理</a><a class="headerlink" href="#id27" title="Link to this heading">¶</a></h2>
<section id="id28">
<h3><a class="toc-backref" href="#id65" role="doc-backlink">14.1 処理の分岐</a><a class="headerlink" href="#id28" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Python 独特の <code class="docutils literal notranslate"><span class="pre">else</span></code> だが、<code class="docutils literal notranslate"><span class="pre">try</span></code> の本処理の後に行うような（本来捕捉したくない部分だということを）コードに示すという狙いがあるのか。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finally</span></code> よりは <code class="docutils literal notranslate"><span class="pre">with</span></code> の利用を好む。</p></li>
</ul>
</section>
<section id="id29">
<h3><a class="toc-backref" href="#id66" role="doc-backlink">14.2 例外情報を取り出す</a><a class="headerlink" href="#id29" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Python 2.6 以降では <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">...</span> <span class="pre">as</span> <span class="pre">...:</span></code> が使える。(p. 252)</p></li>
</ul>
</section>
<section id="id30">
<h3><a class="toc-backref" href="#id67" role="doc-backlink">14.4 独自の例外</a><a class="headerlink" href="#id30" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>&lt;全ての例外クラスは、<code class="docutils literal notranslate"><span class="pre">Exception</span></code> クラスを継承して作ります&gt; (p. 256)</p></li>
</ul>
</section>
</section>
<section id="id31">
<h2><a class="toc-backref" href="#id68" role="doc-backlink">第 15 章 モジュール</a><a class="headerlink" href="#id31" title="Link to this heading">¶</a></h2>
<section id="id32">
<h3><a class="toc-backref" href="#id69" role="doc-backlink">15.1 単一ファイルのモジュール</a><a class="headerlink" href="#id32" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">import</span></code> 文で参照したいファイルは、&lt;ファイルのディレクトリをカレントディレクトリとすれば&gt; (p. 262) 可能。</p></li>
</ul>
</section>
<section id="id33">
<h3><a class="toc-backref" href="#id70" role="doc-backlink">15.2 複数ファイルのモジュール</a><a class="headerlink" href="#id33" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> のあるフォルダをパッケージと呼ぶ。パッケージは入れ子になっていることがある。</p></li>
</ul>
</section>
<section id="id34">
<h3><a class="toc-backref" href="#id71" role="doc-backlink">15.3 モジュールのパスを通す</a><a class="headerlink" href="#id34" title="Link to this heading">¶</a></h3>
<ul>
<li><p>&lt;モジュールをインポートする時に、どのフォルダ・ファイルを参照するかは、
<code class="docutils literal notranslate"><span class="pre">sys</span></code> モジュールの <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> にリストとして格納されているモジュールの検索パスに基づいて決められます&gt; (p. 266)</p>
<p>リスト <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> を Python 実行中に直接変更することができる。</p>
</li>
</ul>
</section>
<section id="id35">
<h3><a class="toc-backref" href="#id72" role="doc-backlink">15.4 スクリプト化</a><a class="headerlink" href="#id35" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># スクリプトとして実行された場合、ここに来る。</span>
</pre></div>
</div>
</section>
<section id="id36">
<h3><a class="toc-backref" href="#id73" role="doc-backlink">15.5 ライブラリの利用</a><a class="headerlink" href="#id36" title="Link to this heading">¶</a></h3>
<ul>
<li><p>PyPI &lt;<a class="reference external" href="http://pypi.python.org/pypi">http://pypi.python.org/pypi</a>&gt; では、いろんな人が作ったライブラリーを配布している。ライブラリーを指定して <strong class="command">easy_install</strong> を実行してインストールする。</p>
<ul>
<li><p><strong class="program">easy_install</strong> を入手するには、<code class="file docutils literal notranslate"><span class="pre">ez_setup.py</span></code> を入手する必要がある。入手して Python で実行すると、<strong class="program">easy_install</strong> 自体がインストールされる。</p>
<p>インターネットに接続できない環境では、setuptools のインストーラー (exe) を先に入手しておく必要があるのか。</p>
</li>
</ul>
</li>
<li><p>bitbucket は知らなかった。後で調べよう。</p></li>
</ul>
</section>
</section>
</section>


          </div>
    <div class="related bottom">
      &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="note1.html" title="Previous">Python 入門［２＆３対応］読書ノート 1/3</a>
        </li>
      
        <li>
          &uarr;
          <a href="index.html" title="Parent">Python 入門［２＆３対応］読書ノート</a>
        </li>
        <li>
          <a href="note3.html" title="Next">Python 入門［２＆３対応］読書ノート 3/3</a>
          &rarr;
        </li>
    </ul>
  </nav>
    </div>

      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="../index.html" title="読書ノート Home"><img src="../_images/logo.svg"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2024, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>