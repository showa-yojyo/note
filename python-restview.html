<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Restview 利用ノート &#8212; 読書ノート 1.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=1a9a5cd9" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=d21ed4cc"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="Nose 利用ノート" href="python-nose.html" />
    <link rel="prev" title="その他の話題" href="python-docutils/misc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="python-docutils/misc.html" title="Previous document">その他の話題</a>
        </li>
        <li>
          <a href="python-nose.html" title="Next document">Nose 利用ノート</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="restview">
<h1><a class="toc-backref" href="#id8" role="doc-backlink">Restview 利用ノート</a><a class="headerlink" href="#restview" title="Permalink to this heading">¶</a></h1>
<p>本章では <a class="reference external" href="https://www.python.org/">Python</a> のサードパーティー製パッケージである <a class="reference external" href="http://mg.pov.lt/restview/">Restview</a> の利用に関することを記す。</p>
<p>本ノートが <a class="reference external" href="https://sphinx-doc.org/">Sphinx</a> を利用しているため、このツールの利用状況はかなり限定的になる。具体例を挙げると <code class="file docutils literal notranslate"><span class="pre">README.rst</span></code> のような、 Sphinx のビルド対象外の孤立した
rstファイルの確認に用いる。</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#restview" id="id8">Restview 利用ノート</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id9">インストール</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id10">演習</a></p>
<ul>
<li><p><a class="reference internal" href="#readme-rst" id="id11"><code class="file docutils literal notranslate"><span class="pre">README.rst</span></code> を確認する</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id12">Restview を停止する</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id13">スタイルシートの設定</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id5" id="id14">感想</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id15">関連リンクおよび参考サイト</a></p></li>
</ul>
</li>
</ul>
</nav>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>本稿執筆時の動作環境は次のとおり。</p>
<ul class="simple">
<li><p>OS: Windows 10 Home x64</p></li>
<li><p><a class="reference external" href="https://www.python.org/">Python</a>: 3.5.0</p></li>
<li><p><a class="reference external" href="http://mg.pov.lt/restview/">Restview</a>: 2.5.0</p></li>
</ul>
</div>
<section id="id1">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">インストール</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="python-miniconda.html#python-pkg-proc"><span class="std std-ref">一般のサードパーティー製 Python パッケージのインストール手順</span></a> を参照。以下に <strong class="program">pip</strong> によるインストールの進行例を示す。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pip<span class="w"> </span>install<span class="w"> </span>restview
<span class="go">Collecting restview</span>
<span class="go">  Downloading restview-2.5.0-py2.py3-none-any.whl</span>
<span class="go">Requirement already satisfied (use --upgrade to upgrade): pygments in d:\python35\lib\site-packages (from restview)</span>
<span class="go">Requirement already satisfied (use --upgrade to upgrade): docutils in d:\python35\lib\site-packages (from restview)</span>
<span class="go">Collecting readme (from restview)</span>
<span class="go">  Downloading readme-0.6.0-py2.py3-none-any.whl</span>
<span class="go">Requirement already satisfied (use --upgrade to upgrade): six in d:\python35\lib\site-packages (from readme-&gt;restview)</span>
<span class="go">Collecting bleach (from readme-&gt;restview)</span>
<span class="go">  Downloading bleach-1.4.2-py2.py3-none-any.whl</span>
<span class="go">Collecting html5lib&gt;=0.999 (from bleach-&gt;readme-&gt;restview)</span>
<span class="go">  Downloading html5lib-0.9999999.tar.gz (889kB)</span>

<span class="go">Installing collected packages: html5lib, bleach, readme, restview</span>
<span class="go">  Running setup.py install for html5lib</span>
<span class="go">Successfully installed bleach-1.4.2 html5lib-0.9999999 readme-0.6.0 restview-2.5.0</span>
</pre></div>
</div>
</section>
<section id="id2">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">演習</a><a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h2>
<section id="readme-rst">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">README.rst</span></code> を確認する</a><a class="headerlink" href="#readme-rst" title="Permalink to this heading">¶</a></h3>
<p>オプションなしで <strong class="command">restview</strong> を実行すると、HTTP サーバーが
<code class="docutils literal notranslate"><span class="pre">localhost:xxxx</span></code> で起動する。直ちにウェブブラウザーが自動的に開いて README の
HTML 版を表示する。その後、下に示すように HTTP ログを表示し続ける。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ restview README.rst</span>
<span class="go">Listening on http://localhost:64492/</span>
<span class="go">127.0.0.1 - - [29/Oct/2015 22:32:18] &quot;GET / HTTP/1.1&quot; 200 -</span>
<span class="go">127.0.0.1 - - [29/Oct/2015 22:32:20] &quot;GET /favicon.ico HTTP/1.1&quot; 200 -</span>
<span class="go">127.0.0.1 - - [29/Oct/2015 22:32:26] &quot;GET /favicon.ico HTTP/1.1&quot; 200 -</span>
</pre></div>
</div>
<ul class="simple">
<li><p>ポートはランダムに決定してくれる。明示的にポートを指定するオプションもある。</p></li>
</ul>
<p>この状態でテキストエディター等で <code class="file docutils literal notranslate"><span class="pre">README.rst</span></code> をデタラメに編集して保存すると、</p>
<ol class="arabic simple">
<li><p>ブラウザーで開いている README のビューが更新されている。</p></li>
<li><p>コンソールのログが増えていく。</p></li>
</ol>
<p>次のログは rst ファイルの 99 行目辺りにテキトーにテキストを挿入して保存した例である。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">127.0.0.1 - - [29/Oct/2015 22:41:55] &quot;HEAD /polling?pathname=/&amp;mtime=1446040040.280132 HTTP/1.1&quot; 200 -</span>
<span class="go">README.rst:99: (ERROR/3) Unexpected indentation.</span>
<span class="go">127.0.0.1 - - [29/Oct/2015 22:41:56] &quot;GET / HTTP/1.1&quot; 200 -</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Restview を停止する</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p>普通にコンソールで <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">C</kbd> を押す。</p>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">スタイルシートの設定</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<p>オプション <code class="docutils literal notranslate"><span class="pre">--css=URL|FILENAME</span></code> を指定する。複数のスタイルシートをカンマ区切りで指定することができる。</p>
<p>ただし、この機能は使いどころが難しい。 README を見せるのは主に GitHub のページであり、自作のスタイルシートの出番がないから厳密な見栄えには興味がないのだ。</p>
</section>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">感想</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>ここまで書いておいてなんだが、色々と代替手段があることを最後に書き添えておきたい。</p>
<ul>
<li><p><a class="reference external" href="http://rst.ninjs.org/">Online reStructuredText editor</a> のようなオンラインサービスが既にあるので、そちらで間に合うのであればこれをインストールする必要性はない。</p></li>
<li><p><a class="reference external" href="https://docutils.sourceforge.io/">Docutils</a> があるのだから、自力で HTML に変換してブラウザーで開いても手間はあまり変わらない。ただ Cygwin 環境だと Python のスクリプト呼び出しが若干面倒なので確かに有用かもしれない。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ python &quot;$PYTHON_SCRIPTS_DIR/rst2html.py&quot; README.rst &gt; /tmp/README.html</span>
<span class="go">bash$ cygstart /tmp/README.html</span>
</pre></div>
</div>
<p>工夫としては最初の長いコマンドラインの固定部分をシェルの設定ファイルに関数化しておくことが考えられる。次のブラウザー呼び出しもつなげてしまってよさそうだ。</p>
</li>
</ul>
</section>
<section id="id6">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">関連リンクおよび参考サイト</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h2>
<dl class="simple">
<dt><a class="reference external" href="http://mg.pov.lt/restview/">Restview</a></dt><dd><p>当パッケージの公式サイト。</p>
</dd>
<dt><a class="reference external" href="http://rst.ninjs.org/">Online reStructuredText editor</a></dt><dd><p>ウェブブラウザー上で rst テキストを編集して、その HTML への変換結果を動的に表示できるサービス。</p>
</dd>
</dl>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="python-docutils/misc.html" title="Previous document">その他の話題</a>
        </li>
        <li>
          <a href="python-nose.html" title="Next document">Nose 利用ノート</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2023, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>