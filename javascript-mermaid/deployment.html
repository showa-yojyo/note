
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deployment &#8212; 読書ノート 1.5dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/mermaid.js"></script>
    <link rel="next" title="Flowcharts - Basic Syntax" href="flowchart.html" />
    <link rel="prev" title="Mermaid 利用ノート" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">Mermaid 利用ノート</a>
        </li>
        <li>
          <a href="flowchart.html" title="Next document">Flowcharts - Basic Syntax</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="deployment">
<h1><a class="toc-backref" href="#id1">Deployment</a><a class="headerlink" href="#deployment" title="Permalink to this heading">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#deployment" id="id1">Deployment</a></p>
<ul>
<li><p><a class="reference internal" href="#four-ways-of-using-mermaid" id="id2">Four ways of using mermaid</a></p></li>
<li><p><a class="reference internal" href="#using-the-live-editor" id="id3">1. Using the Live Editor</a></p></li>
<li><p><a class="reference internal" href="#using-mermaid-plugins" id="id4">2. Using Mermaid Plugins</a></p></li>
<li><p><a class="reference internal" href="#calling-the-javascript-api" id="id5">3. Calling the Javascript API</a></p></li>
<li><p><a class="reference internal" href="#adding-mermaid-as-a-dependency" id="id6">4. Adding Mermaid as a dependency</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="four-ways-of-using-mermaid">
<h2><a class="toc-backref" href="#id2">Four ways of using mermaid</a><a class="headerlink" href="#four-ways-of-using-mermaid" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Using the Mermaid Live Editor at <a class="reference external" href="https://mermaid.live">mermaid.live</a>.</p></li>
<li><p>Using mermaid plugins with programs you are familiar with.</p></li>
<li><p>Calling the Mermaid Javascript API.</p></li>
<li><p>Deploying Mermaid as a dependency.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is our recommendation that you review all approaches, and choose the
one that is best for your project.</p>
</div>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>この方法群のうち、2. と 3. を習得したい。</p>
</div>
</div>
<div class="section" id="using-the-live-editor">
<h2><a class="toc-backref" href="#id3">1. Using the Live Editor</a><a class="headerlink" href="#using-the-live-editor" title="Permalink to this heading">¶</a></h2>
<p>Available at <a class="reference external" href="https://mermaid.live">mermaid.live</a></p>
<div class="mermaid">
            graph TB
    A[Enter Chart Definition]
    B[Preview]
    C{Decide}
    D[Keep]
    E[Edit Definition]
    F[Save Image and Code]

    A --&gt; B --&gt; C
    C --&gt; D --&gt; F --&gt; B
    C --&gt; E --&gt; B
        </div><div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p><code class="docutils literal notranslate"><span class="pre">Code</span></code> セクションでは、生の Mermaid
コードを書いたり編集したりすることができ、 その横にあるパネル <code class="docutils literal notranslate"><span class="pre">Preview</span></code>
で描画結果を即座に確認できる。それから <code class="docutils literal notranslate"><span class="pre">Configuration</span></code>
セクションは、図式の外観や動作を変更するためにある。 手許に Mermaid
コードをチェックする環境がまったくない場合には上記ウェブページが有用だ。キーワード補完機能はここにしかないかもしれない。</p>
</div>
<div class="section" id="editing-history">
<h3>Editing History<a class="headerlink" href="#editing-history" title="Permalink to this heading">¶</a></h3>
<p>Your code will be autosaved every minute into the Timeline tab of History which
shows the most recent 30 items.</p>
<p>You can manually save code by clicking the Save icon in the History section. It
can also be accessed in the Saved tab. This is stored in the browser storage
only.</p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>実際にグラフを編集してから Timeline
を確認すると、今実行したばかりのコマンド名がよくわからない。</p>
</div>
</div>
<div class="section" id="saving-a-diagram">
<h3>Saving a Diagram<a class="headerlink" href="#saving-a-diagram" title="Permalink to this heading">¶</a></h3>
<p>You may choose any of the methods below, to save it</p>
<p><strong>We recommend that you save your diagram code on top of any method you choose,
in order to make edits and modifications further down the line.</strong></p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>開発陣の言うことは正しい。出力結果よりも入力であるテキストのほうが重要だ。</p>
</div>
</div>
<div class="section" id="editing-your-diagrams">
<h3>Editing your diagrams<a class="headerlink" href="#editing-your-diagrams" title="Permalink to this heading">¶</a></h3>
<p>Editing is as easy as pasting your <strong>Diagram code</strong>, into the <code class="docutils literal notranslate"><span class="pre">code</span></code> section
of the <code class="docutils literal notranslate"><span class="pre">Live</span> <span class="pre">Editor</span></code>.</p>
</div>
<div class="section" id="loading-from-gists">
<h3>Loading from Gists<a class="headerlink" href="#loading-from-gists" title="Permalink to this heading">¶</a></h3>
<p>The Gist you create should have a code.mmd file and optionally a config.json.</p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>まずは Gist に新しくページ（実体はリポジトリー）を追加して、
<a class="reference external" href="https://gist.github.com/sidharthv96/6268a23e673a533dcb198f241fd7012a">例</a>
のような構成にする。 Mermaid 書式のテキストファイルと、必要ならば config.json
を添える。 あとは Live Editor の UI を見れば指定方法は理解できる。</p>
</div>
</div>
</div>
<div class="section" id="using-mermaid-plugins">
<h2><a class="toc-backref" href="#id4">2. Using Mermaid Plugins</a><a class="headerlink" href="#using-mermaid-plugins" title="Permalink to this heading">¶</a></h2>
<p>You can generate mermaid diagrams from within popular applications using
plug-ins. It can be done in the same way, you would use the Live Editor.</p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>個人的に注目しているのは次のものだ：</p>
<ul class="simple">
<li><p>VS Code <a class="reference external" href="https://marketplace.visualstudio.com/items?itemName=bierner.markdown-mermaid">Markdown Preview Mermaid
Support</a>:
当ノートもこれを利用して編集している。</p></li>
<li><p>Sphinx
<a class="reference external" href="https://github.com/mgaitan/sphinxcontrib-mermaid">sphinxcontrib-mermaid</a>:
読者ノート用に確認する。</p></li>
</ul>
<p>なお、Jekyll ブログの Markdown ファイルから Mermaid を利用するにはプラグインではなく、
HTML テンプレートを上書きして次の節の手法に帰着させることにする。</p>
</div>
</div>
<div class="section" id="calling-the-javascript-api">
<h2><a class="toc-backref" href="#id5">3. Calling the Javascript API</a><a class="headerlink" href="#calling-the-javascript-api" title="Permalink to this heading">¶</a></h2>
<p>This method can be used with any common web server like Apache, IIS, nginx, node
express.</p>
<p>You will also need a text editing tool like Notepad++ to generate a .html file.
It is then deployed by a web browser (such as Firefox, Chrome, Safari, but not
Internet Explorer).</p>
<p>The API works by pulling rendering instructions from the source <code class="docutils literal notranslate"><span class="pre">mermaid.js</span></code>
in order to render diagrams on the page.</p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>最初のパラグラフは無視する。</p>
</div>
<div class="section" id="requirements-for-the-mermaid-api">
<h3>Requirements for the Mermaid API<a class="headerlink" href="#requirements-for-the-mermaid-api" title="Permalink to this heading">¶</a></h3>
<p>When writing the .html file, we give three instructions inside the html code to
the web browser:</p>
<ol class="loweralpha simple">
<li><p>A reference for fetching the online mermaid renderer, through the
<code class="docutils literal notranslate"><span class="pre">mermaid.js</span></code> or <code class="docutils literal notranslate"><span class="pre">mermaid.min.js</span></code>.</p></li>
<li><p>The mermaid code for the diagram we want to create.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code> call, which dictates the appearance of diagrams
and also starts the rendering process.</p></li>
</ol>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>この三点セットが Mermaid 利用の基本だ。実際の利用ではこれを変形して実現することになるはずだ。</p>
</div>
<p><strong>a. A reference to the external CDN in a ``&lt;script src&gt;`` tag, or a reference to mermaid.js as a separate file.:</strong></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>素の HTML と Jekyll 仕様のブログとでは、この <code class="docutils literal notranslate"><span class="pre">script</span></code>
タグの位置がかなり異なる。場合によっては、ラッパースクリプトを作成して上記
URL を動的にダウンロードすることになる。この場合については後述する。</p>
</div>
<p><strong>b. The embedded mermaid diagram definition inside a ``&lt;div class=”mermaid”&gt;``:</strong></p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    Here is a mermaid diagram:
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mermaid&quot;</span><span class="p">&gt;</span>
        graph TD
        A[Client] --&gt; B[Load Balancer]
        B --&gt; C[Server01]
        B --&gt; D[Server02]
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><strong>Notes</strong>: Every Mermaid chart/graph/diagram definition, should have separate
<code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tags.</p>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>Jekyll で Markdown の三重バッククオートによる <code class="docutils literal notranslate"><span class="pre">mermaid</span></code>
ブロックを定義すると、 Jekyll がこのブロックコードをクラスが <code class="docutils literal notranslate"><span class="pre">mermaid</span></code>
である <code class="docutils literal notranslate"><span class="pre">div</span></code> タグに変換するものと期待する。
Sphinx のプラグインでも同様の挙動をする。</p>
</div>
<p><strong>c. The ``mermaid.initialize()`` call.</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code> call takes all the definitions contained in all the
<code class="docutils literal notranslate"><span class="pre">&lt;div</span> <span class="pre">class=&quot;mermaid&quot;&gt;</span></code> tags that it finds in the html body and renders them
into diagrams. Example:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span><span class="w"> </span><span class="nx">startOnLoad</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rendering in Mermaid is initialized by <code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code> call.
You can place <code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code> inside <code class="docutils literal notranslate"><span class="pre">mermaid.min.js</span></code> for brevity.
However, doing the opposite lets you control when it starts looking for
<code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tags inside the web page with <code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code>. This is
useful when you think that not all <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tags may have loaded on the
execution of <code class="docutils literal notranslate"><span class="pre">mermaid.min.js</span></code> file.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">startOnLoad</span></code> is one of the parameters that can be defined by
<code class="docutils literal notranslate"><span class="pre">mermaid.initialize()</span></code></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 53%" />
<col style="width: 11%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>startOnLoad</p></td>
<td><p>Toggle for Rendering upon loading</p></td>
<td><p>Boolean</p></td>
<td><p>true, false</p></td>
</tr>
</tbody>
</table>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>おそらく <code class="docutils literal notranslate"><span class="pre">windows.onload</span></code> のイベントハンドラーに Mermaid
ブロックを図式化する処理を追加するような指示を表している。</p>
</div>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>Sphinx で sphinxcontrib-mermaid プラグインを有効にする場合の例をここに示す。</p>
<p><cite>conf.py</cite> で例えばこのように定義する：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mermaid_version</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">mermaid_init_js</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">html_js_files</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;mermaid.js&#39;</span><span class="p">,</span>
    <span class="c1"># etc.</span>
<span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">_static</span></code> ディレクトリーにスクリプトファイル <code class="docutils literal notranslate"><span class="pre">mermaid.js</span></code> を次のような内容で保存する（よりスマートなコードにしたい）：</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">MERMAID_CLASS_NAME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;.mermaid&#39;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="nx">MERMAID_CLASS_NAME</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">js</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nx">js</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span><span class="w"></span>
<span class="w">            </span><span class="nx">startOnLoad</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nx">theme</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;base&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nx">themeVariables</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nx">primaryColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nx">lineColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nx">textColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="nx">primaryBorderColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;black&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="c1">// etc.</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">});</span><span class="w"></span>
<span class="w">        </span><span class="nx">mermaid</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="nx">MERMAID_CLASS_NAME</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">js</span><span class="p">);</span><span class="w"></span>
<span class="p">});</span><span class="w"></span>
</pre></div>
</div>
<p>こうすると、rst ファイルに mermaid ディレクティブのあった HTML だけが上記 URL から Mermaid のメインスクリプトをダウンロードして、図式を描くはずだ。</p>
</div>
</div>
<div class="section" id="working-examples">
<h3>Working Examples<a class="headerlink" href="#working-examples" title="Permalink to this heading">¶</a></h3>
<p>Here is a full working example of the mermaidAPI being called through the CDN:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">            </span><span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span><span class="w"> </span><span class="nx">startOnLoad</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

        Here is one mermaid diagram:
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mermaid&quot;</span><span class="p">&gt;</span>
            graph TD
            A[Client] --&gt; B[Load Balancer]
            B --&gt; C[Server1]
            B --&gt; D[Server2]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

        And here is another:
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mermaid&quot;</span><span class="p">&gt;</span>
            graph TD
            A[Client] --&gt;|tcp_123| B
            B(Load Balancer)
            B --&gt;|tcp_456| C[Server1]
            B --&gt;|tcp_456| D[Server2]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
<p><strong>Another Option:</strong> In this example mermaid.js is referenced in <code class="docutils literal notranslate"><span class="pre">src</span></code> as a
separate JavaScript file, in an example Path.</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mermaid&quot;</span><span class="p">&gt;</span>
            graph LR
            A --- B
            B--&gt;C[fa:fa-ban forbidden]
            B--&gt;D(fa:fa-spinner);
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;mermaid&quot;</span><span class="p">&gt;</span>
            graph TD
            A[Client] --&gt; B[Load Balancer]
            B --&gt; C[Server1]
            B --&gt; D[Server2]
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;The\Path\In\Your\Package\mermaid.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">            </span><span class="nx">mermaid</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span><span class="w"> </span><span class="nx">startOnLoad</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="w">        </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="adding-mermaid-as-a-dependency">
<h2><a class="toc-backref" href="#id6">4. Adding Mermaid as a dependency</a><a class="headerlink" href="#adding-mermaid-as-a-dependency" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>install node v16, which would have npm</p></li>
<li><p>download yarn using npm by entering the command below: <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">install</span> <span class="pre">-g</span> <span class="pre">yarn</span></code></p></li>
<li><p>After yarn installs, enter the following command: <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">add</span> <span class="pre">mermaid</span></code></p></li>
<li><p>To add Mermaid as a Dev Dependency <code class="docutils literal notranslate"><span class="pre">yarn</span> <span class="pre">add</span> <span class="pre">-dev</span> <span class="pre">mermaid</span></code></p></li>
</ol>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>この記述は私が NPM に疎いために意図するところが汲み取れない。</p>
</div>
<p><strong>Comments from Knut Sveidqvist, creator of mermaid:</strong></p>
<ul class="simple">
<li><p>In early versions of mermaid, the <code class="docutils literal notranslate"><span class="pre">&lt;script</span> <span class="pre">src&gt;</span></code> tag was invoked in the
<code class="docutils literal notranslate"><span class="pre">&lt;head&gt;</span></code> part of the web page. Nowadays we can place it in the <code class="docutils literal notranslate"><span class="pre">&lt;body&gt;</span></code>
as seen above. Older parts of the documentation frequently reflects the
previous way which still works.</p></li>
</ul>
<div class="admonition- admonition">
<p class="admonition-title">学習者ノート</p>
<p>開発者は Mermaid を準備するための <code class="docutils literal notranslate"><span class="pre">script</span></code> タグを HTML の
<code class="docutils literal notranslate"><span class="pre">head</span></code> 部分に置いて欲しくないと考えているように取れる。</p>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="index.html" title="Previous document">Mermaid 利用ノート</a>
        </li>
        <li>
          <a href="flowchart.html" title="Next document">Flowcharts - Basic Syntax</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">読書ノート</a></h1>



<p class="blurb">個人的な読書、学習、研究ノート。</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mathseminar72.html">数学 100 の発見 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gamma95/index.html">オブジェクト指向における再利用のためのデザインパターン改訂版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hunt00/index.html">達人プログラマー 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter00.html">Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alexandrescu01/index.html">Modern C++ Design 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meyers01.html">Effective STL 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter02.html">More Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../joel04/index.html">Joel on Software 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graham04.html">ハッカーと画家 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../angel05/index.html">OpenGL: A Primer Second Edition 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yamamoto05/index.html">入門 xyzzy 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newham05/index.html">入門 bash 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi05/index.html">幾何学 I 多様体入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subramaniam06.html">アジャイルプラクティス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asaoka06.html">SE・製造技術者・理工系学生のための技術文書の作り方・書き方 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levin06/index.html">Shaping Functions 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi08/index.html">幾何学 III 微分形式 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loeliger09.html">実用 Git 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../griffiths10.html">プログラミング C# 第 6 版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onodera10.html">ORACLE MASTER Bronze 11g SQL 基礎 I 必修教本 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosoda10/index.html">Python 入門［２＆３対応］読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nishiyama12/index.html">幾何学と不変量 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../omg15/index.html">Unified Modeling Language 2.5 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gorelick14.html">ハイパフォーマンス Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stroustrup14.html">C++ のエッセンス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepanov15.html">その数式、プログラムできますか？ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos15/index.html">WebGL Specification 1.0 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vivo15/index.html">The Book of Shaders 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saha16.html">Python からはじめる数学入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slatkin16.html">Effective Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guntheroth16.html">Optimized C++ 下読みノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speinellis17.html">Effective Debugging 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bancila18.html">Modern C++ チャレンジ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haverbeke18/index.html">Eloquent JavaScript 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos18/index.html">OpenGL Shading Language 4.60 Specification 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kantor22/index.html">The Modern JavaScript Tutorial 読書ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2014.html">ノート準備中書籍群 2014 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2015.html">ノート準備中書籍群 2015 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2016.html">ノート準備中書籍群 2016 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2017.html">ノート準備中書籍群 2017 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2018.html">ノート準備中書籍群 2018 年編</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bash-v2.html">What’s New In Bash 2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v3.html">What’s New In Bash 3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v4.html">What’s New In Bash 4 ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cpp11/index.html">What’s New In C++11 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp14/index.html">What’s New In C++14 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp17/index.html">What’s New In C++17 ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../python-3.0.html">What’s New In Python 3.0 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.1.html">What’s New In Python 3.1 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.2.html">What’s New In Python 3.2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.3.html">What’s New In Python 3.3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.4.html">What’s New In Python 3.4 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.5.html">What’s New In Python 3.5 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.6.html">What’s New In Python 3.6 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.7.html">What’s New In Python 3.7 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.8.html">What’s New In Python 3.8 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.9.html">What’s New In Python 3.9 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.10.html">What’s New In Python 3.10 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pip.html">pip 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pylint.html">Pylint 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-docutils/index.html">Docutils 解読ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-restview.html">Restview 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-nose.html">Nose 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-ipython.html">IPython 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jupyter.html">Jupyter 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-numpy/index.html">NumPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scipy/index.html">SciPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-sympy/index.html">SymPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-apgl.html">Another Python Graph Library (APGL) 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pil.html">PIL 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pillow.html">Pillow 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-matplotlib/index.html">Matplotlib 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-networkx/index.html">NetworkX 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-quaternion.html">Quaternion 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jinja2.html">Jinja2 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygments.html">Pygments 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-bs4.html">BeautifulSoup4 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-selenium.html">Selenium 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scrapy.html">Scrapy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-twitter/index.html">Python Twitter Tools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-isbn-hyphenate.html">isbn-hyphenate 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyopengl/index.html">PyOpenGL 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt4.html">PyQt4 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt5.html">PyQt5 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pandas/index.html">Pandas 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygame.html">Pygame 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pytube.html">Pytube 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-py2exe.html">Py2exe 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-upgrade.html">Python 移行ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-miniconda.html">Miniconda 利用ノート</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../freeware.html">Windows 用フリーウェア 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deepl-translator.html">DeepL Translator 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../winget.html">Windows Package Manager CLI 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power-toys.html">Microsoft PowerToys 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows-terminal.html">Windows Terminal 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wsl.html">Windows Subsystem for Linux 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cygwin.html">Cygwin 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chrome.html">Chrome DevTools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">Git 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../twitter.html">Twitter 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inkscape/index.html">Inkscape 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mathjax.html">MathJax 利用ノート</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Mermaid 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../css-selector.html">CSS セレクター学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xpath.html">XPath 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hxutils.html">HTML-XML-utils 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webgl.html">WebGL 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandoc.html">Pandoc 利用ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../milestone09/index.html">ラジルギノア プレイノート</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Mermaid 利用ノート</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Mermaid 利用ノート</a></li>
      <li>Next: <a href="flowchart.html" title="next chapter">Flowcharts - Basic Syntax</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2022, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>