<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>見本コードを研究する &#8212; 読書ノート 1.5dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/mermaid.js"></script>
    <link rel="next" title="環境設定" href="config.html" />
    <link rel="prev" title="応用テク" href="advanced.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="advanced.html" title="Previous document">応用テク</a>
        </li>
        <li>
          <a href="config.html" title="Next document">環境設定</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="id1">
<h1><a class="toc-backref" href="#id7" role="doc-backlink">見本コードを研究する</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p>Matplotlib を手足のように使いこなせるようになるには、相当時間を要すると前書きで述べた。ここでは、習うより慣れろの精神で <a class="reference external" href="https://matplotlib.org/">Matplotlib</a> ドキュメント内の
<a class="reference external" href="http://matplotlib.org/examples/">見本コード集</a>
からいろいろと吸収することを考えてみよう。</p>
<nav class="contents" id="id2">
<p class="topic-title">ノート目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id7">見本コードを研究する</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id8">コードを収集する</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id9">コードを実行する</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id10">稼働ノート</a></p>
<ul>
<li><p><a class="reference internal" href="#animation" id="id11"><code class="file docutils literal notranslate"><span class="pre">animation</span></code></a></p></li>
<li><p><a class="reference internal" href="#api" id="id12"><code class="file docutils literal notranslate"><span class="pre">api</span></code></a></p></li>
<li><p><a class="reference internal" href="#axes-grid1" id="id13"><code class="file docutils literal notranslate"><span class="pre">axes_grid1</span></code></a></p></li>
<li><p><a class="reference internal" href="#axisartist" id="id14"><code class="file docutils literal notranslate"><span class="pre">axisartist</span></code></a></p></li>
<li><p><a class="reference internal" href="#color" id="id15"><code class="file docutils literal notranslate"><span class="pre">color</span></code></a></p></li>
<li><p><a class="reference internal" href="#event-handling" id="id16"><code class="file docutils literal notranslate"><span class="pre">event_handling</span></code></a></p></li>
<li><p><a class="reference internal" href="#images-contours-and-fields" id="id17"><code class="file docutils literal notranslate"><span class="pre">images_contours_and_fields</span></code></a></p></li>
<li><p><a class="reference internal" href="#lines-bars-and-markers" id="id18"><code class="file docutils literal notranslate"><span class="pre">lines_bars_and_markers</span></code></a></p></li>
<li><p><a class="reference internal" href="#misc" id="id19"><code class="file docutils literal notranslate"><span class="pre">misc</span></code></a></p></li>
<li><p><a class="reference internal" href="#mplot3d" id="id20"><code class="file docutils literal notranslate"><span class="pre">mplot3d</span></code></a></p></li>
<li><p><a class="reference internal" href="#pie-and-polar-charts" id="id21"><code class="file docutils literal notranslate"><span class="pre">pie_and_polar_charts</span></code></a></p></li>
<li><p><a class="reference internal" href="#pylab-examples" id="id22"><code class="file docutils literal notranslate"><span class="pre">pylab_examples</span></code></a></p></li>
<li><p><a class="reference internal" href="#scales" id="id23"><code class="file docutils literal notranslate"><span class="pre">scales</span></code></a></p></li>
<li><p><a class="reference internal" href="#shapes-and-collections" id="id24"><code class="file docutils literal notranslate"><span class="pre">shapes_and_collections</span></code></a></p></li>
<li><p><a class="reference internal" href="#showcase" id="id25"><code class="file docutils literal notranslate"><span class="pre">showcase</span></code></a></p></li>
<li><p><a class="reference internal" href="#specialty-plots" id="id26"><code class="file docutils literal notranslate"><span class="pre">specialty_plots</span></code></a></p></li>
<li><p><a class="reference internal" href="#statistics" id="id27"><code class="file docutils literal notranslate"><span class="pre">statistics</span></code></a></p></li>
<li><p><a class="reference internal" href="#style-sheets" id="id28"><code class="file docutils literal notranslate"><span class="pre">style_sheets</span></code></a></p></li>
<li><p><a class="reference internal" href="#subplots-axes-and-figures" id="id29"><code class="file docutils literal notranslate"><span class="pre">subplots_axes_and_figures</span></code></a></p></li>
<li><p><a class="reference internal" href="#tests" id="id30"><code class="file docutils literal notranslate"><span class="pre">tests</span></code></a></p></li>
<li><p><a class="reference internal" href="#text-labels-and-annotations" id="id31"><code class="file docutils literal notranslate"><span class="pre">text_labels_and_annotations</span></code></a></p></li>
<li><p><a class="reference internal" href="#ticks-and-spines" id="id32"><code class="file docutils literal notranslate"><span class="pre">ticks_and_spines</span></code></a></p></li>
<li><p><a class="reference internal" href="#units" id="id33"><code class="file docutils literal notranslate"><span class="pre">units</span></code></a></p></li>
<li><p><a class="reference internal" href="#user-interfaces" id="id34"><code class="file docutils literal notranslate"><span class="pre">user_interfaces</span></code></a></p></li>
<li><p><a class="reference internal" href="#widgets" id="id35"><code class="file docutils literal notranslate"><span class="pre">widgets</span></code></a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="id3">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">コードを収集する</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>公式サイトに付属している見本集の本数は 400 を軽く超える。これらをブラウザーで閲覧しながら、一個一個の見本コードのページを見ていくのは効率が悪い。研究に本腰を入れるのならば、これら全てをあらかじめローカルにダウンロードしておくべきだろう。その方法としては次のどちらかを挙げたい。</p>
<ul class="simple">
<li><p>素直に Matplotlib のリポジトリーを <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code> してから、<code class="file docutils literal notranslate"><span class="pre">examples</span></code>
ディレクトリーにあるコードにアクセスする。</p></li>
<li><p>とにかく見本コードだけが手許にあれば十分なので、<code class="file docutils literal notranslate"><span class="pre">examples</span></code> ディレクトリーしかダウンロードせずに済ませる。</p></li>
</ul>
<p>PC のディスク残量とインターネットの接続環境に不満がないか、あるいは既に GitHub
にあるリポジトリーのクローンを <strong class="command">pip install -e</strong> していて、そのソースコードをそのまま利用中であるならば、前者の方法で問題はない。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ git clone https://github.com/matplotlib/matplotlib.git</span>
<span class="go">bash$ cd matplotlib/examples</span>
</pre></div>
</div>
<p>そうではなく、資源が乏しかったり、もうパッケージがあるのにクローンなど作成したくないのであれば、必要な分だけをダウンロードするだけで済ませる。</p>
<p>Git リポジトリーの特定のディレクトリーのスナップショットを得るのに古の VCS ツールである <strong class="program">svn</strong> が利用できる。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ svn export https://github.com/matplotlib/matplotlib.git/trunk/examples</span>
<span class="go">bash$ mv examples mpl-examples</span>
<span class="go">bash$ cd mpl-examples</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">コードを実行する</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<p>コマンドプロンプトから実行するか、または IPython のコマンド <code class="docutils literal notranslate"><span class="pre">%run</span></code> を使うことで見本スクリプトの挙動を確認することができる。後者の方法のほうがわずかに効率が良い？</p>
<p>後述する、開発陣が利用しているであろう <code class="file docutils literal notranslate"><span class="pre">tests/backend_driver.py</span></code> も有用である。</p>
</section>
<section id="id5">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">稼働ノート</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>本節では評者が <code class="file docutils literal notranslate"><span class="pre">examples</span></code> にある見本コードを実際に実行した感想を記す。見本の目的はサブディレクトリーを用いて分類されているので、本節をそれらに対応した単位に分割して、コードの寸評を述べる。</p>
<section id="animation">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">animation</span></code></a><a class="headerlink" href="#animation" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">matplotlib.animation.FuncAnimation</span></code> を利用するコードで構成された見本集。 MPEG ファイルを保存するコードが動かないのが残念だ。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">animate_decay.py</span></code></dt><dd><p>動的に減衰波形がプロットされる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">basic_example.py</span></code></dt><dd><p>まず色彩豊かな何かのアニメーションがあり、次に折れ線のアニメーションとなる。
<code class="docutils literal notranslate"><span class="pre">FuncAnimation</span></code> と <code class="docutils literal notranslate"><span class="pre">ArtistAnimation</span></code> を別々に使用。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">basic_example_writer.py</span></code></dt><dd><p>先ほどのアニメーションをファイルに出力する見本コードのようだが、
<code class="docutils literal notranslate"><span class="pre">animation.writers['ffmpeg']</span></code> の処理で実行時例外が発生する。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bayes_update.py</span></code></dt><dd><p>ベータ分布の確率密度関数曲線のプロットのアニメーション例。</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.scipy.org/">SciPy</a> が必要。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.axvline</span></code> の使い方も習える。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">double_pendulum_animated.py</span></code></dt><dd><p>振り子の付いた振り子のアニメーション。肘みたいな動きをする。</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.scipy.org/">SciPy</a> が必要。常微分方程式を一度解く。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">dynamic_image.py</span></code></dt><dd><p>幻想的な色のアニメーション。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow</span></code> を併用する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">dynamic_image2.py</span></code></dt><dd><p>幻想的な色のアニメーション。上の物と酷似。</p>
<ul class="simple">
<li><p>たまにホワイトアウトするのは <code class="docutils literal notranslate"><span class="pre">repeat_delay</span></code> によるものか。</p></li>
<li><p>FuncAnimation の代わりに ArtistAnimation を利用する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram.py</span></code></dt><dd><p>ヒストグラムのアニメーション。各ビンの数値が変動する。</p>
<ul class="simple">
<li><p>ヒストグラム本体よりもパスを構成するほうに労力を割いている。配列のスライスの活用が素晴らしい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">moviewriter.py</span></code></dt><dd><p>例によって <code class="docutils literal notranslate"><span class="pre">animation.writers['ffmpeg']</span></code> の処理で実行時例外が発生する。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rain.py</span></code></dt><dd><p>雨の降っている地面を眺めているかのようなアニメーション。</p>
<ul class="simple">
<li><p>乱数は <a class="reference external" href="https://www.numpy.org/">NumPy</a> の <code class="docutils literal notranslate"><span class="pre">np.random.uniform</span></code> を利用している。</p></li>
<li><p>散布図 (<code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code>) を応用している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">random_data.py</span></code></dt><dd><p>区分的一次関数のアニメーション。区間以外が動的に変動する。</p>
<ul class="simple">
<li><p>この中でもっとも単純なコードからなる。</p></li>
<li><p>乱数は <a class="reference external" href="https://www.numpy.org/">NumPy</a> の <code class="docutils literal notranslate"><span class="pre">np.random.rand</span></code> を利用している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_3danim.py</span></code></dt><dd><p>空間の一部に含まれるいくつかの点のブラウン運動のようなアニメーション。</p>
<ul class="simple">
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.mplot3d.axes3d</span></code> を利用する。</p></li>
<li><p>モデル部分は 3D データとなり専用のメソッド等を用いる必要があるが、アニメーション部分は 2D だろうが 3D だろうがやることは変わらない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_anim.py</span></code></dt><dd><p>三角関数のプロットのアニメーション。位相が動的に変動する。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">np.ma.array</span></code> を用いれば、欠損要素を含んでもよい配列オブジェクトを生成できる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">strip_chart_demo.py</span></code></dt><dd><p>心電図のようなプロットのアニメーション。</p>
<ul class="simple">
<li><p>与えられた確率をしきい値として、乱数値またはゼロを評価する関数を構成するところにこのアニメーションの独創性がある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">subplots.py</span></code></dt><dd><p>複数サブプロットがいっせいにアニメーション。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">matplotlib.animation.TimedAnimation</span></code> のサブクラスを実装してもよいことを示してもいる。</p></li>
<li><p>やはり <code class="docutils literal notranslate"><span class="pre">Figure.add_subplot</span></code> は使いこなすのが難しい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">unchained.py</span></code></dt><dd><p>モダンアート。</p>
</dd>
</dl>
</section>
<section id="api">
<h3><a class="toc-backref" href="#id12" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">api</span></code></a><a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h3>
<p>ここにあるコードは原則的に <code class="docutils literal notranslate"><span class="pre">plt</span></code> の関数呼び出しを厳しく限定していて、
<code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトを生成する関数、関数 <code class="docutils literal notranslate"><span class="pre">plt.show</span></code> それに関数
<code class="docutils literal notranslate"><span class="pre">plt.close</span></code> しか利用を認めていない。オブジェクト指向プログラミング風のコードを推奨するということだろう。</p>
<dl>
<dt><code class="file docutils literal notranslate"><span class="pre">agg_oo.py</span></code></dt><dd><p>簡単なプロットを描画して画像ファイルとして保存する。クラス
<code class="docutils literal notranslate"><span class="pre">matplotlib.backends.backend_agg.FigureCanvasAgg</span></code> のデモ。基本。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Figure</span></code>, <code class="docutils literal notranslate"><span class="pre">FigureCanvasAgg</span></code>/<code class="docutils literal notranslate"><span class="pre">Axes</span></code> の順にオブジェクトを生成する。最初の二つはコンストラクターから直接生成し、最後のものはメソッド
<code class="docutils literal notranslate"><span class="pre">fig.add_subplot</span></code> を用いる。</p></li>
<li><p>メソッド <cite>canvas.print_figure</cite> の呼び出しで画像ファイルを保存する。拡張子がないが SVG ファイルができる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">barchart_demo.py</span></code></dt><dd><p>棒グラフのデモ。基本。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bbox_intersect.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Bbox</span></code> のデモ。12 本のランダムな線分と矩形が共通点を持つかテストする。</p>
<ul class="simple">
<li><p>本当なら関数 <code class="docutils literal notranslate"><span class="pre">plt.gca</span></code> の戻り値を一時変数に取り、その <code class="docutils literal notranslate"><span class="pre">Axes</span></code> オブジェクトのメソッドでプロットをすることがこのデモディレクトリーの方針に適う。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bbox</span></code> のオブジェクトをクラスメソッド <code class="docutils literal notranslate"><span class="pre">Bbox.from_bounds</span></code> で生成する。</p></li>
<li><p>交点の存在テストには <code class="docutils literal notranslate"><span class="pre">Path.intersects_bbox</span></code> を利用したいので、線分を
<code class="docutils literal notranslate"><span class="pre">Path</span></code> オブジェクトとして一時的に生成する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">collections_demo.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">LineCollection</span></code>, <code class="docutils literal notranslate"><span class="pre">PolyCollection</span></code>, <code class="docutils literal notranslate"><span class="pre">RegularPolyCollection</span></code> と自動スケール調整のデモコード。</p>
<ul class="simple">
<li><p>そのまま実行すると例外 <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'matplotlib.colors'</span> <span class="pre">has</span> <span class="pre">no</span>
<span class="pre">attribute</span> <span class="pre">'to_rgba'</span></code> が発生するので、これらの箇所にあるコードを書き換える必要がある（クラス <code class="docutils literal notranslate"><span class="pre">ColorConverter</span></code> を利用する）。</p></li>
<li><p>珍しく <code class="docutils literal notranslate"><span class="pre">np.random.RandomState</span></code> を利用している。このクラスは Mersenne
Twister 乱数生成器を表す。</p></li>
<li><p>コレクションクラスのキーワード引数の <code class="docutils literal notranslate"><span class="pre">transOffset</span></code> には、オブジェクトが所属する <code class="docutils literal notranslate"><span class="pre">Axes</span></code> の <code class="docutils literal notranslate"><span class="pre">.transData</span></code> を指定する。その後にオブジェクトの
<code class="docutils literal notranslate"><span class="pre">.set_transform</span></code> に独自の Transform オブジェクトを指定する。</p></li>
<li><p>オブジェクトを <code class="docutils literal notranslate"><span class="pre">Axes</span></code> に <code class="docutils literal notranslate"><span class="pre">.add_collection</span></code> した後にメソッド
<code class="docutils literal notranslate"><span class="pre">.autoscale_view</span></code> を呼び出す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">colorbar_only.py</span></code></dt><dd><p>カラーバーしか図に載せないデモ。応用。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">compound_path.py</span></code></dt><dd><p>区分的曲線（ここでは線分だが）のデモ。基本。</p>
<ul class="simple">
<li><p>曲線の構成は <code class="docutils literal notranslate"><span class="pre">Path</span></code> オブジェクトと <code class="docutils literal notranslate"><span class="pre">PathPatch</span></code> オブジェクトの二段階構造だ。まずデータである <code class="docutils literal notranslate"><span class="pre">Path</span></code> を作成してから図表要素である <code class="docutils literal notranslate"><span class="pre">PathPatch</span></code> を作成する。</p></li>
<li><p>パッチは <code class="docutils literal notranslate"><span class="pre">Axes.add_patch</span></code> で追加する。</p></li>
<li><p>最後に <code class="docutils literal notranslate"><span class="pre">Axes.autoscale_view</span></code> で描画範囲を適切に設定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">custom_projection_example.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Axes</span></code> をサブクラス化して、独自の投影クラスを作成するデモ。応用。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">custom_scale_example.py</span></code></dt><dd><p>Mercator 図法なプロットを自作するデモ。応用。</p>
<p>おおまかに言うと <code class="docutils literal notranslate"><span class="pre">mpl.scale.ScaleBase</span></code> のサブクラスを適切に実装し、それを関数 <code class="docutils literal notranslate"><span class="pre">mpl.scale.register_scale</span></code> 呼び出しでクラス自身を与える。その後に
<code class="docutils literal notranslate"><span class="pre">Axes</span></code> を作成して、メソッド <code class="docutils literal notranslate"><span class="pre">.set_yscale</span></code> に自作クラスのクラスプロパティー
<code class="docutils literal notranslate"><span class="pre">.name</span></code> を指定する。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">date_demo.py</span></code></dt><dd><p>プロット x 軸の目盛ラベルに西暦四桁を描画するデモ。また、ステータスバーに表示するマウスポインター位置の座標の表示のカスタマイズもする。モジュール
<code class="docutils literal notranslate"><span class="pre">mpl.dates</span></code> にある各クラスを利用する。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_major_locator</span></code> で 長目盛の位置決めオブジェクトを指定する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_minor_locator</span></code> で 短目盛の位置決めオブジェクトを指定する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_major_formatter</span></code> で長目盛のラベル書式オブジェクトを指定する。</p></li>
<li><p>面白いことに <code class="docutils literal notranslate"><span class="pre">Axis.set_xlim</span></code> の値が <code class="docutils literal notranslate"><span class="pre">date</span></code> 型オブジェクトだ。</p></li>
<li><p>プロパティー <code class="docutils literal notranslate"><span class="pre">Axis.format_xdata</span></code> にステータスバーの x 座標表示用書式オブジェクトを指定する。プロパティー <code class="docutils literal notranslate"><span class="pre">Axis.format_ydata</span></code> も同様。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.autofmt_xdate</span></code> という、日付ラベル回転調整機能がある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">date_index_formatter.py</span></code></dt><dd><p>より細かい日付ラベルのデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_major_formatter</span></code> の実引数が複雑になっている。自作の関数をさらに <code class="docutils literal notranslate"><span class="pre">FuncFormatter</span></code> でラップする。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_affine_image.py</span></code></dt><dd><p>画像に対する affine 変換のデモ。</p>
<ul class="simple">
<li><p>自作関数 <code class="docutils literal notranslate"><span class="pre">get_image</span></code> でダミー画像を生成する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">AxesImage.set_transform</span></code> に <code class="docutils literal notranslate"><span class="pre">Affine2D</span></code> オブジェクトを指定する。</p></li>
<li><p>このデモコードにはプロット表示処理がないので、お望みなら自分で書け。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">donut_demo.py</span></code></dt><dd><p>同心円の着色に関するデモ。だからドーナツ。</p>
<ul class="simple">
<li><p>これは <code class="docutils literal notranslate"><span class="pre">Path</span></code> と <code class="docutils literal notranslate"><span class="pre">PathPatch</span></code> のコンビで同心円を辺数の多い多角形で近似することで定義して、「穴」を塗ったり、または塗らないままにする方法を示している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">engineering_formatter.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">EngFormatter</span></code> のデモ。対数グラフの座標軸ラベルのカスタマイズを示す。</p>
<ul class="simple">
<li><p>このデモでは <code class="docutils literal notranslate"><span class="pre">EngFormatter(unit='Hz',</span> <span class="pre">places=1)</span></code> というオブジェクトを生成する。これにより、目盛ラベルは適当な所で <code class="docutils literal notranslate"><span class="pre">Hz</span></code>, <code class="docutils literal notranslate"><span class="pre">kHz</span></code>, <code class="docutils literal notranslate"><span class="pre">MHz</span></code>, … という単位表示になる。数値は小数点以下一位まで見せる。</p></li>
<li><p>ダミーデータの構成での NumPy の対数関係の関数の使い方が上手なので参考になる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">filled_step.py</span></code></dt><dd><p>残念だが <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">bottom_margin</span></code> という例外が生じる。可能なら勝手に直したいところだ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">font_family_rc.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">rcParams</span></code> の中身を直接変更することでフォントを指定するデモ。</p>
<ul class="simple">
<li><p>コードの一番最初で <code class="docutils literal notranslate"><span class="pre">rcParams</span></code> を <code class="docutils literal notranslate"><span class="pre">import</span></code> する必要がある。それ以外の
Matplotlib モジュールの <code class="docutils literal notranslate"><span class="pre">import</span></code> 文を書くのは、その変更処理が全部終わってからとなる？</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">font_file.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> のデモ。</p>
<ul class="simple">
<li><p>フォントパスを指定して <code class="docutils literal notranslate"><span class="pre">FontProperties</span></code> オブジェクトを生成する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.set_title</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">fontproperties</span></code> にこのオブジェクトを渡すことで、テキストをこのフォントで描画するようになる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_path_demo.py</span></code></dt><dd><p>ヒストグラムを <code class="docutils literal notranslate"><span class="pre">PathPatch</span></code> オブジェクトを使って描画するデモ。</p>
<ul class="simple">
<li><p>ダミーのヒストグラムデータは <code class="docutils literal notranslate"><span class="pre">np.histogram</span></code> で適当に用意する。それからやや面倒な配列処理で、各棒の輪郭を定義する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Path</span></code> オブジェクトを生成する。今回はクラスメソッドの
<code class="docutils literal notranslate"><span class="pre">.make_compound_path_from_polys</span></code> を利用する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">image_zcoord.py</span></code></dt><dd><p>画像プロットだが、ステータスバーに強引に z 座標を表示するデモ。</p>
<ul class="simple">
<li><p>プロパティー <code class="docutils literal notranslate"><span class="pre">Axes.format_coord</span></code> に自作の関数を割り当てる。自作の関数ではステータスバーに表示する文字列そのものを戻すようにする。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">joinstyle.py</span></code></dt><dd><p>折れ線の折れた部分のスタイル三種のデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">solid_joinstyle</span></code> に対して文字列
<code class="docutils literal notranslate"><span class="pre">'miter'</span></code>, <code class="docutils literal notranslate"><span class="pre">'round'</span></code>, <code class="docutils literal notranslate"><span class="pre">'bevel'</span></code> のいずれかを指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">legend_demo.py</span></code></dt><dd><p>凡例のデモ。基本。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.legend</span></code> で凡例を図に表示する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">line_with_text.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Line2D</span></code> のサブクラスデモ。どのメソッドをオーバーライドすればよいかわかる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">logo2.py</span></code></dt><dd><p>Matplotlib のロゴバナーを生成、表示するデモ。</p>
<ul class="simple">
<li><p>デモというよりアートと呼びたい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">mathtext_asarray.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">MathTextParser</span></code> のデモ。</p>
<ul class="simple">
<li><p>冒頭の関数 <code class="docutils literal notranslate"><span class="pre">rc</span></code> 呼び出しが気になる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MathTextParser</span></code> オブジェクトをコンストラクターで生成する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">.to_png</span></code> で指定した LaTeX の文字列を処理した結果を PNG ファイルに保存する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">.to_rgba</span></code> で指定した LaTeX の文字列を処理した結果をオブジェクトにする。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.figimage</span></code> でそれを描画する。呼び出し側が RGB 値を正規化する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">patch_collection.py</span></code></dt><dd><p>主に <code class="docutils literal notranslate"><span class="pre">Wedge</span></code> パッチのデモコード。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">power_norm_demo.py</span></code></dt><dd><p>2D ヒストグラムで <code class="docutils literal notranslate"><span class="pre">PowerNorm</span></code> オブジェクトを渡すデモ。基本。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.hist2d</span></code> を利用する。見てくれは画像プロットのようだ。このキーワード引数 <code class="docutils literal notranslate"><span class="pre">norm</span></code> にオブジェクト <code class="docutils literal notranslate"><span class="pre">PowerNorm(gamma)</span></code> を指定する。<code class="docutils literal notranslate"><span class="pre">gamma</span></code> は適当なスカラー。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">quad_bezier.py</span></code></dt><dd><p>二次 Bézier 曲線のデモコード。基本。</p>
<ul class="simple">
<li><p>Path オブジェクトを生成するときに <code class="docutils literal notranslate"><span class="pre">Path.CURVE3</span></code> を適宜指示する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">radar_chart.py</span></code></dt><dd><p>レーダーチャートデモ。応用。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PolarAxes</span></code> のサブクラスとして <code class="docutils literal notranslate"><span class="pre">RadarAxes</span></code> を定義する。必要なメンバーをオーバーライドする。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl.projections.register_projection</span></code> にこの <code class="docutils literal notranslate"><span class="pre">.name</span></code> を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">sankey_demo_basics.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Sankey</span></code> のデモコード。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">.add</span></code> で矢印形状を追加できる。形状が確定したら <code class="docutils literal notranslate"><span class="pre">.finish</span></code> を呼ぶ。この戻り値を介して図式のスタイルを調整する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">sankey_demo_links.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Sankey</span></code> のデモコード。メソッド <code class="docutils literal notranslate"><span class="pre">.add</span></code> を駆使して、たいへん長い
Sankey 図を生成する。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">sankey_demo_old.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Sankey</span></code> を利用せず、自力で Sankey 図を描画するデモ。研究。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">sankey_demo_rankine.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Sankey</span></code> を利用して Rankine サイクルの図を描くという、かなり実践的なデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">.add</span></code> の引数が複雑なので、何とかしたい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">scatter_piecharts.py</span></code></dt><dd><p>散布図のマーカーが円グラフというふざけたデモコード。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">skewt.py</span></code></dt><dd><p>斜交座標系のデモコード。研究。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">XTick</span></code>, <code class="docutils literal notranslate"><span class="pre">XAxis</span></code>, <code class="docutils literal notranslate"><span class="pre">Spine</span></code>, <code class="docutils literal notranslate"><span class="pre">Axes</span></code> からそれぞれのサブクラスを定義する。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl.projections.register_projection</span></code> に <code class="docutils literal notranslate"><span class="pre">Axes</span></code> のサブクラスの
<code class="docutils literal notranslate"><span class="pre">.name</span></code> を指定する。</p></li>
<li><p>プロットデータの生成に <code class="docutils literal notranslate"><span class="pre">np.loadtxt</span></code> を使っているのが面白い。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.semilogy</span></code> で y 軸が対数寸法になる。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.axvline</span></code> は x 一定の線を引くものだが、このデモでは斜めになる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ScalarFormatter</span></code> と <code class="docutils literal notranslate"><span class="pre">MultipleLocator</span></code> の使用例も見られる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">span_regions.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">BrokenBarHCollection</span></code> のデモコード。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.axhline</span></code> は y 一定の線を引く。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">two_scales.py</span></code></dt><dd><p>プロットの両側に y 軸目盛を付けるデモコード。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">unicode_minus.py</span></code></dt><dd><p>マイナス記号差し替えデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rcParams['axes.unicode_minus']</span> <span class="pre">=</span> <span class="pre">False</span></code> とすると、マイナス記号に Unicode
のそれを使わなくなる。代わりにハイフンになる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">watermark_image.py</span></code></dt><dd><p>図の背景に透かしを入れるデモ。</p>
<ul class="simple">
<li><p>アルファチャンネルありの画像をメソッド <code class="docutils literal notranslate"><span class="pre">Figure.figimage</span></code> に渡す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">watermark_text.py</span></code></dt><dd><p>図の背景に透かしを入れるデモ。</p>
<ul class="simple">
<li><p>単にメソッド <code class="docutils literal notranslate"><span class="pre">Figure.text</span></code> の呼び出しでキーワード引数を <code class="docutils literal notranslate"><span class="pre">alpha=0.5</span></code> のようにすればよい。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="axes-grid1">
<h3><a class="toc-backref" href="#id13" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">axes_grid1</span></code></a><a class="headerlink" href="#axes-grid1" title="Permalink to this heading">¶</a></h3>
<p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1</span></code> に関連する見本の集まり。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axes_divider.py</span></code></dt><dd><p>複数サブプロット、カラーバーの配置方法のデモ。</p>
<ul class="simple">
<li><p>デモコード定義の関数 <code class="docutils literal notranslate"><span class="pre">get_demo_image</span></code> はプロット対象となるデータを NumPy
の配列オブジェクトとして返す。この関数は他のデモコードでも登場する。</p></li>
<li><p>最初のサブプロットでは単にデモデータを描画する。メソッド <code class="docutils literal notranslate"><span class="pre">Axes.imshow</span></code> でイメージを描画し、さらに関数 <code class="docutils literal notranslate"><span class="pre">plt.colorbar</span></code> でカラーバーを付属させる。</p></li>
<li><p>次のサブプロットでは、先の処理をより複雑にすることでカラーバーの高さをイメージプロットのそれに合わせる。クラス <code class="docutils literal notranslate"><span class="pre">SubplotDivider</span></code>, <code class="docutils literal notranslate"><span class="pre">LocatableAxes</span></code>,
<code class="docutils literal notranslate"><span class="pre">Size</span></code> とメソッド <code class="docutils literal notranslate"><span class="pre">Figure.add_axes</span></code> を使いこなす力量を要求される。</p></li>
<li><p>次のサブプロットもやることは同じだが、手続きが簡略化した。関数
<cite>make_axes_locatable</cite> をサブプロットに適用してレイアウトマネージャーのようなものを利用する。</p></li>
<li><p>最後のサブプロットは同じイメージプロットを横一列に並べる。つまり、先の例でカラーバーの代わりに元のイメージプロットと同じものを置く。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axes_grid.py</span></code></dt><dd><p>さらに複雑な複数サブプロットの配置方法のデモ。</p>
<ul class="simple">
<li><p>最初のサブプロット群は田の字に配置するもの。クラス <code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> に
<code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトを渡す。</p></li>
<li><p>次のサブプロット群も田の字だが、カラーバーをひとつ付属させる。横長カラーバーが田の字の上部に出る。<code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> コンストラクターの後半のキーワード引数がそれを指示する。</p></li>
<li><p>次のサブプロット群も田の字だが、カラーバーがそれぞれに付属する。
<code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> の <code class="docutils literal notranslate"><span class="pre">cbar_mode=&quot;each&quot;</span></code> がポイントだ。</p></li>
<li><p>最後のサブプロット群も田の字。カラーバーも個別。ただしカラーバーの範囲をサブプロットごとに変える。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axes_grid2.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のデモコード。</p>
<ul class="simple">
<li><p>最初のグループはサブプロットそれぞれにカラーバーを付属させる。<code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code>
の引数については以前のデモで理解できるだろう。</p></li>
<li><p>デモコード定義の関数 <code class="docutils literal notranslate"><span class="pre">add_inner_title</span></code> はサブプロット内にテキストを配置する。主にクラス <code class="docutils literal notranslate"><span class="pre">AnchoredText</span></code> を利用するが、それ以外の機能はあまり馴染みがない。</p></li>
<li><p>次のグループはサブプロットにひとつのカラーバーを共有させる。<code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> の
<code class="docutils literal notranslate"><span class="pre">cbar_mode=&quot;single&quot;</span></code> がポイントだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axes_hbox_divider.py</span></code></dt><dd><p>サブプロットを並べて、それにまたがるようにテキストを入れるデモ？</p>
<ul class="simple">
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.axes_size</span></code> にあるクラス <code class="docutils literal notranslate"><span class="pre">AxesX</span></code>,
<code class="docutils literal notranslate"><span class="pre">AxesY</span></code>, <code class="docutils literal notranslate"><span class="pre">Scaled</span></code>, <code class="docutils literal notranslate"><span class="pre">Fixed</span></code> を利用してレイアウトマネージャー的な役割があるクラス <code class="docutils literal notranslate"><span class="pre">HBoxDivider</span></code> のオブジェクトを生成する。このマネージャーを最初に作った <code class="docutils literal notranslate"><span class="pre">Axes</span></code> のいずれにも <code class="docutils literal notranslate"><span class="pre">set_axes_locator</span></code> する。</p></li>
<li><p>テキスト部は実は <code class="docutils literal notranslate"><span class="pre">Axes</span></code> オブジェクト。メソッド <code class="docutils literal notranslate"><span class="pre">Axes.annotate</span></code> でテキスト内容とレイアウト内容を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axes_rgb.py</span></code></dt><dd><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.axes_rgb</span></code> を利用したサブプロットの RGB
分解のデモ。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">make_rgb_axes</span></code> でサブプロットから RGB 別のサブプロットを生成する。</p></li>
<li><p>デモコード内で定義された、画像から RGB 値を分解するコードの処理内容が理解できない。謎のスライス。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">RGBAxes</span></code> で <code class="docutils literal notranslate"><span class="pre">Figure</span></code> からサブプロットを内部に 4 つ持つサブプロットを生成するサブプロットそれぞれには <code class="docutils literal notranslate"><span class="pre">.RGB</span></code>, <code class="docutils literal notranslate"><span class="pre">.R</span></code>, <code class="docutils literal notranslate"><span class="pre">.G</span></code>, <code class="docutils literal notranslate"><span class="pre">.B</span></code> でアクセスする。</p></li>
<li><p>この場合にはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.imshow_rgb</span></code> で描画内容生成。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_colorbar_with_inset_locator.py</span></code></dt><dd><p>カラーバーを関数 <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.inset_locator.inset_axes</span></code> で実現するデモ。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">inset_axes</span></code> で既存のサブプロットの内側に指定サイズの新規サブプロットを作成する。それから <code class="docutils literal notranslate"><span class="pre">plt.colorbar</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">cax</span></code> としてそれを指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_edge_colorbar.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">AxesGrid</span></code> のデモ。</p>
<ul class="simple">
<li><p>最初のグループではカラーバーを二個ずつ共有するデモ。下に付く。クラス
<code class="docutils literal notranslate"><span class="pre">AxesGrid</span></code> を <code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のように使うが、キーワード引数
<code class="docutils literal notranslate"><span class="pre">cbar_mode=&quot;edge&quot;</span></code> がポイント。</p></li>
<li><p>次のグループではカラーバーを二個ずつ共有するデモ。右に付く。</p></li>
<li><p>ところで <code class="docutils literal notranslate"><span class="pre">plt.get_cmap(&quot;autumn&quot;)</span></code> 等が気になる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_imagegrid_aspect.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のデモ。</p>
<ul class="simple">
<li><p>コンストラクターの引数 <code class="docutils literal notranslate"><span class="pre">aspect=True</span></code> でアスペクト比を指定可能なオブジェクトを作成することを指示する？</p></li>
<li><p>アスペクト比自体は <code class="docutils literal notranslate"><span class="pre">set_aspect</span></code> を用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">inset_locator_demo.py</span></code></dt><dd><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.inset_locator</span></code> のデモ。サブプロット内に別のサブプロットを入れる？</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">zoomed_inset_axes</span></code> で既存のサブプロットから指定倍率を持つ新規サブプロットを作成する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">inset_locator_demo2.py</span></code></dt><dd><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.inset_locator</span></code> のデモ。サブプロット内の一部を拡大して表示する。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mark_inset</span></code> でこれらのサブプロットの位置関係を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">make_room_for_ylabel_using_axesgrid.py</span></code></dt><dd><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.axes_divider.make_axes_area_auto_adjustable</span></code>
その他のデモ。サブプロットのマージン？の大きさを自動調整可能にする？</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">parasite_simple2.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">SubplotHost</span></code> のデモ？</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SubplotHost</span></code> のコンストラクターに <code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトと寸法を指定する。</p></li>
<li><p>あとは何をやりたいのかわからない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">scatter_hist.py</span></code></dt><dd><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.make_axes_locatable</span></code> のデモ。ヒストグラム二個と散布図一個をウィンドウに表示する。</p>
<ul class="simple">
<li><p>まずは単に散布図を定義し、それを引数にして <code class="docutils literal notranslate"><span class="pre">make_axes_locatable</span></code> を呼ぶ。この戻り値オブジェクトのメソッド <code class="docutils literal notranslate"><span class="pre">append_axes</span></code> を呼び出して、散布図の上や右に新しくサブプロットを作成する。</p></li>
<li><p>棒が横に伸びるヒストグラムを作るには <code class="docutils literal notranslate"><span class="pre">hist</span></code> の引数に
<code class="docutils literal notranslate"><span class="pre">orientation='horizontal'</span></code> を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_anchored_artists.py</span></code></dt><dd><p>各種図形、特にモジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.anchored_artists</span></code> にある図形要素をサブプロットに配置するデモ。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">AnchoredText</span></code> は小さいテキストラベル。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">AnchoredDrawingArea</span></code> はサブプロット内の小さな矩形。コンテナーとして振る舞う。この例では <code class="docutils literal notranslate"><span class="pre">Circle</span></code> を別途作成し、自身の管理する
<code class="docutils literal notranslate"><span class="pre">add_artist</span></code> により含める。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">AnchoredEllipse</span></code> はサブプロットに所属する小さな楕円。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">AnchoredSizeBar</span></code> はサブプロットに所属する「縮尺を表す線」。</p></li>
<li><p>上記のクラスはすべて <code class="docutils literal notranslate"><span class="pre">AnchoredOffsetBox</span></code> の間接サブクラスである。オブジェクトはどれも <code class="docutils literal notranslate"><span class="pre">Axes.add_artist</span></code> に渡すことになる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_axesgrid.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のコンストラクターに <code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトと格子の寸法を指定する。</p></li>
<li><p>ここでは適当に定義した線形データを <code class="docutils literal notranslate"><span class="pre">imshow</span></code> に渡している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_axesgrid2.py</span></code></dt><dd><p>同じくクラス <code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> のデモ。画像を三分割してそれぞれを三つの格子それぞれに描画する。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ImageGrid</span></code> の引数で格子間の長さを指定する等する。</p></li>
<li><p>画像の分割は単に NumPy の配列をスライスするだけで得られる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">simple_axisline4.py</span></code></dt><dd><p>座標軸の目盛ラベルデモ。サブプロットにサインカーブを描き、上辺は円周率単位で、下辺は 1 単位で目盛を付ける。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.twin</span></code> でサブプロット上辺の座標軸を表すオブジェクトが得られるので、これに対して <code class="docutils literal notranslate"><span class="pre">set_xticks</span></code>, <code class="docutils literal notranslate"><span class="pre">set_xticklabels</span></code> を操作する。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="axisartist">
<h3><a class="toc-backref" href="#id14" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">axisartist</span></code></a><a class="headerlink" href="#axisartist" title="Permalink to this heading">¶</a></h3>
<p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axisartist</span></code> する見本の集まり。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">demo_axisline_style.py</span></code></dt><dd><p>プロットの座標軸と枠線の処理方法についての見本。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">SubplotZero</span></code> は図の内部にある <code class="docutils literal notranslate"><span class="pre">Axes</span></code> オブジェクトを生成・操作するメソッドを与える。この見本ではオブジェクト <code class="docutils literal notranslate"><span class="pre">fig</span></code> から生成する。</p></li>
<li><p>両座標軸ともに正の方向に矢印の矢先を描くために
<code class="docutils literal notranslate"><span class="pre">ax.axis[direction].set_axisline_style(&quot;-|&gt;&quot;)</span></code> する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_curvelinear_grid.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">Subplot</span></code>, <code class="docutils literal notranslate"><span class="pre">SubplotHost</span></code>, <code class="docutils literal notranslate"><span class="pre">GridHelperCurveLinear</span></code>,
<code class="docutils literal notranslate"><span class="pre">ParasiteAxesAuxTrans</span></code> の見本。直交座標のプロットと極座標のプロットを描いて、それぞれにおいてグリッドや目盛をカスタマイズする。</p>
<ul class="simple">
<li><p>かなり手が込んでいる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_curvelinear_grid2.py</span></code></dt><dd><p>x 軸の目盛間隔が一様でないデモ？</p>
<ul class="simple">
<li><p>先ほどの見本もそうだが、クラス <code class="docutils literal notranslate"><span class="pre">GridHelperCurveLinear</span></code> の操作法が面倒そうだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_floating_axes.py</span></code></dt><dd><p>サブモジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axisartist.floating_axes</span></code> デモ。三個のサブプロットを生成する。</p>
<ul class="simple">
<li><p>サブプロット全体に affine 変換を施すことができる。それにはクラス
<code class="docutils literal notranslate"><span class="pre">Affine2D</span></code> のオブジェクトを生成して適切な変換を定義しておく必要がある。それから別のオブジェクトに引き渡す。</p></li>
<li><p>直交座標系の棒グラフでは <code class="docutils literal notranslate"><span class="pre">floating_axes.GridHelperCurveLinear</span></code> と
<code class="docutils literal notranslate"><span class="pre">floating_axes.FloatingSubplot</span></code> を上手く使う。</p></li>
<li><p>バウムクーヘンのような極座標系の散布図では <code class="docutils literal notranslate"><span class="pre">FixedLocator</span></code>,
<code class="docutils literal notranslate"><span class="pre">DictFormatter</span></code>, <code class="docutils literal notranslate"><span class="pre">MaxNLocator</span></code> の各クラスを利用して、座標軸の目盛ラベルをカスタマイズする。</p></li>
<li><p>扇型の極座標系の散布図ではモジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axisartist.angle_helper</span></code>
の機能を上手く使う。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_floating_axis.py</span></code></dt><dd><p>極座標？</p>
<ul class="simple">
<li><p>Matplotlib 本体コードで <code class="docutils literal notranslate"><span class="pre">RuntimeWarning</span></code> が送出される。とりあえずサブプロットは表示されるが、この内容で正しいかは知らない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">demo_parasite_axes2.py</span></code></dt><dd><p>密度、温度、速度。何やら座標軸が多い。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.axes_grid1.host_subplot</span></code> で生成したオブジェクトからメソッド <code class="docutils literal notranslate"><span class="pre">twinx</span></code> を二度呼び出す。</p></li>
<li><p>このデモはモノクロでわかりにくい。色を変えてみよう。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="color">
<h3><a class="toc-backref" href="#id15" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">color</span></code></a><a class="headerlink" href="#color" title="Permalink to this heading">¶</a></h3>
<p>色に関係する処理の見本集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">colormaps_reference.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Colormap</span> <span class="pre">Vega10</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">recognized</span></code> というエラーが出て完全には動作しない。</p>
<ul class="simple">
<li><p>動作するものについては、色見本が画面に描かれる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">color_cycle_default.py</span></code></dt><dd><p>現在存在しない <code class="docutils literal notranslate"><span class="pre">set_facecolor</span></code> への参照があるコード。動作しない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">color_cycle_demo.py</span></code></dt><dd><p>RGBY と CMYK とでプロット曲線の色を変えていくデモ。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.rc</span></code> の呼び出しでプロット曲線の特性を指定することができる。</p></li>
<li><p>またはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.set_prop_cycle</span></code> を用いてもよい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">named_colors.py</span></code></dt><dd><p>現在存在しない <code class="docutils literal notranslate"><span class="pre">BASE_COLORS</span></code> への参照があるコード。動作しない。</p>
</dd>
</dl>
</section>
<section id="event-handling">
<h3><a class="toc-backref" href="#id16" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">event_handling</span></code></a><a class="headerlink" href="#event-handling" title="Permalink to this heading">¶</a></h3>
<p>キーボードやマウス操作による対話的な処理をどう実現するかを示す見本集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">close_event.py</span></code></dt><dd><p>サブプロットのイベントハンドラーの指定方法を示すデモ。基本。</p>
<ul class="simple">
<li><p>このデモではウィンドウを閉じるイベントを扱う。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.canvas.mpl_connect</span></code> を呼び出すことでサブプロットの「白い部分」上のイベントハンドラーを指定できる。引数にはイベント名を表す文字列と、発動される関数なり関数オブジェクトなりを渡す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">data_browser.py</span></code></dt><dd><p>マウスピック（クリック）およびキー押しイベントのデモ。</p>
<ul class="simple">
<li><p>イベントハンドラーの signature の要件は、引数にイベントオブジェクトを取ることか。例えばキーイベントならば <code class="docutils literal notranslate"><span class="pre">event.key</span></code> に、マウスピックイベントならば
<code class="docutils literal notranslate"><span class="pre">event.mouseevent</span></code> にそれぞれアクセスできる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">picker=5</span></code> にも注意。これはマウスピック座標の余裕を指示する値である。CAD によくあるパラメーター。</p></li>
<li><p>二点間の距離の平方を計測するのに関数 <code class="docutils literal notranslate"><span class="pre">np.hypot</span></code> を利用する。こんな便利なものが存在していたか。</p></li>
<li><p>スクリプトの最後の if ブロック内に宣言された変数は Python 的には全て
<code class="docutils literal notranslate"><span class="pre">global</span></code> 扱いであることに注意。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">figure_axes_enter_leave.py</span></code></dt><dd><p>マウスカーソルの移動処理のデモ。<code class="docutils literal notranslate"><span class="pre">Figure</span></code> と <code class="docutils literal notranslate"><span class="pre">Axes</span></code> の両方について。</p>
<ul class="simple">
<li><p>イベント名は <code class="docutils literal notranslate"><span class="pre">(axes|figure)_(enter|leave)_event</span></code> のような文字列だ。<code class="docutils literal notranslate"><span class="pre">Axes</span></code> についてのイベントハンドラーに渡されるオブジェクトには
<code class="docutils literal notranslate"><span class="pre">.inaxes</span></code> が、<code class="docutils literal notranslate"><span class="pre">Figure</span></code> についてのそれには <code class="docutils literal notranslate"><span class="pre">.canvas</span></code> が利用可能。</p></li>
<li><p>マウスカーソルのある要素に色が塗られる。これはメソッド
<code class="docutils literal notranslate"><span class="pre">.patch.set_facecolor</span></code> を呼ぶ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">idle_and_timeout.py</span></code></dt><dd><p>アイドルイベントのデモだが、こういうことはしないで代わりに <code class="docutils literal notranslate"><span class="pre">animation</span></code> の機能を使うこと。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">keypress_demo.py</span></code></dt><dd><p>キー押しイベント処理のデモ。基本。</p>
<ul class="simple">
<li><p>キー <kbd class="kbd docutils literal notranslate">X</kbd> を押すたびに x 軸ラベルが出たり消えたりするというもの。</p></li>
<li><p>イベント名は <code class="docutils literal notranslate"><span class="pre">key_press_event</span></code> で、ハンドラーでは引数オブジェクトの属性値
<code class="docutils literal notranslate"><span class="pre">.key</span></code> を参照する。</p></li>
<li><p>ラベルの表示処理はメソッド <code class="docutils literal notranslate"><span class="pre">.set_visible</span></code> 等を利用する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">lasso_demo.py</span></code></dt><dd><p>いわゆる投げ縄選択のデモ。</p>
<ul class="simple">
<li><p>そのまま実行すると例外 <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'matplotlib.colors'</span> <span class="pre">has</span> <span class="pre">no</span>
<span class="pre">attribute</span> <span class="pre">'to_rgba'</span></code> が発生するので、これらの箇所にあるコードを書き換える必要がある（クラス <code class="docutils literal notranslate"><span class="pre">ColorConverter</span></code> を利用する）。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Lasso</span></code> を利用する。</p></li>
<li><p>イベントとしては <code class="docutils literal notranslate"><span class="pre">button_press_event</span></code> を使う。</p></li>
<li><p>投げ縄を描く際にいろいろと面倒なことをしている。特に
<code class="docutils literal notranslate"><span class="pre">Figure.canvas.widgetlock</span></code> が絡む処理が曲者。ある種のロック操作が含まれる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">legend_picking.py</span></code></dt><dd><p>凡例部分のピックイベント処理デモ。凡例の線をピックすると、対応する折れ線（このデモでは折れはないが）の表示状態が切り替わる。</p>
<ul class="simple">
<li><p>イベントとしては <code class="docutils literal notranslate"><span class="pre">pick_event</span></code> を使う。</p></li>
<li><p>凡例を生成するにはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.legend</span></code> を呼ぶ。戻り値が凡例オブジェクト。</p></li>
<li><p>凡例内の線にアクセスするには凡例に対するメソッド <code class="docutils literal notranslate"><span class="pre">get_lines</span></code> でよい。</p></li>
<li><p>折れ線の表示処理はメソッド <code class="docutils literal notranslate"><span class="pre">.set_visible</span></code> 等を利用する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">looking_glass.py</span></code></dt><dd><p>マウスドラッグを実装するデモ。</p>
<ul class="simple">
<li><p>詳細は省くが、マウスイベントを三種類処理する。</p></li>
<li><p>円と線群とが重なり合う部分については、線のほうの見え方を変えたい。これには線に対するメソッド <code class="docutils literal notranslate"><span class="pre">.set_clip_path</span></code> を用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">path_editor.py</span></code></dt><dd><p>Bézier 曲線の編集デモ。案外面倒なコードになっている。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">draw_event</span></code> というイベントがある。キャンバスの描画を自力で行うとでも言うのか。</p></li>
<li><p>全体的に <code class="docutils literal notranslate"><span class="pre">FigureCanvas</span></code> のメソッド呼び出しが重要らしい。あまり見かけないものもここでは利用する。</p></li>
<li><p>初期状態ではこのパスは閉曲線に見えるが、実際には始点終点に対応する制御点（同じ座標だが）が一致しているだけの開曲線だ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pick_event_demo.py</span></code></dt><dd><p>四種のサブプロット上におけるピック処理のデモ。基本。</p>
<ul class="simple">
<li><p>ピックイベントの処理は <code class="docutils literal notranslate"><span class="pre">pick_event</span></code> という名前になる。</p></li>
<li><p>最初のウィンドウでは点プロットと棒グラフをピックするデモ。ピックされたオブジェクトが <code class="docutils literal notranslate"><span class="pre">Line2D</span></code> なのか <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> なのか <code class="docutils literal notranslate"><span class="pre">Text</span></code> なのかでイベントオブジェクトから得られる属性情報が異なる。</p></li>
<li><p>次のウィンドウも点プロットのピックデモ。ピックした座標を得るには <code class="docutils literal notranslate"><span class="pre">.pickx</span></code>
等を用いる。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">picker</span></code> に関数を渡す。この自作関数ではピック座標とその近傍のプロット点との距離をテストしているらしい。</p></li>
<li><p>次のウィンドウでは散布図のピックのデモを行う。今度はメソッド
<code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">picker</span></code> には True を指定する。</p></li>
<li><p>最後のウィンドウは画像のピックデモ。メソッド <code class="docutils literal notranslate"><span class="pre">Axes.imshow</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">picker</span></code> には True を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pick_event_demo2.py</span></code></dt><dd><p>点をピックすると、それに対応する元データを別ウィンドウで表示するデモ。</p>
<ul class="simple">
<li><p>元データは <code class="docutils literal notranslate"><span class="pre">np.random.rand</span></code> による。</p></li>
<li><p>ピックさせるデータは <code class="docutils literal notranslate"><span class="pre">np.mean</span></code> と <code class="docutils literal notranslate"><span class="pre">np.std</span></code> による。</p></li>
<li><p>ピックハンドラーの引数から得られる <code class="docutils literal notranslate"><span class="pre">event.ind</span></code> にはどうもプロット点列の配列としてのインデックス（複数）であるようだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pipong.py</span></code></dt><dd><p>後述の <code class="file docutils literal notranslate"><span class="pre">pong_gtk.py</span></code> が <code class="docutils literal notranslate"><span class="pre">import</span></code> するモジュール。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">poly_editor.py</span></code></dt><dd><p>正多角形の頂点をマウスでドラッグするデモ。</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">path_editor.py</span></code> のデモとコードの構造が同じ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Line2D</span></code> や <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">animated=True</span></code> が気になる。</p></li>
<li><p>角度ゼロ付近の頂点の配置が怪しい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pong_gtk.py</span></code></dt><dd><p>準備不足なので <code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'gobject'</span></code> となる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">resample.py</span></code></dt><dd><p>ビュー範囲を変えるとそれに連動してプロットの標本数を最適化して再描画するデモ？こちらの思うようには動作しないようだ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">test_mouseclicks.py</span></code></dt><dd><p>マウスボタンイベント処理のデモ。基本。</p>
<ul class="simple">
<li><p>ダブルクリックかどうかはイベントハンドラーの引数オブジェクトの属性
<code class="docutils literal notranslate"><span class="pre">.dblclick</span></code> でテストできる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">timers.py</span></code></dt><dd><p>タイマーのデモ。</p>
<ul class="simple">
<li><p>これまでのイベントハンドラーと色合いが異なり、タイマーオブジェクトの生成が必要。</p></li>
<li><p>コメントアウトのコードも注意。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">trifinder_event_demo.py</span></code></dt><dd><p>マウスポインターを含むプロット三角形をハイライトするデモ。面白い。</p>
<ul class="simple">
<li><p>デモデータの構成コードは要研究。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> を利用する。</p></li>
<li><p>このオブジェクトをプロットするには関数 <code class="docutils literal notranslate"><span class="pre">plt.triplot</span></code> を呼ぶ。</p></li>
<li><p>終盤の <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> オブジェクトは何だろうか。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">viewlims.py</span></code></dt><dd><p>Mandelbrot 図形をズームインするデモ。</p>
<ul class="simple">
<li><p>図形の生成コードは <code class="docutils literal notranslate"><span class="pre">Mandelbrot.__call__</span></code> にあるこの 10 行程度に収まっている。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.callbacks.connect</span></code> でハンドラーを定義する。Qt 風に言うと
signal を slot に connect する。</p></li>
<li><p>素材の選択がある意味不適切な気がする。ズームしても元と変わらない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">zoom_window.py</span></code></dt><dd><p>散布図の拡大図を別ウィンドウで表示するデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.set_xlim</span></code> 等を用いてビューの範囲を更新する。</p></li>
<li><p>別ウィンドウは開きっぱなし。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="images-contours-and-fields">
<h3><a class="toc-backref" href="#id17" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">images_contours_and_fields</span></code></a><a class="headerlink" href="#images-contours-and-fields" title="Permalink to this heading">¶</a></h3>
<p>画像およびベクトル場関連といったところか。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">contourf_log.py</span></code></dt><dd><p>グラデーションになっていないが、意図通りか？コード量は多くはないが、どのステップの処理も珍しい。</p>
<ul class="simple">
<li><p>二変数 Gauss 分布関数が <code class="docutils literal notranslate"><span class="pre">mlab.bivariate_normal</span></code> として実装されている。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.contourf</span></code> で等高線プロットを描画する。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.colorbar</span></code> でカラーバーを図のそばに付属させる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">image_demo.py</span></code></dt><dd><p>ウィンドウに Lovelace 伯爵夫人の画像を表示する見本コード。</p>
<ul class="simple">
<li><p>画像の読み込みは関数 <code class="docutils literal notranslate"><span class="pre">plt.imread</span></code> で行い、戻り値を <code class="docutils literal notranslate"><span class="pre">plt.imshow</span></code> に渡せばよい。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.axis('off')</span></code> して座標軸を非表示にしておく。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">image_demo_clip_path.py</span></code></dt><dd><p>ウィンドウに Grace Hopper 准将の画像を表示する見本コード。</p>
<ul class="simple">
<li><p>円形にくり抜いてあるが、これは画像オブジェクトのメソッド <code class="docutils literal notranslate"><span class="pre">set_clip_path</span></code>
で行う。引数のパッチオブジェクトはここでは <code class="docutils literal notranslate"><span class="pre">Circle</span></code> オブジェクトを採用している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">interpolation_methods.py</span></code></dt><dd><p>色補間 18 種のカタログ。</p>
<ul class="simple">
<li><p>18 個ものサブプロットオブジェクトを <code class="docutils literal notranslate"><span class="pre">plt.subplots(3,</span> <span class="pre">6,</span> <span class="pre">...)</span></code> で生成している。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">imshow</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">interpolation</span></code> に指定する文字列が
Matplotlib から得られるとよいだろう。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">interpolation_none_vs_nearest.py</span></code></dt><dd><p>色補間ナシと最近補間の比較デモ。</p>
<ul class="simple">
<li><p>補間 <code class="docutils literal notranslate"><span class="pre">none</span></code> がよく効くのは大きな画像を小さく表示するときで、補間 <code class="docutils literal notranslate"><span class="pre">nearest</span></code> がよく効くのは小さな画像を大きく表示するときらしい。</p></li>
<li><p>Matplotlib 自体の話題ではないのだが、スクリプト後半のコメントに PDF を PNG
に変換する処理について、興味深いことが書かれている。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pcolormesh_levels.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Axes.pcolormesh</span></code> と <code class="docutils literal notranslate"><span class="pre">Axes.contourf</span></code> の比較デモ。メッシュ対点。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">mpl.colors.BoundaryNorm</span></code> はカラーマップのインデックスを離散的な（整数の）区間に基いて生成する。このオブジェクトをメッシュプロット関数に渡すので、メッシュのほうはモザイクっぽい見栄えになる。それに対して、点のほうは曲線的な等高線がくっきりと見える。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plt.tight_layout</span></code> を呼び出し、上下のサブプロットの座標軸の目盛ラベルが重なり合わぬように、隙間を調整する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">streamplot_demo_features.py</span></code></dt><dd><p>ベクトル場プロットデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.streamplot</span></code> で描画する。引数には座標とベクトルを意味する配列を必要とするものがある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">streamplot_demo_masking.py</span></code></dt><dd><p>ベクトル場プロットデモのはず。</p>
<ul class="simple">
<li><p>実行時に <code class="docutils literal notranslate"><span class="pre">MaskedArrayFutureWarning</span></code> がスクリプトから送出される。これを修正できるくらいに理解を深めたい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">streamplot_demo_start_points.py</span></code></dt><dd><p>不明。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ValueError:</span> <span class="pre">operands</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">broadcast</span> <span class="pre">together</span> <span class="pre">with</span> <span class="pre">shapes</span> <span class="pre">(6,)</span>
<span class="pre">(100,)</span> <span class="pre">(6,)</span></code> なる例外が送出される。これを修正できるくらいに理解を深めたい。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="lines-bars-and-markers">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">lines_bars_and_markers</span></code></a><a class="headerlink" href="#lines-bars-and-markers" title="Permalink to this heading">¶</a></h3>
<p>ここには初歩的な見本コードがある。</p>
<dl>
<dt><code class="file docutils literal notranslate"><span class="pre">barh_demo.py</span></code></dt><dd><p>水平棒グラフの見本。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.barh</span></code> でデータを描画する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">fill_demo.py</span></code></dt><dd><p>プロット曲線と x 軸とで囲まれた領域に色を塗る単純なデモコード。</p>
<ul class="simple">
<li><p>単に関数 <code class="docutils literal notranslate"><span class="pre">plt.fill(x,</span> <span class="pre">y)</span></code> を呼び出すだけでよい。プロット曲線と閉領域の着色を同時に行う。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">fill_demo_features.py</span></code></dt><dd><p>複数のプロット曲線と x 軸とで囲まれた領域に色を塗る単純なデモコード。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.fill</span></code> の呼び出しが一度で済むことを理解すること。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">line_demo_dash_control.py</span></code></dt><dd><p>プロット曲線を破線で描く方法を示す見本。</p>
<ul class="simple">
<li><p>まずは <code class="docutils literal notranslate"><span class="pre">plt.plot</span></code> の引数に文字列 <code class="docutils literal notranslate"><span class="pre">--</span></code> を指定して破線にする。</p></li>
<li><p>これだけでも破線になるが、点描のパターンを <code class="docutils literal notranslate"><span class="pre">set_dashes</span></code> で細かく指定できる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">line_styles_reference.py</span></code></dt><dd><p>プロット曲線の線スタイルのカタログ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">marker_fillstyle_reference.py</span></code></dt><dd><p>マーカースタイルのカタログ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Line2D.fillStyles</span></code> の要素が有効なスタイル。これをプロット関数の
<code class="docutils literal notranslate"><span class="pre">fillstyle</span></code> として指定する。</p></li>
<li><p>マーカーはだいたいマルに縦線や横線が入った記号で、半円部が別の色で塗られている。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">marker_reference.py</span></code></dt><dd><p>マーカースタイルのカタログ。塗りナシと塗りアリの二種類を展示するデモ。</p>
<ul>
<li><p>マーカーを指示するのに有効な値は <code class="docutils literal notranslate"><span class="pre">Line2D.markers</span></code>,
<code class="docutils literal notranslate"><span class="pre">Line2D.filled_markers</span></code>, <code class="docutils literal notranslate"><span class="pre">Line2D.filled_markers</span></code> から得られる。例えば：</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">Line2D</span><span class="o">.</span><span class="n">filled_markers</span>
<span class="gh">Out[1]: </span><span class="go">(&#39;o&#39;, &#39;v&#39;, &#39;^&#39;, &#39;&lt;&#39;, &#39;&gt;&#39;, &#39;8&#39;, &#39;s&#39;, &#39;p&#39;, &#39;*&#39;, &#39;h&#39;, &#39;H&#39;, &#39;D&#39;, &#39;d&#39;)</span>
</pre></div>
</div>
</li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">scatter_with_legend.py</span></code></dt><dd><p>凡例付き散布図のデモ。</p>
<ul class="simple">
<li><p>散布図のプロット関数は <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> だ。</p></li>
<li><p>凡例は関数 <code class="docutils literal notranslate"><span class="pre">plt.legend</span></code> を呼び出す。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="misc">
<h3><a class="toc-backref" href="#id19" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">misc</span></code></a><a class="headerlink" href="#misc" title="Permalink to this heading">¶</a></h3>
<p>雑多なコード例を集積したディレクトリーだろう。すぐに動作しないコードもある。</p>
<dl>
<dt><code class="file docutils literal notranslate"><span class="pre">contour_manual.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">ContourSet</span></code> のデモコード。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">font_indexing.py</span></code></dt><dd><p>開発者向けコード。というより、フォントファイルがなくて動作しない。用意すれば動くだろう。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">ftface_props.py</span></code></dt><dd><p>開発者向けコード。というより、フォントファイルがなくて動作しない。用意すれば動くだろう。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">image_thumbnail.py</span></code></dt><dd><p>指定ディレクトリーにある全ての PNG ファイルからサムネイル画像を生成するデモコード。モジュール <code class="docutils literal notranslate"><span class="pre">mpl.image</span></code> に PIL と似た機能があるようだ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">longshort.py</span></code></dt><dd><p>インターネットから CSV ファイルを取得して、データを読み込み、プロットを表示するデモコード。</p>
<ul class="simple">
<li><p>Python 標準ライブラリーの関数 <code class="docutils literal notranslate"><span class="pre">urllib.request.urlretrieve</span></code> でファイルをダウンロードする。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl.mlab.csv2rec</span></code> で CSV データをオブジェクト化する。それから CSV
データを編集する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.autofmt_xdate</span></code> でラベルの日付文字列を適宜見やすくさせる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">multiprocess.py</span></code></dt><dd><p>Python の <code class="docutils literal notranslate"><span class="pre">multiprocessing.Process</span></code> と <code class="docutils literal notranslate"><span class="pre">multiprocessing.Pipe</span></code> を絡めたデモコード。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">matplotlib.use('GtkAgg')</span></code> しているが、これが必要なのか。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'gobject'</span></code> が発生してダメ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rasterization_demo.py</span></code></dt><dd><p>ビットマップ化関係か？</p>
<ul class="simple">
<li><p>ダミーのメッシュプロットを生成するのに <code class="docutils literal notranslate"><span class="pre">np.meshgrid</span></code> が向いている。</p></li>
<li><p>ポイントは <code class="docutils literal notranslate"><span class="pre">Axis.pclormesh</span></code> の戻り値オブジェクトに対する
<code class="docutils literal notranslate"><span class="pre">set_rasterized(True)</span></code> や <code class="docutils literal notranslate"><span class="pre">set_zorder(-20)</span></code> だろう。</p></li>
<li><p>最後に関数 <code class="docutils literal notranslate"><span class="pre">plt.savefig</span></code> を呼び出して PDF, EPS, SVG ファイルを出力する。</p></li>
<li><p>生成した SVG ファイルを Inkscape で開こうとしたらモッサリしてダメ。それ以外のファイルはそれぞれのビューワーで普通に閲覧できた。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rc_traits.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">ImportError:</span> <span class="pre">No</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">'traits'</span></code> となってダメ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rec_groupby_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'numpy'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'string0'</span></code> となってダメ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rec_join_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'numpy'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'string0'</span></code> となってダメ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">sample_data_demo.py</span></code></dt><dd><p>ウィンドウに Lovelace 伯爵夫人の画像を表示する見本コード。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl.cbook.get_sample_data</span></code> のデモコード。あとは <code class="docutils literal notranslate"><span class="pre">plt.imread</span></code> と
<code class="docutils literal notranslate"><span class="pre">plt.imshow</span></code> を呼び出す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">svg_filter_line.py</span></code></dt><dd><p>プロットを SVG データ化し、かつ XML コードをそこへ追加するようなデモコード。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.savefig</span></code> を <code class="docutils literal notranslate"><span class="pre">BytesIO</span></code> オブジェクトに対して作用させているのがポイント。</p></li>
<li><p>Inkscape で開くと、折れ線グラフにドロップシャドウが付いているのが目視できる。デモコードの後半部で、このエフェクトフィルターに相当する XML コード片を
XML オブジェクトツリーに自力で挿入している。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UserWarning</span></code> が発生するので、気になるかもしれない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">svg_filter_pie.py</span></code></dt><dd><p>コードの構造は上記デモコードと同様。円グラフ版。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">tight_bbox_test.py</span></code></dt><dd><p>プロットをウィンドウだけでなく、さまざまな形式のファイルに出力するデモコード。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="o">%</span><span class="k">run</span> ./misc/tight_bbox_test.py
<span class="go">saving tight_bbox_test.png</span>
<span class="go">saving tight_bbox_test.pdf</span>
<span class="go">saving tight_bbox_test.svg</span>
<span class="go">saving tight_bbox_test.svgz</span>
<span class="go">saving tight_bbox_test.eps</span>
</pre></div>
</div>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.savefig</span></code> を用いる。ファイル形式は最初の引数のパス文字列の拡張子で自動判別されるらしい。</p></li>
<li><p>関数呼び出し一発で PDF ファイルにプロットを出力できるのは強力。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="mplot3d">
<h3><a class="toc-backref" href="#id20" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">mplot3d</span></code></a><a class="headerlink" href="#mplot3d" title="Permalink to this heading">¶</a></h3>
<p>立体的なモデルをウィンドウ上で表現する方法を示す見本集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">2dcollections3d_demo.py</span></code></dt><dd><p>プロット空間内にプロット曲線と散布図を描くデモ。基本。</p>
<ul class="simple">
<li><p>明示的な <code class="docutils literal notranslate"><span class="pre">import</span></code> 文 <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">mpl_toolkits.mplot3d</span> <span class="pre">import</span> <span class="pre">Axes3D</span></code> が必要。この他のデモでも、コード中に明確に 3D 系クラスなり関数なりが出て来ない場合にはこのようなダミーの <code class="docutils literal notranslate"><span class="pre">import</span></code> 文を必要とする。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.gca</span></code> のキーワード引数が <code class="docutils literal notranslate"><span class="pre">projection='3d'</span></code> 必要。この戻り値のオブジェクトの型が <code class="docutils literal notranslate"><span class="pre">Axes3D</span></code> なのだろう。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> にも <code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code> にもキーワード引数 <code class="docutils literal notranslate"><span class="pre">zdir</span></code> を指定する。この例ではサンプルデータは平面的なので、その平面の法線方向の座標成分を指示する。この事はこの他のデモコードすべてのプロット系メソッドに言える。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes3D.set_xlim3d</span></code> 等でプロット空間の座標成分ごとの範囲を指定する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes3D.view_init</span></code> でカメラの位置と姿勢を指示する。引数の与え方が難しそうだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bars3d_demo.py</span></code></dt><dd><p>平面的棒グラフを奥行き方向に配列するデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.add_subplot</span></code> のキーワード引数が <code class="docutils literal notranslate"><span class="pre">projection='3d'</span></code> 必要。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">contour3d_demo.py</span></code></dt><dd><p>関数 <code class="docutils literal notranslate"><span class="pre">axes3d.get_test_data</span></code> を利用してプロット空間内に等高線図を描くデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.contour</span></code> に三次元分の点列を渡す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">ContourSet.clabel</span></code> で等高線にラベルする。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">contour3d_demo2.py</span></code></dt><dd><p>その等高線をリボン化するデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.contour</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">extend3d=True</span></code> とすることで、描画される等高線は高さ方向に幅広くなる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">contour3d_demo3.py</span></code></dt><dd><p>その等高線データをプロット曲面とその射影を等高線図として表現するデモ。</p>
<ul class="simple">
<li><p>曲面プロットはメソッド <code class="docutils literal notranslate"><span class="pre">plot_surface</span></code> による。三次元分の点列を渡す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.contour</span></code> を <code class="docutils literal notranslate"><span class="pre">zdir</span></code> を各座標成分ごとに呼び出すことで、等高線プロットを各座標平面に射影する。このときキーワード引数 <code class="docutils literal notranslate"><span class="pre">offset</span></code> を指定して、若干浮かせる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">contourf3d_demo.py</span></code></dt><dd><p>隣接する等高線同士でその対応する「高さ」部分を塗るデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.contourf</span></code> を用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">contourf3d_demo2.py</span></code></dt><dd><p>その等高線データをプロット曲面とその射影を等高線図として表現するデモ。塗りアリ版。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.contourf</span></code> を用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">custom_shaded_3d_surface.py</span></code></dt><dd><p>これは高級。</p>
<ul class="simple">
<li><p>オブジェクト <code class="docutils literal notranslate"><span class="pre">np.s_</span></code> は配列の添字からなる <code class="docutils literal notranslate"><span class="pre">tuple</span></code> オブジェクトを生成するもの。</p></li>
<li><p>ここでクラス <code class="docutils literal notranslate"><span class="pre">LightSource</span></code> のコンストラクターに与えている実引数はそれぞれ方位角と仰角を指定する。</p></li>
<li><p>このオブジェクトについてメソッド <code class="docutils literal notranslate"><span class="pre">shade</span></code> を呼ぶことで色データ <code class="docutils literal notranslate"><span class="pre">rgb</span></code> を算出する。座標成分 z しか必要としない？</p></li>
<li><p>それから <code class="docutils literal notranslate"><span class="pre">Axes.plot_surface</span></code> を呼び出す。キーワード引数 <code class="docutils literal notranslate"><span class="pre">facecolors</span></code> に今得た RGB データを指定する。自分で色を与えるので <code class="docutils literal notranslate"><span class="pre">shade=False</span></code> とするのだろう。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">hist3d_demo.py</span></code></dt><dd><p>3D 棒グラフのデモコード。基本。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">np.histogram2d</span></code> でヒストグラムデータを作成する。</p></li>
<li><p>さらに 16 本の棒の位置を決める配列を <code class="docutils literal notranslate"><span class="pre">np.meshgdi</span></code> 等で決める。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.bar3d</span></code> で棒グラフを描画する。注目したいのはキーワード引数
<code class="docutils literal notranslate"><span class="pre">zsort='average'</span></code> で、この影響でビューをグリグリ回転させると、ある棒の辺と隣の棒の面との前後関係の描画が乱れることがある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">lines3d_demo.py</span></code></dt><dd><p>3D 曲線のデモコード。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> に三次元分の点列を渡す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">lorenz_attractor.py</span></code></dt><dd><p>Lorenz attractor を描画するデモ。</p>
<ul class="simple">
<li><p>点列を生成するコードはさすがに凝っているが、描画コードはたいへん基本的。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">mixed_subplots_demo.py</span></code></dt><dd><p>同一 Figure に 2D の <code class="docutils literal notranslate"><span class="pre">Axes</span></code> と 3D の <code class="docutils literal notranslate"><span class="pre">Axes</span></code> を掲載するデモコード。</p>
<ul class="simple">
<li><p>二度目のメソッド <code class="docutils literal notranslate"><span class="pre">Figure.add_subplot</span></code> の呼び出しには、キーワード引数
<code class="docutils literal notranslate"><span class="pre">projection='3d'</span></code> を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">offset_demo.py</span></code></dt><dd><p>テキストをオフセットして描画するデモらしいが、見てもよくわからない。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot_surface</span></code> の x 軸と y 軸データの値が <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">1e5</span></code> されている。これが要点らしい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pathpatch3d_demo.py</span></code></dt><dd><p>テキストをプロット空間内に描画するデモ。これは参考用だ。</p>
<ul class="simple">
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl_toolkits.mplot3d.art3d</span></code> に関数 <code class="docutils literal notranslate"><span class="pre">pathpatch_2d_to_3d</span></code> というのがある。</p></li>
<li><p>ちなみに実行時間がけっこう長い。裏で LaTeX が起動する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">polys3d_demo.py</span></code></dt><dd><p>平面的折れ線グラフ（を輪郭とする多角形）を奥行き方向に配列するデモ。基本。</p>
<ul class="simple">
<li><p>そのまま実行すると例外 <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'matplotlib.colors'</span> <span class="pre">has</span> <span class="pre">no</span>
<span class="pre">attribute</span> <span class="pre">'to_rgba'</span></code> が発生するので、これらの箇所にあるコードを書き換える必要がある（クラス <code class="docutils literal notranslate"><span class="pre">ColorConverter</span></code> を利用する）。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.add_collection3d</span></code> をキーワード引数 <code class="docutils literal notranslate"><span class="pre">zdir</span></code> の指定と共に呼ぶ。ステンドグラス的な多角形は <code class="docutils literal notranslate"><span class="pre">PolyCollection</span></code> でよい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">quiver3d_demo.py</span></code></dt><dd><p>箙プロットのデモ。基本。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">normalize</span></code> という例外が出るので、
<code class="docutils literal notranslate"><span class="pre">norm=True</span></code> に修正する。</p></li>
<li><p>データとなるベクトル群の全始点を関数 <code class="docutils literal notranslate"><span class="pre">np.meshgrid</span></code> で一気に作成する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.quiver</span></code> で箙プロットを描画する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rotate_axes3d_demo.py</span></code></dt><dd><p>謎。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.show()</span></code> が抜けているので補足したが、それでも謎。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">scatter3d_demo.py</span></code></dt><dd><p>散布図デモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code> に三次元分の点列を渡す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">subplot3d_demo.py</span></code></dt><dd><p>曲面プロットデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot_wireframe</span></code> で曲面をワイヤーフレームで描画する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">surface3d_demo.py</span></code></dt><dd><p>曲面プロットデモ。基本。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Axes.zaxis</span></code> にアクセスできることに注意。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">surface3d_demo2.py</span></code></dt><dd><p>曲面プロットデモ。基本。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">surface3d_demo3.py</span></code></dt><dd><p>曲面プロットにおいて面の各マスに色を指定するデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot_surface</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">facecolors</span></code> に色値からなる二次元配列を渡す。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">surface3d_radial_demo.py</span></code></dt><dd><p>曲面プロットデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot_surface</span></code> は極座標は知らないので、そのような点データを呼び出し側で直交座標系に変換する必要がある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">text3d_demo.py</span></code></dt><dd><p>テキストデモ。基本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.text</span></code> と <code class="docutils literal notranslate"><span class="pre">Axes.text2D</span></code> とがある。</p></li>
<li><p>キーワード引数 <code class="docutils literal notranslate"><span class="pre">zdir</span></code> にはベクトルを表す配列を渡すこともできる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">tricontour3d_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> および <code class="docutils literal notranslate"><span class="pre">plt.tricontour</span></code> のデモコード。曲面 tessellation による描画。3D CAD でよく見かける手法に似ている。</p>
<ul class="simple">
<li><p>ある円周からクラス <code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> を利用して三角形格子を得る。オブジェクト <code class="docutils literal notranslate"><span class="pre">triang.triangles</span></code> は点列の添字三つ組の配列である。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Triangulation.set_mask</span></code> で要らない三角形を指定？</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.tricontour</span></code> で tessellation をプロットする。ここで
<code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> オブジェクトと点列の z 成分配列を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">tricontourf3d_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> および <code class="docutils literal notranslate"><span class="pre">plt.tricontourf</span></code> のデモコード。上のと同じ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">trisurf3d_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Axes.plot_trisurf</span></code> のデモコード。</p>
<ul class="simple">
<li><p>おそらく <code class="docutils literal notranslate"><span class="pre">Axes.plot_trisurf</span></code> に渡す点列データに何かの制約があると思われる。そうでないと tessellate できない。</p></li>
<li><p>引数に x, y, z および <code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> オブジェクトを渡す方法と、
<code class="docutils literal notranslate"><span class="pre">Triangulation</span></code> および z を渡す方法が許される。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">trisurf3d_demo2.py</span></code></dt><dd><p>変わった曲面のデモ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">wire3d_animation_demo.py</span></code></dt><dd><p>ワイヤーフレーム曲面のアニメーションデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">MatplotlibDeprecationWarning</span></code> が発生するが、気にしない。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.pause</span></code> を利用。これがマズい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">wire3d_demo.py</span></code></dt><dd><p>ワイヤーフレーム曲面デモ。基本。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">wire3d_zero_stride.py</span></code></dt><dd><p>ワイヤーフレーム曲面デモ。基本。</p>
<ul class="simple">
<li><p>曲面プロット系メソッドのキーワード引数 <code class="docutils literal notranslate"><span class="pre">rstride</span></code> や <code class="docutils literal notranslate"><span class="pre">cstride</span></code> にゼロを指定すると、曲面上の x または y の値が一定の曲線しか描かれない。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="pie-and-polar-charts">
<h3><a class="toc-backref" href="#id21" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">pie_and_polar_charts</span></code></a><a class="headerlink" href="#pie-and-polar-charts" title="Permalink to this heading">¶</a></h3>
<p>円グラフと極座標グラフの見本コード集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">pie_demo_features.py</span></code></dt><dd><p>よくある円グラフの見本。</p>
<ul class="simple">
<li><p>円グラフはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.pie</span></code> で実現する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Axes.set_aspect('equal')</span></code> をしないと、円が円に見えなくなる。</p></li>
<li><p>扇型は既定では反時計回りに配列されていく。この振る舞いを変える方法もある。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">polar_bar_demo.py</span></code></dt><dd><p>極座標系の中心から棒が伸びるようなグラフの見本。棒というか扇型になる。</p>
<ul class="simple">
<li><p>これは <code class="docutils literal notranslate"><span class="pre">plt.subplot</span></code> の呼び出し時に <code class="docutils literal notranslate"><span class="pre">projection='polar'</span></code> を指定するのが本質的だ。</p></li>
<li><p>謎のメソッド <code class="docutils literal notranslate"><span class="pre">plt.cm.viridis</span></code> で「棒」部分の色を決めている。これは色の見本コード集のところで学習しよう。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">polar_scatter_demo.py</span></code></dt><dd><p>極座標グラフで散布図を実現する見本。</p>
<ul class="simple">
<li><p>これも <code class="docutils literal notranslate"><span class="pre">plt.subplot</span></code> の呼び出し時に <code class="docutils literal notranslate"><span class="pre">projection='polar'</span></code> を指定する。</p></li>
<li><p>散布図を実現するのはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code> だ。</p></li>
<li><p>サンプルデータは乱数。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="pylab-examples">
<h3><a class="toc-backref" href="#id22" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">pylab_examples</span></code></a><a class="headerlink" href="#pylab-examples" title="Permalink to this heading">¶</a></h3>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>調査する。</p>
</div>
</section>
<section id="scales">
<h3><a class="toc-backref" href="#id23" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">scales</span></code></a><a class="headerlink" href="#scales" title="Permalink to this heading">¶</a></h3>
<p>グラフの各軸の目盛寸法を線形的だけではなく、対数的にも設定できる。詳しくは
<code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot.Axes.set_yscale</span></code> 等のヘルプを当たって欲しい。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">scales.py</span></code></dt><dd><p>それぞれ異なる Y 軸の目盛寸法の特性のあるサブプロットを四つ描画し、同一データをプロットする。</p>
<ul class="simple">
<li><p>寸法の種類は <code class="docutils literal notranslate"><span class="pre">linear</span></code>, <code class="docutils literal notranslate"><span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">symlog</span></code>, <code class="docutils literal notranslate"><span class="pre">logit</span></code> からなる。
<code class="docutils literal notranslate"><span class="pre">symlog</span></code> はプラスマイナス対称であり、<code class="docutils literal notranslate"><span class="pre">logit</span></code> はクリッピングあり。</p></li>
<li><p>プロットデータは Gauss 分布 <code class="docutils literal notranslate"><span class="pre">np.random.normal(0.5,</span> <span class="pre">0.4,</span> <span class="pre">1000)</span></code> を加工したものとする。これでほぼ線形に分布した点列が得られる。この加工の技法にも注目したい。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="shapes-and-collections">
<h3><a class="toc-backref" href="#id24" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">shapes_and_collections</span></code></a><a class="headerlink" href="#shapes-and-collections" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">artist_reference.py</span></code></dt><dd><p>Matplotlib の各種図表要素 (artists) の図解のようなものを描く見本コード。</p>
<ul class="simple">
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl.patches</span></code> には <code class="docutils literal notranslate"><span class="pre">Circle</span></code>, <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code>, <code class="docutils literal notranslate"><span class="pre">Wedge</span></code>,
<code class="docutils literal notranslate"><span class="pre">RegularPolygon</span></code>, <code class="docutils literal notranslate"><span class="pre">Ellipse</span></code>, <code class="docutils literal notranslate"><span class="pre">Arrow</span></code>, <code class="docutils literal notranslate"><span class="pre">FancyBboxPatch</span></code> という図表的要素クラスがある。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PatchCollection</span></code> というクラスでこれらの要素を集約することができる。</p></li>
<li><p>レイアウトを微調整する関数 <code class="docutils literal notranslate"><span class="pre">plt.subplots_adjust</span></code> を忘れないでおきたい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">path_patch_demo.py</span></code></dt><dd><p>区分的 Bézier 曲線の構成方法の見本。<code class="docutils literal notranslate"><span class="pre">mpl.path.Path</span></code>, <code class="docutils literal notranslate"><span class="pre">mpl.path.PathPatch</span></code>
の利用法が理解できる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">scatter_demo.py</span></code></dt><dd><p>散布図の見本。</p>
<ul class="simple">
<li><p>この見本コードが散布図を描画するもっとも単純なものだろう。</p></li>
<li><p>与える点列データは座標だけでなく大きさと色も指定することができる。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> による。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="showcase">
<h3><a class="toc-backref" href="#id25" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">showcase</span></code></a><a class="headerlink" href="#showcase" title="Permalink to this heading">¶</a></h3>
<p>書籍に掲載されていても遜色のないイラスト群。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">bachelors_degrees_by_gender.py</span></code></dt><dd><p>アメリカ合衆国における女性の専攻別学位授与率のプロット。</p>
<ul class="simple">
<li><p>見るべきところは多々あるが、とりわけ目を引くのはサンプルデータの出処である。関数 <code class="docutils literal notranslate"><span class="pre">matplotlib.cbook.get_sample_data</span></code> は面白そうだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">integral_demo.py</span></code></dt><dd><p>典型的な定積分のイラスト。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.text</span></code> 等 LaTeX 数式を指定できることは学習済み。</p></li>
<li><p>求積領域の形状を <code class="docutils literal notranslate"><span class="pre">Polygon</span></code> を用いて表現する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">xkcd.py</span></code></dt><dd><p>謎のスケッチスタイル適用。</p>
<ul class="simple">
<li><p>棒グラフはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.bar</span></code> で描画する。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="specialty-plots">
<h3><a class="toc-backref" href="#id26" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">specialty_plots</span></code></a><a class="headerlink" href="#specialty-plots" title="Permalink to this heading">¶</a></h3>
<p>シェーディング（のようなもの）が関係する画像を生成する見本コード集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">advanced_hillshading.py</span></code></dt><dd><p>三種類の異なるデモを含むコード。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.cm.cupper</span></code> という銅の色みを扱うオブジェクトがある。</p></li>
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl.colors</span></code> にあるクラス <code class="docutils literal notranslate"><span class="pre">LightSource</span></code> のオブジェクトがメソッド <code class="docutils literal notranslate"><span class="pre">shade</span></code> で色の数値を評価する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.colorbar</span></code> が色の棒をサブプロットの側に配置する。</p></li>
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl.colors</span></code> にあるクラス <code class="docutils literal notranslate"><span class="pre">Normalize</span></code> のオブジェクトは与えらえた数値を指定範囲内に制限する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">hinton_demo.py</span></code></dt><dd><p>Hinton 図のデモコード。白と黒でさまざまな大きさの正方形を格子上に描画する。</p>
<ul class="simple">
<li><p>これは面白いから Matplotlib 本体に組み込んでもよいのでは。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">np.ndenumerate</span></code> は馴染みがなかった。いつか活用したい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">topographic_hillshading.py</span></code></dt><dd><p>航空写真にありがちな地形に陰影を付けてプロット？するデモコード。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LightSource</span></code> にそのものズバリのメソッド <code class="docutils literal notranslate"><span class="pre">hillshade</span></code> がある。この戻り値を <code class="docutils literal notranslate"><span class="pre">Axes.imshow</span></code> に引き渡す。</p></li>
<li><p>exaggregate (v.): 「誇張する」の意。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="statistics">
<h3><a class="toc-backref" href="#id27" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">statistics</span></code></a><a class="headerlink" href="#statistics" title="Permalink to this heading">¶</a></h3>
<p>統計データに相性の良いプロット各種のデモコード。</p>
<dl>
<dt><code class="file docutils literal notranslate"><span class="pre">boxplot_color_demo.py</span></code></dt><dd><p>箱プロットのデモ。</p>
<ul class="simple">
<li><p>ダミーデータは <code class="docutils literal notranslate"><span class="pre">np.random.normal</span></code> を利用して生成。正規分布。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> によるプロット。</p></li>
<li><p>キーワード引数 <code class="docutils literal notranslate"><span class="pre">notch</span></code> を指定すると、箱の形状が V 字型にえぐれる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">boxplot_demo.py</span></code></dt><dd><p>箱プロットにさまざまなオプションおよび描画スタイルを適用するデモ。</p>
<ul class="simple">
<li><p>ダミーデータは <code class="docutils literal notranslate"><span class="pre">np.random.lognormal</span></code> を利用して生成。正規分布。</p></li>
<li><p>サブプロットを複数作成して、それぞれでメソッド <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> をさまざまなオプションと共に呼び出す。ここでは <code class="docutils literal notranslate"><span class="pre">showmeans</span></code>, <code class="docutils literal notranslate"><span class="pre">showbox</span></code>, <code class="docutils literal notranslate"><span class="pre">meanline</span></code>,
<code class="docutils literal notranslate"><span class="pre">showcaps</span></code>, <code class="docutils literal notranslate"><span class="pre">notch</span></code>, <code class="docutils literal notranslate"><span class="pre">bootstrap</span></code> 等のキーワード引数を指定する。</p></li>
<li><p>描画用の引数として <code class="docutils literal notranslate"><span class="pre">boxprops</span></code>, <code class="docutils literal notranslate"><span class="pre">flierprops</span></code>, <code class="docutils literal notranslate"><span class="pre">medianprops</span></code> がある。いずれも <code class="docutils literal notranslate"><span class="pre">dict</span></code> オブジェクトを渡す前提だ。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Figure.suptitle</span></code> で中央寄せの見出しを図に付ける。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">boxplot_vs_violin_demo.py</span></code></dt><dd><p>バイオリンプロットと箱プロットの比較デモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.violinplot</span></code> によるプロット。ここでは <code class="docutils literal notranslate"><span class="pre">showmeans=False,</span>
<span class="pre">showmedians=True</span></code> としている。これは隣のサブプロットに描く箱プロットととの比較をしやすくしているのだろう。</p></li>
<li><p>バイオリンプロットの一つのデータの形状は、なるほどバイオリンのような輪郭だ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bxp_demo.py</span></code></dt><dd><p>プロットデータ計算と描画を分けて実現するデモ？</p>
<ul class="simple">
<li><p>デモコードの働きは二つ上のデモコードと同じ。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">mpl.cbook.boxplot_stats</span></code> でサンプルデータから統計データ？を計算しておく。</p></li>
<li><p>次にメソッド <code class="docutils literal notranslate"><span class="pre">Axes.bxp</span></code> でこのデータの箱＆ヒゲプロットを描画する。このメソッドの引数は <code class="docutils literal notranslate"><span class="pre">Axes.boxplot</span></code> とかなり共通している。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">errorbars_and_boxes.py</span></code></dt><dd><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.errorbar</span></code> のデモ。</p>
<ul class="simple">
<li><p>このデモでは二次元のダミーデータを用いる。</p></li>
<li><p>四角い部分の描画は <code class="docutils literal notranslate"><span class="pre">PatchCollection</span></code> オブジェクトによる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">errorbar_demo.py</span></code></dt><dd><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.errorbar</span></code> の使い方を説明する基本的なデモ。</p>
<ul class="simple">
<li><p>キーワード引数 <code class="docutils literal notranslate"><span class="pre">xerr</span></code> と <code class="docutils literal notranslate"><span class="pre">yerr</span></code> でそれぞれに対応する軸方向のアイビームの長さを指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">errorbar_demo_features.py</span></code></dt><dd><p>エラー部分の線を対称形にしたり非対称形にしたりするデモ。</p>
<ul class="simple">
<li><p>上のサブプロットはエラーを y 軸方向に、下のサブプロットは x 軸方向にそれぞれ表示する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axies.errorbar</span></code> においてエラー量を指定する引数は <code class="docutils literal notranslate"><span class="pre">xerr</span></code>,
<code class="docutils literal notranslate"><span class="pre">yerr</span></code> である。</p></li>
<li><p>意味はないが、下のサブプロットでは y 軸を対数グラフにしている。
<code class="docutils literal notranslate"><span class="pre">ax1.set_yscale('log')</span></code> による。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">errorbar_limits.py</span></code></dt><dd><p>エラー部分のさまざまなスタイル設定のデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axies.errorbar</span></code> においてキーワード引数 <code class="docutils literal notranslate"><span class="pre">uplims</span></code>, <code class="docutils literal notranslate"><span class="pre">lolims</span></code>,
<code class="docutils literal notranslate"><span class="pre">xlolims</span></code>, <code class="docutils literal notranslate"><span class="pre">xuplims</span></code> を用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_demo_cumulative.py</span></code></dt><dd><p>累積的ヒストグラムのデモ。</p>
<ul class="simple">
<li><p>ヒストグラムをプロットする関数は <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code> だ。この引数の <code class="docutils literal notranslate"><span class="pre">cumulative</span></code>
に <code class="docutils literal notranslate"><span class="pre">True</span></code> を指定すれば累積的になるし、<code class="docutils literal notranslate"><span class="pre">-1</span></code> を指定すれば逆累積ヒストグラムになる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_demo_features.py</span></code></dt><dd><p>別のページで説明したので省略。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_demo_histtypes.py</span></code></dt><dd><p>ヒストグラムのデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">histtype='stepfilled'</span></code> とするとビン同士の間の線がバーの色で塗りつぶされる。</p></li>
<li><p>第 2 引数にビンの幅の <code class="docutils literal notranslate"><span class="pre">list</span></code> オブジェクトを渡すと、ビン間隔が非一様なヒストグラムが描ける。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_demo_multihist.py</span></code></dt><dd><p>複数データを同一のサブプロットに描くデモ。</p>
<p><code class="docutils literal notranslate"><span class="pre">stacked=True</span></code> としたり、データそのものが入れ子の配列だったりといろいろなパターンがある。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">multiple_histograms_side_by_side.py</span></code></dt><dd><p>複数のヒストグラムを同一サブプロット内で一列に並べるデモ。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">violinplot_demo.py</span></code></dt><dd><p>バイオリンプロットのデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.violinplot</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">showmedians</span></code>,
<code class="docutils literal notranslate"><span class="pre">showextrema</span></code>, <code class="docutils literal notranslate"><span class="pre">showmeans</span></code>, <code class="docutils literal notranslate"><span class="pre">bw_method</span></code> のデモ。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="style-sheets">
<h3><a class="toc-backref" href="#id28" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">style_sheets</span></code></a><a class="headerlink" href="#style-sheets" title="Permalink to this heading">¶</a></h3>
<p>モジュール <code class="docutils literal notranslate"><span class="pre">mpl.pyplot.style</span></code> の見本コード集。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">plot_bmh.py</span></code></dt><dd><p>ヒストグラム重ねあわせ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.style.use('bmh')</span></code> を適用。これは <cite>Bayesian Methods for Hackers</cite> という書籍で用いられているテーマだそうだ。</p></li>
<li><p>無意味なデータを生成するのに <code class="docutils literal notranslate"><span class="pre">np.random.beta</span></code> を利用。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">plot_dark_background.py</span></code></dt><dd><p>プロットの背景を黒くするだけのデモ。</p>
<ul class="simple">
<li><p>単に <code class="docutils literal notranslate"><span class="pre">plt.style.use('dark_background')</span></code> するだけで実現できる。このとき、通常は黒塗りで描画される図表要素は白色で描画される。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">plot_fivethirtyeight.py</span></code></dt><dd><p>特に変わったことはない？</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.style.context('fivethirtyeight')</span></code> を適用。この際に <code class="docutils literal notranslate"><span class="pre">with</span></code> ブロックを用いる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">plot_ggplot.py</span></code></dt><dd><p>サブプロット四個。</p>
<ul class="simple">
<li><p>スタイルを <a class="reference external" href="BayesianMethodsforHackers">R</a> の一般的なパッケージである
<strong class="program">ggplot</strong> 風にするのに <code class="docutils literal notranslate"><span class="pre">plt.style.use('ggplot')</span></code> とする。</p></li>
<li><p>スクリプトの docstring の文言が笑える。いちおう許可は取ってあるのか。</p></li>
<li><p>無意味なデータを生成するのに <code class="docutils literal notranslate"><span class="pre">np.random.normal</span></code> と <code class="docutils literal notranslate"><span class="pre">np.random.randint</span></code>
を利用。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">plot_grayscale.py</span></code></dt><dd><p>サブプロット二個でグレースケール。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">plt.style.use('grayscale')</span></code> でよい。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="subplots-axes-and-figures">
<h3><a class="toc-backref" href="#id29" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">subplots_axes_and_figures</span></code></a><a class="headerlink" href="#subplots-axes-and-figures" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">fahrenheit_celsius_scales.py</span></code></dt><dd><p>一つのサブプロットに二種類の目盛を割り当てる見本。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.twinx</span></code> でもう一つの <code class="docutils literal notranslate"><span class="pre">Axes</span></code> を生成する。これと元の
<code class="docutils literal notranslate"><span class="pre">Axes</span></code> を使い分けて華氏と摂氏の目盛を左右の Y 軸に描画する。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.callbacks.connect</span></code> の呼び出しは何だろう。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">subplot_demo.py</span></code></dt><dd><p>サブプロットを二個同一ウィンドウに描画する見本。</p>
<ul class="simple">
<li><p>ここでは関数 <code class="docutils literal notranslate"><span class="pre">plt.subplot</span></code> を <code class="docutils literal notranslate"><span class="pre">(nrows,</span> <span class="pre">ncols,</span> <span class="pre">plot_number)</span></code> 形式で呼び出す。オブジェクト指向的ではなく、状態機械的な手続きで各サブプロットの特性を操作する。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="tests">
<h3><a class="toc-backref" href="#id30" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">tests</span></code></a><a class="headerlink" href="#tests" title="Permalink to this heading">¶</a></h3>
<dl>
<dt><code class="file docutils literal notranslate"><span class="pre">backend_driver.py</span></code></dt><dd><p>見本ディレクトリー配下にあるかなりの数の見本スクリプトを、コマンドラインから指定されたバックエンドを用いて実行するためのスクリプトである。</p>
<p>IPython セッションからの実行例を次に示そう。途中で <kbd class="kbd docutils literal notranslate">Ctrl</kbd> + <kbd class="kbd docutils literal notranslate">C</kbd> して中断した。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="o">%</span><span class="k">run</span> ./backend_driver.py -bqt5agg
<span class="go"> ..\pylab_examples files not tested: agg_buffer.py, agg_buffer_to_array.py, ...</span>
<span class="go"> ..\api files not tested: compound_path.py, demo_affine_image.py, ...</span>
<span class="go"> ..\units files not tested: artist_tests.py, bar_unit_demo.py, basic_units.py, ...</span>
<span class="go"> ..\mplot3d files not tested: contour3d_demo3.py, contourf3d_demo2.py, ...</span>
<span class="go"> testing qt5agg</span>
<span class="go">      driving ..\pylab_examples\accented_text.py</span>
<span class="go"> 9.067790508270264 0</span>
<span class="go">         driving ..\pylab_examples\alignment_test.py</span>
<span class="go"> QObject::~QObject: Timers cannot be stopped from another thread</span>
</pre></div>
</div>
<ul class="simple">
<li><p>コマンドラインオプション <code class="docutils literal notranslate"><span class="pre">-b</span></code> でバックエンドを指定できる。</p></li>
<li><p>コマンドラインオプション <code class="docutils literal notranslate"><span class="pre">-d</span></code> でテスト対象とするサブディレクトリーを指定できる。ただし、一部のディレクトリーにはサンプルコードの漏れがあると思われる。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="text-labels-and-annotations">
<h3><a class="toc-backref" href="#id31" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">text_labels_and_annotations</span></code></a><a class="headerlink" href="#text-labels-and-annotations" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">autowrap_demo.py</span></code></dt><dd><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.text</span></code> のデモ。</p>
<ul class="simple">
<li><p>この関数のキーワード引数はクラス <code class="docutils literal notranslate"><span class="pre">Text</span></code> の特性と対応している。例えば、キーワード引数 <code class="docutils literal notranslate"><span class="pre">wrap=True</span></code> と指定することで、長いテキストを自動的に折り返してくれる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rainbow_text.py</span></code></dt><dd><p>テキストの部分だけを着色するデモ。かなりの工夫をすることになるようだ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mpl.transforms.offset_copy</span></code> なる関数までも動員する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">text_demo_fontdict.py</span></code></dt><dd><p>テキストを入力とする Matplotlib の各種関数にはキーワード引数 <code class="docutils literal notranslate"><span class="pre">fontdict</span></code> があり、利用するフォントの各情報を <code class="docutils literal notranslate"><span class="pre">dict</span></code> オブジェクトに詰め込める。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">unicode_demo.py</span></code></dt><dd><p>テキストを入力とする Matplotlib の各種関数は Unicode を当然のように受け付ける。</p>
</dd>
</dl>
</section>
<section id="ticks-and-spines">
<h3><a class="toc-backref" href="#id32" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">ticks_and_spines</span></code></a><a class="headerlink" href="#ticks-and-spines" title="Permalink to this heading">¶</a></h3>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">spines_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Axes</span></code> は既定で四辺すべてに枠線が引かれるが、これを辺ごとに設定できることを示すデモ。</p>
<ul class="simple">
<li><p>私の見たところ <code class="docutils literal notranslate"><span class="pre">ax1.spines['top'].set_visible(False)</span></code> が効いていない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">spines_demo_bounds.py</span></code></dt><dd><p>さらに辺の一部だけに枠線を引くこともできる。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ax.spines['left'].set_bounds(-1,</span> <span class="pre">1)</span></code> がそれを実現する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">spines_demo_dropped.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Axes</span></code> の枠線を既定の位置からオフセットするようにずらすやり方を示すデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ax.spines['left'].set_position(('outward',</span> <span class="pre">10))</span></code> のようにする。</p></li>
<li><p>プロット用ダミーデータとして乱数 <code class="docutils literal notranslate"><span class="pre">np.random.uniform</span></code> を利用。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">ticklabels_demo_rotation.py</span></code></dt><dd><p>目盛のラベル文字を決めるデモ。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_major_formatter</span></code> 等を使う。さらにクラス
<code class="docutils literal notranslate"><span class="pre">FuncFormatter</span></code> の利用と自作の書式設定関数の作成が必要となる。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_major_locator</span></code> で目盛ラベルの出現に制約をつける。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">tick_labels_from_values.py</span></code></dt><dd><p>目盛のラベルを決めるデモ。</p>
<ul class="simple">
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.xticks</span></code> の二番目の引数として、ラベル文字列からなる <code class="docutils literal notranslate"><span class="pre">list</span></code> オブジェクトを引き渡すことで指定できる。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="units">
<h3><a class="toc-backref" href="#id33" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">units</span></code></a><a class="headerlink" href="#units" title="Permalink to this heading">¶</a></h3>
<p>このディレクトリーの見本コード群はモジュール <code class="file docutils literal notranslate"><span class="pre">basic_units.py</span></code> を定義しておき、それ以外のスクリプトがこれを <code class="docutils literal notranslate"><span class="pre">import</span></code> するという構造である。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">basic_units.py</span></code></dt><dd><p>難しいコードだ。これを理解するのが本題だ。</p>
<ul class="simple">
<li><p>一般利用者が理解するという目的からすると、必要以上に複雑になっている可能性がある。</p></li>
</ul>
</dd>
</dl>
<p>以下はこのモジュールを応用するデモコードだ。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">annotate_with_units.py</span></code></dt><dd><p>距離単位オブジェクトの利用を除けば、注釈矢印のデモコード。一方の矢印は単位系を全て <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> で明示し、他方はラベル座標の単位系を無次元単位で指定しているというもの。</p>
<ul class="simple">
<li><p>さらに両者の引数 <code class="docutils literal notranslate"><span class="pre">textcoords</span></code> の値が異なることに注意。前者は <code class="docutils literal notranslate"><span class="pre">data</span></code> つまり注釈されるオブジェクトの座標系が適用されるのに対して、後者は <code class="docutils literal notranslate"><span class="pre">axes</span>
<span class="pre">fraction</span></code> つまりサブプロット領域の正規化座標系が適用される。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">artist_tests.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Line2D</span></code> 等が座標変換を扱えることを示すデモコード。</p>
<ul class="simple">
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_units</span></code> に <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> を引き渡す。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Line2D</span></code>, <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code>, <code class="docutils literal notranslate"><span class="pre">Text</span></code> それぞれについて、オブジェクトの位置や長さをやはり <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> を用いて指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bar_demo2.py</span></code></dt><dd><p>同一データを座標軸ごとに単位系の異なる複数のサブプロットに描くデモコード。</p>
<ul class="simple">
<li><p>先頭に <code class="docutils literal notranslate"><span class="pre">cms</span> <span class="pre">=</span> <span class="pre">cm</span> <span class="pre">*</span> <span class="pre">np.arange(0,</span> <span class="pre">10,</span> <span class="pre">2)</span></code> というオブジェクトが現れる。これをいずれのサブプロットにおいても棒グラフで描く。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.bar</span></code> のキーワード引数 <code class="docutils literal notranslate"><span class="pre">xunits</span></code> と <code class="docutils literal notranslate"><span class="pre">yunits</span></code> について単位オブジェクト <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> や <code class="docutils literal notranslate"><span class="pre">basic_units.inch</span></code> を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">bar_unit_demo.py</span></code></dt><dd><p>棒グラフだが、データは人間の身長の統計のようだ。</p>
<ul class="simple">
<li><p>モデルデータに単位オブジェクトを含める。</p></li>
<li><p>サブプロットの y 軸にだけ <code class="docutils literal notranslate"><span class="pre">Axis.set_units</span></code> に <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> を引き渡す。</p></li>
<li><p>あとはメソッド <code class="docutils literal notranslate"><span class="pre">Axes.autoscale_view</span></code> が適宜調整してくれるようだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">ellipse_with_units.py</span></code></dt><dd><p>同じ形状を定義した上で <code class="docutils literal notranslate"><span class="pre">Ellipse</span></code> と <code class="docutils literal notranslate"><span class="pre">Arc</span></code> を比較する。</p>
<ul class="simple">
<li><p>中心、長径、短径のすべてを <code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> で定義する。</p></li>
<li><p>サブプロットの座標系単位系は明示的に指定しない。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">evans_test.py</span></code></dt><dd><p>このデモは <code class="file docutils literal notranslate"><span class="pre">basic_units.py</span></code> を必要としない。</p>
<ul class="simple">
<li><p>コードの前半はモジュール <code class="docutils literal notranslate"><span class="pre">mpl.units</span></code> にカスタム単位を登録する方法の見本だ。ユーザーがクラスを二個書く必要があるようだ。</p></li>
<li><p>コードの後半は単位のついたデータ量を、サブプロットに対しては直接単位系を指定せずにプロットする。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">radian_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">basic_units.radians</span></code> と <code class="docutils literal notranslate"><span class="pre">basic_units.degrees</span></code> のデモコード。</p>
<ul class="simple">
<li><p>二つサブプロットを用意しておき、メソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> のキーワード引数
<code class="docutils literal notranslate"><span class="pre">xunits</span></code> に一方は <code class="docutils literal notranslate"><span class="pre">radians</span></code> を、他方には <code class="docutils literal notranslate"><span class="pre">degrees</span></code> を指定してプロットする。その結果、座標軸の目盛ラベルがそれぞれ違って見える。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">units_sample.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">basic_units.cm</span></code> と <code class="docutils literal notranslate"><span class="pre">basic_units.inch</span></code> のデモコード。</p>
<ul class="simple">
<li><p>サブプロットを四個用意して、それぞれのメソッド <code class="docutils literal notranslate"><span class="pre">Axes.plot</span></code> の呼び出しに対してキーワード引数 <code class="docutils literal notranslate"><span class="pre">xunits</span></code> および <code class="docutils literal notranslate"><span class="pre">yunits</span></code> に考えられる組み合わせで単位を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">units_scatter.py</span></code></dt><dd><p>散布図の y 軸にだけカスタム単位を適用するデモコード。</p>
<ul class="simple">
<li><p>サンプルデータの単位は <code class="docutils literal notranslate"><span class="pre">basic_units.secs</span></code> とする。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Axes.scatter</span></code> の <code class="docutils literal notranslate"><span class="pre">yunits</span></code> は <code class="docutils literal notranslate"><span class="pre">basic_units.secs</span></code> とする。</p></li>
<li><p>一番下のサブプロットだけメソッド <code class="docutils literal notranslate"><span class="pre">Axis.set_units</span></code> を呼び出して
<code class="docutils literal notranslate"><span class="pre">basic_units.herz</span></code> を指定する。</p></li>
<li><p>NumPy から <code class="docutils literal notranslate"><span class="pre">UserWarning:</span> <span class="pre">Warning:</span> <span class="pre">converting</span> <span class="pre">a</span> <span class="pre">masked</span> <span class="pre">element</span> <span class="pre">to</span> <span class="pre">nan.</span></code> が生じるが、気にしないでおく。</p></li>
</ul>
</dd>
</dl>
</section>
<section id="user-interfaces">
<h3><a class="toc-backref" href="#id34" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">user_interfaces</span></code></a><a class="headerlink" href="#user-interfaces" title="Permalink to this heading">¶</a></h3>
<p>Matplotlib は wxPython, PyGTK, Tkinter, PyQt4/5 の GUI アプリケーションに直接埋め込むことができることを示すデモコードの集まり。ここでは私の環境で実行できたデモコードをコメントする。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_gtk.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_gtk2.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_gtk3.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_gtk3_panzoom.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_qt4.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">matplotlib.backends.backend_qt4agg.FigureCanvasQTAgg</span></code> のサブクラス化のデモ。</p>
<ul class="simple">
<li><p>PyQt4 だけでなく PyQt5 もインストールされている環境で実行すると
<code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">the</span> <span class="pre">PyQt4.QtCore</span> <span class="pre">and</span> <span class="pre">PyQt5.QtCore</span> <span class="pre">modules</span> <span class="pre">both</span> <span class="pre">wrap</span> <span class="pre">the</span>
<span class="pre">QObject</span> <span class="pre">class</span></code> という例外が発生する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_qt4_wtoolbar.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">matplotlib.backends.backend_qt4agg.NavigationToolbar2QT</span></code> のデモ。実行するとツールバーが下部に付いたウィンドウが表示される。</p>
<ul class="simple">
<li><p>PyQt4 だけでなく PyQt5 もインストールされている環境で実行すると
<code class="docutils literal notranslate"><span class="pre">RuntimeError:</span> <span class="pre">the</span> <span class="pre">PyQt4.QtCore</span> <span class="pre">and</span> <span class="pre">PyQt5.QtCore</span> <span class="pre">modules</span> <span class="pre">both</span> <span class="pre">wrap</span> <span class="pre">the</span>
<span class="pre">QObject</span> <span class="pre">class</span></code> という例外が発生する。</p></li>
<li><p>警告 <code class="docutils literal notranslate"><span class="pre">MatplotlibDeprecationWarning:</span> <span class="pre">This</span> <span class="pre">module</span> <span class="pre">has</span> <span class="pre">been</span> <span class="pre">deprecated</span> <span class="pre">in</span> <span class="pre">1.4</span>
<span class="pre">...</span></code> が出現する。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">FigureCanvasQTAgg</span></code> をこのデモでも当然利用する。このオブジェクトの生成時に <code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトを渡す。キャンバスは <code class="docutils literal notranslate"><span class="pre">QVBoxLayout</span></code> に渡す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">on_draw</span></code> でいちいちサブプロットを生成、描画する。</p></li>
<li><p>キーイベントは <code class="docutils literal notranslate"><span class="pre">on_key_press</span></code> で処理する。ただしツールバー自体も処理したいようなので、そちらにもイベントを横流しする。例えば <kbd class="kbd docutils literal notranslate">S</kbd> を押すと、ファイル保存ダイアログボックスが現れる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_qt5.py</span></code></dt><dd><p>クラス <code class="docutils literal notranslate"><span class="pre">matplotlib.backends.backend_qt5agg.FigureCanvasQTAgg</span></code> のサブクラス化のデモ。</p>
<ul class="simple">
<li><p>最初のモジュールインポート文の感じが <code class="file docutils literal notranslate"><span class="pre">embedding_in_qt4.py</span></code> と異なる。</p></li>
<li><p>サブクラスとして <code class="docutils literal notranslate"><span class="pre">MyMplCanvas</span></code>, <code class="docutils literal notranslate"><span class="pre">MyStaticMplCanvas</span></code>,
<code class="docutils literal notranslate"><span class="pre">MyDynamicMplCanvas</span></code> を定義する。最初のクラスは残りのもののスーパークラスとする。ここで Matplotlib の <code class="docutils literal notranslate"><span class="pre">Figure</span></code> や <code class="docutils literal notranslate"><span class="pre">Axes</span></code> オブジェクトを保持し、
Qt のウィンドウオブジェクトの設定を行う。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">MyStaticMplCanvas</span></code> では単純な正弦波をプロットする。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">MyDynamicMplCanvas</span></code> では Qt のタイマークラスを用いて折れ線プロットのアニメーションを実現する。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">ApplicationWindow</span></code> は Qt アプリケーションでよく見られる
<code class="docutils literal notranslate"><span class="pre">QMainWindow</span></code> のサブクラス。ウィンドウ部品を手動でレイアウトしたり、メニューアイテムを実装したりする。</p></li>
<li><p>最後の数行は PyQt アプリケーションにありがちなメイン関数のコードだ。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_tk.py</span></code></dt><dd><p>現在 Tk の DLL が壊れているのだろうか、Python ごと落ちる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_tk2.py</span></code></dt><dd><p>現在 Tk の DLL が壊れているのだろうか、Python ごと落ちる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_tk_canvas.py</span></code></dt><dd><p>現在 Tk の DLL が壊れているのだろうか、Python ごと落ちる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_wx2.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_wx3.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_wx4.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_in_wx5.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。エラーメッセージが他のものと少々異なる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">embedding_webagg.py</span></code></dt><dd><p>簡単なプロットをブラウザーに表示し、いつものウィンドウでの簡単な操作に加え、各種フォーマットのファイルをダウンロードすることが可能なことを示すデモ。</p>
<ul class="simple">
<li><p>要 Tornado とのこと。実行してみたらファイアーウォールの解除も必要なことがわかる。</p></li>
<li><p>モジュール <code class="docutils literal notranslate"><span class="pre">matplotlib.backends.backend_webagg_core</span></code> からクラスと関数を
<code class="docutils literal notranslate"><span class="pre">import</span></code> する。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">MyApplication</span></code> をクラス <code class="docutils literal notranslate"><span class="pre">tornado.web.Application</span></code> のサブクラスとして定義する。ここは Tornado を学習しないことには何とも言えない。Matplotlib
の <code class="docutils literal notranslate"><span class="pre">Figure</span></code> オブジェクトを関数 <code class="docutils literal notranslate"><span class="pre">new_figure_manager_given_figure</span></code> に渡す。このオブジェクト <code class="docutils literal notranslate"><span class="pre">figure</span></code> が HTML ファイルの対応する部分に埋め込まれる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MyApplication</span></code> のコンストラクターでクラス <code class="docutils literal notranslate"><span class="pre">FigureManagerWebAgg</span></code> のクラスメソッド <code class="docutils literal notranslate"><span class="pre">get_static_file_path</span></code> を用いる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MyApplication</span></code> の内部クラス <code class="docutils literal notranslate"><span class="pre">WebSocket</span></code> が明らかに重要そうなのだが、私にはコードの意味がはっきりとわからない。</p></li>
<li><p>スクリプト実行後に出力される URL をブラウザーに与えればプロットが現れる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">fourier_demo_wx.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">gtk_spreadsheet.py</span></code></dt><dd><p>要 GTK につき実行できない。エラーメッセージが他のものと少々異なる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">histogram_demo_canvasagg.py</span></code></dt><dd><p>無反応？</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">interactive.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">interactive2.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">lineprops_dialog_gtk.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">mathtext_wx.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">mpl_with_glade.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">mpl_with_glade_316.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">pylab_with_gtk.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rec_edit_gtk_custom.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rec_edit_gtk_simple.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">svg_histogram.py</span></code></dt><dd><p>SVG ファイルにヒストグラムを出力し、そこにある凡例の棒をクリックするとプロット上の対応する棒の表示状態が切り替わるというデモ。SVG ファイルに JavaScript を埋め込むので、動作確認にはそれなりのブラウザーが必要。</p>
<ul class="simple">
<li><p>プロット部品に対してメソッド <code class="docutils literal notranslate"><span class="pre">.set_gid</span></code> を呼び出すことで SVG 要素用の ID
を適宜割り振っていく。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.savefig</span></code> にキーワード引数 <code class="docutils literal notranslate"><span class="pre">format=&quot;svg&quot;</span></code> を指定することでファイル風オブジェクトにプロットの内容を SVG 形式で出力する。</p></li>
<li><p>後半は Python 標準ライブラリーにあるクラス <code class="docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code> の機能を利用。 SVG 要素としてのパッチ要素にイベントハンドラーを属性値として設定する。</p></li>
<li><p>JavaScript のコードテンプレートを here string で書いて（デモなので）実引数を与える。関数 <code class="docutils literal notranslate"><span class="pre">json.dumps</span></code> はこういう使い方もするのか。</p></li>
<li><p>最後に <code class="docutils literal notranslate"><span class="pre">ElementTree</span></code> オブジェクトを生成して直ちにメソッド <code class="docutils literal notranslate"><span class="pre">write</span></code> を用いてSVG ファイルを保存する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">svg_tooltip.py</span></code></dt><dd><p>SVG ファイルに図形を含むプロットを出力し、そこにある図形の上にマウスポインターを重ねるとツールチップが出現するというデモ。デモ <code class="file docutils literal notranslate"><span class="pre">svg_histogram.py</span></code> と共通するところが多い。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">toolmanager.py</span></code></dt><dd><p>要 GTK につき実行できない。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">wxcursor_demo.py</span></code></dt><dd><p>要 wxPython 2.8.12 以上とのことなので実行できない。</p>
</dd>
</dl>
</section>
<section id="widgets">
<h3><a class="toc-backref" href="#id35" role="doc-backlink"><code class="file docutils literal notranslate"><span class="pre">widgets</span></code></a><a class="headerlink" href="#widgets" title="Permalink to this heading">¶</a></h3>
<p>ウィンドウ部品のデモコード一式。GUI の学習はここから始めてよい。</p>
<dl class="simple">
<dt><code class="file docutils literal notranslate"><span class="pre">buttons.py</span></code></dt><dd><p>プッシュボタンのデモ。ボタンを押すたびに波形の振動数が増減する。</p>
<ul class="simple">
<li><p>ここでは関数 <code class="docutils literal notranslate"><span class="pre">plt.axes</span></code> をボタンを配置する空間を確保するものとして利用している。戻り値を <code class="docutils literal notranslate"><span class="pre">Button</span></code> コンストラクターの引数に使う。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Button.on_clicked</span></code> に押された時に呼び出される振る舞いを指定する。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">plt.draw</span></code> でサブプロットを更新描画する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">check_buttons.py</span></code></dt><dd><p>チェックボックスのデモ。チェックボックスに対応する波形の表示が切り替わる。</p>
<ul class="simple">
<li><p>スペース確保とイベントハンドラー周りのコードは前回同様。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">CheckButtons</span></code> のコンストラクターには場所とラベルに加えて初期状態も指定する。</p></li>
<li><p>プロットオブジェクトには <code class="docutils literal notranslate"><span class="pre">visible</span></code> のような属性があって、これを関連メソッドで操作する。また、生成時にもキーワード引数で初期値を指示できる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">cursor.py</span></code></dt><dd><p>マウスカーソルの位置に追従してサブプロット上にクロスヘアを描くデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">facecolor</span></code> という例外が生じるので、これを引き起こすコードを削除しておく。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Cursor</span></code> のコンストラクターを適当に呼び出すだけでよい。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">lasso_selector_demo.py</span></code></dt><dd><p>このデモは期待通りに動作しない。投げ縄選択で水玉を囲むデモだと思われる。</p>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">menu.py</span></code></dt><dd><p>メニューのデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'matplotlib.colors'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'to_rgba'</span></code> 例外が生じる。これを解決するために、クラス <code class="docutils literal notranslate"><span class="pre">colors.ColorConverter</span></code> のオブジェクトを導入しておく。</p></li>
<li><p>コードがたいへん込み入っている。未知のクラスを相当利用したデモコードだ。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">MenuItem</span></code> を <code class="docutils literal notranslate"><span class="pre">artist.Artist</span></code> のサブクラスとしてここで実装している。それ以外のユーザー定義クラスは全てが <code class="docutils literal notranslate"><span class="pre">object</span></code> からのサブクラスだ。</p></li>
<li><p>イベントハンドラーの定義はメソッド <code class="docutils literal notranslate"><span class="pre">fig.canvas.mpl_connect</span></code> から行う。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">multicursor.py</span></code></dt><dd><p>マウスカーソルの位置に追従して二つのサブプロット上に縦線を描くデモ。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">MultiCursor</span></code> の最初の引数に <code class="docutils literal notranslate"><span class="pre">fig.canvas</span></code> を指定する。次の引数には対象のサブプロットを含む <code class="docutils literal notranslate"><span class="pre">list</span></code> または <code class="docutils literal notranslate"><span class="pre">tuple</span></code> を指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">radio_buttons.py</span></code></dt><dd><p>ラジオボタンのデモ。各項目に対応する波形の描画スタイルが切り替わる。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">RadioButtons</span></code> を使うコードの構造は <code class="docutils literal notranslate"><span class="pre">Button</span></code> や <code class="docutils literal notranslate"><span class="pre">CheckButtons</span></code>
とよく似る。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">facecolor</span></code> という例外が生じるので、これを引き起こすコードを削除しておく。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">rectangle_selector.py</span></code></dt><dd><p>マウスによる矩形領域選択のデモ。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">RectangleSelector</span></code> を用いる。</p></li>
<li><p>イベントハンドラーの指定がこれまでと異なる。まず <code class="docutils literal notranslate"><span class="pre">RectangleSelector</span></code> コンストラクターの引数に一個、次に関数 <code class="docutils literal notranslate"><span class="pre">plt.connect</span></code> を呼び出してもう一個、という感じだ。前者のハンドラーはマウス操作のコールバックとして、後者のハンドラーはキー操作のコールバックとして指定する。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">slider_demo.py</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Slider</span></code> と <code class="docutils literal notranslate"><span class="pre">RadioButtons</span></code> のデモ。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">facecolor</span></code> という例外が生じるので、これを引き起こすコードを削除しておく。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Slider</span></code> の使い方はこれまでの widget と大体同じ。イベントハンドラーは <code class="docutils literal notranslate"><span class="pre">on_changed</span></code> となる。</p></li>
</ul>
</dd>
<dt><code class="file docutils literal notranslate"><span class="pre">span_selector.py</span></code></dt><dd><p>サブプロット上の横幅をマウスで選択するデモ。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">SpanSelector</span></code> を用いる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">Unknown</span> <span class="pre">property</span> <span class="pre">facecolor</span></code> という例外が生じるので、これを引き起こすコードを削除しておく。</p></li>
</ul>
</dd>
</dl>
</section>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="advanced.html" title="Previous document">応用テク</a>
        </li>
        <li>
          <a href="config.html" title="Next document">環境設定</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">読書ノート</a></h1>



<p class="blurb">個人的な読書、学習、研究ノート。</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mathseminar72.html">数学 100 の発見 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gamma95/index.html">オブジェクト指向における再利用のためのデザインパターン改訂版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hunt00/index.html">達人プログラマー 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter00.html">Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alexandrescu01/index.html">Modern C++ Design 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meyers01.html">Effective STL 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter02.html">More Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../joel04/index.html">Joel on Software 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graham04.html">ハッカーと画家 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../angel05/index.html">OpenGL: A Primer Second Edition 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yamamoto05/index.html">入門 xyzzy 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newham05/index.html">入門 bash 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi05/index.html">幾何学 I 多様体入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subramaniam06.html">アジャイルプラクティス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asaoka06.html">SE・製造技術者・理工系学生のための技術文書の作り方・書き方 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levin06/index.html">Shaping Functions 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi08/index.html">幾何学 III 微分形式 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loeliger09.html">実用 Git 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../griffiths10.html">プログラミング C# 第 6 版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onodera10.html">ORACLE MASTER Bronze 11g SQL 基礎 I 必修教本 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosoda10/index.html">Python 入門［２＆３対応］読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nishiyama12/index.html">幾何学と不変量 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../omg15/index.html">Unified Modeling Language 2.5 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gorelick14.html">ハイパフォーマンス Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stroustrup14.html">C++ のエッセンス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepanov15.html">その数式、プログラムできますか？ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos15/index.html">WebGL Specification 1.0 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vivo15/index.html">The Book of Shaders 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saha16.html">Python からはじめる数学入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slatkin16.html">Effective Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guntheroth16.html">Optimized C++ 下読みノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speinellis17.html">Effective Debugging 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bancila18.html">Modern C++ チャレンジ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haverbeke18/index.html">Eloquent JavaScript 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos18/index.html">OpenGL Shading Language 4.60 Specification 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kantor22/index.html">The Modern JavaScript Tutorial 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ou23/index.html">Modern C++ Tutorial: C++ 11/14/17/20 On the Fly 読書ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2014.html">ノート準備中書籍群 2014 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2015.html">ノート準備中書籍群 2015 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2016.html">ノート準備中書籍群 2016 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2017.html">ノート準備中書籍群 2017 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2018.html">ノート準備中書籍群 2018 年編</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bash-v2.html">What’s New In Bash 2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v3.html">What’s New In Bash 3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v4.html">What’s New In Bash 4 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v5.html">What’s New In Bash 5 ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cpp11/index.html">What’s New In C++11 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp14/index.html">What’s New In C++14 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp17/index.html">What’s New In C++17 ノート</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../python-3.0.html">What’s New In Python 3.0 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.1.html">What’s New In Python 3.1 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.2.html">What’s New In Python 3.2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.3.html">What’s New In Python 3.3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.4.html">What’s New In Python 3.4 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.5.html">What’s New In Python 3.5 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.6.html">What’s New In Python 3.6 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.7.html">What’s New In Python 3.7 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.8.html">What’s New In Python 3.8 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.9.html">What’s New In Python 3.9 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.10.html">What’s New In Python 3.10 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pip.html">pip 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pylint.html">Pylint 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-docutils/index.html">Docutils 解読ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-restview.html">Restview 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-nose.html">Nose 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-ipython.html">IPython 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jupyter.html">Jupyter 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-numpy/index.html">NumPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scipy/index.html">SciPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-sympy/index.html">SymPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-apgl.html">Another Python Graph Library (APGL) 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pil.html">PIL 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pillow.html">Pillow 利用ノート</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Matplotlib 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-networkx/index.html">NetworkX 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-quaternion.html">Quaternion 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jinja2.html">Jinja2 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygments.html">Pygments 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-bs4.html">BeautifulSoup4 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-selenium.html">Selenium 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scrapy.html">Scrapy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-twitter/index.html">Python Twitter Tools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-isbn-hyphenate.html">isbn-hyphenate 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyopengl/index.html">PyOpenGL 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt4.html">PyQt4 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt5.html">PyQt5 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pandas/index.html">Pandas 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygame.html">Pygame 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pytube.html">Pytube 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../youtube-dl.html">youtube-dl 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-py2exe.html">Py2exe 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-upgrade.html">Python 移行ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-miniconda.html">Miniconda 利用ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../freeware.html">Windows 用フリーウェア 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../google-ime.html">Google 日本語入力利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deepl-translator.html">DeepL Translator 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../winget.html">Windows Package Manager CLI 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powertoys/index.html">Microsoft PowerToys 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows-terminal.html">Windows Terminal 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wsl.html">Windows Subsystem for Linux 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wslg.html">Windows Subsystem for Linux GUI 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vscode/index.html">Visual Studio Code 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cygwin.html">Cygwin 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chrome.html">Chrome DevTools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">Git 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oh-my-posh.html">Oh My Posh 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../twitter.html">Twitter 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inkscape/index.html">Inkscape 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ffmpeg/index.html">FFmpeg 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mathjax.html">MathJax 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript-mermaid/index.html">Mermaid 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../css-selector.html">CSS セレクター学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xpath.html">XPath 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hxutils.html">HTML-XML-utils 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webgl.html">WebGL 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandoc.html">Pandoc 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zoom.html">Zoom Cloud Meetings 利用ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../milestone09/index.html">ラジルギノア プレイノート</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Matplotlib 利用ノート</a><ul>
      <li>Previous: <a href="advanced.html" title="previous chapter">応用テク</a></li>
      <li>Next: <a href="config.html" title="next chapter">環境設定</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2023, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>