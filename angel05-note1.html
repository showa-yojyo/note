<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenGL: A Primer Second Edition 読書ノート 1/4 &mdash; 読書ノート v1.2.1</title>
    
    <link rel="stylesheet" href="_static/prefab.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/twitter-button.js"></script>
    <link rel="top" title="読書ノート v1.2.1" href="index.html" />
    <link rel="up" title="OpenGL: A Primer Second Edition 読書ノート" href="angel05.html" />
    <link rel="next" title="OpenGL: A Primer Second Edition 読書ノート 2/4" href="angel05-note2.html" />
    <link rel="prev" title="OpenGL: A Primer Second Edition 読書ノート" href="angel05.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">読書ノート v1.2.1</a> &raquo;</li>
          <li><a href="angel05.html" accesskey="U">OpenGL: A Primer Second Edition 読書ノート</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="opengl-a-primer-second-edition-1-4">
<h1><a class="toc-backref" href="#id2">OpenGL: A Primer Second Edition 読書ノート 1/4</a><a class="headerlink" href="#opengl-a-primer-second-edition-1-4" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">著者:</th><td class="field-body">Edward Angel</td>
</tr>
<tr class="field-even field"><th class="field-name">出版社:</th><td class="field-body">Peason Education, Inc.</td>
</tr>
<tr class="field-odd field"><th class="field-name">ISBN:</th><td class="field-body">0-321-26982-9</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="id1">
<p class="topic-title first">ノート目次</p>
<ul class="simple">
<li><a class="reference internal" href="#opengl-a-primer-second-edition-1-4" id="id2">OpenGL: A Primer Second Edition 読書ノート 1/4</a><ul>
<li><a class="reference internal" href="#preface" id="id3">Preface</a></li>
<li><a class="reference internal" href="#introduction" id="id4">Introduction</a><ul>
<li><a class="reference internal" href="#the-opengl-api" id="id5">The OpenGL API</a></li>
<li><a class="reference internal" href="#three-views-of-opengl" id="id6">Three Views of OpenGL</a><ul>
<li><a class="reference internal" href="#the-opengl-state-machine" id="id7">The OpenGL State Machine</a></li>
<li><a class="reference internal" href="#the-opengl-pipeline" id="id8">The OpenGL Pipeline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-s-in-opengl" id="id9">What&#8217;s in OpenGL</a></li>
<li><a class="reference internal" href="#opengl-versions-and-extensions" id="id10">OpenGL Versions and Extensions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#two-dimensional-programming-in-opengl" id="id11">Two-Dimensional Programming in OpenGL</a><ul>
<li><a class="reference internal" href="#a-simple-program" id="id12">A Simple Program</a></li>
<li><a class="reference internal" href="#glut" id="id13">GLUT</a></li>
<li><a class="reference internal" href="#event-loops-and-callback-functions" id="id14">Event Loops and Callback Functions</a></li>
<li><a class="reference internal" href="#drawing-a-rectangle" id="id15">Drawing a Rectangle</a></li>
<li><a class="reference internal" href="#changing-the-glut-defaults" id="id16">Changing the GLUT Defaults</a></li>
<li><a class="reference internal" href="#color-in-opengl" id="id17">Color in OpenGL</a><ul>
<li><a class="reference internal" href="#color-and-state" id="id18">Color and State</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coorinate-system-differences-between-glut-and-opengl" id="id19">Coorinate System Differences Between GLUT and OpenGL</a></li>
<li><a class="reference internal" href="#two-dimensional-viewing" id="id20">Two-Dimensional Viewing</a></li>
<li><a class="reference internal" href="#the-viewport" id="id21">The Viewport</a></li>
<li><a class="reference internal" href="#coordinate-systems-and-transformations" id="id22">Coordinate Systems and Transformations</a></li>
<li><a class="reference internal" href="#primitives-and-attributes" id="id23">Primitives and Attributes</a><ul>
<li><a class="reference internal" href="#points" id="id24">Points</a></li>
<li><a class="reference internal" href="#lines" id="id25">Lines</a></li>
<li><a class="reference internal" href="#enabling-opengl-features" id="id26">Enabling OpenGL Features</a></li>
<li><a class="reference internal" href="#filled-primitives" id="id27">Filled Primitives</a></li>
<li><a class="reference internal" href="#rectangles" id="id28">Rectangles</a></li>
<li><a class="reference internal" href="#polygon-stipple" id="id29">Polygon Stipple</a></li>
</ul>
</li>
<li><a class="reference internal" href="#polygon-types" id="id30">Polygon Types</a></li>
<li><a class="reference internal" href="#color-interpolation" id="id31">Color Interpolation</a><ul>
<li><a class="reference internal" href="#tessellation-and-edge-flags" id="id32">Tessellation and Edge Flags</a></li>
<li><a class="reference internal" href="#tessellation-and-subdivision" id="id33">Tessellation and Subdivision</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text" id="id34">Text</a></li>
<li><a class="reference internal" href="#querues-and-errors" id="id35">Querues and Errors</a></li>
<li><a class="reference internal" href="#saving-the-state" id="id36">Saving the State</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interaction-and-animation" id="id37">Interaction and Animation</a><ul>
<li><a class="reference internal" href="#the-reshape-callback" id="id38">The Reshape Callback</a></li>
<li><a class="reference internal" href="#the-idle-callback" id="id39">The Idle Callback</a></li>
<li><a class="reference internal" href="#a-rotating-square" id="id40">A Rotating Square</a></li>
<li><a class="reference internal" href="#double-buffering" id="id41">Double Buffering</a></li>
<li><a class="reference internal" href="#using-the-keyboard" id="id42">Using the Keyboard</a><ul>
<li><a class="reference internal" href="#special-keys" id="id43">Special Keys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-the-mouse-callback" id="id44">Using the Mouse Callback</a></li>
<li><a class="reference internal" href="#mouse-motion" id="id45">Mouse Motion</a></li>
<li><a class="reference internal" href="#the-null-callback" id="id46">The NULL Callback</a></li>
<li><a class="reference internal" href="#subwindows-and-multiple-windows" id="id47">Subwindows and Multiple Windows</a></li>
<li><a class="reference internal" href="#display-lists" id="id48">Display Lists</a><ul>
<li><a class="reference internal" href="#multiple-display-lists" id="id49">Multiple Display Lists</a></li>
<li><a class="reference internal" href="#display-lists-and-text" id="id50">Display Lists and Text</a></li>
<li><a class="reference internal" href="#display-lists-and-objects" id="id51">Display Lists and Objects</a></li>
<li><a class="reference internal" href="#picking-and-selection-mode" id="id52">Picking and Selection Mode</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="preface">
<h2><a class="toc-backref" href="#id3">Preface</a><a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>赤本と青本<ul>
<li>&lt;the OpenGL Progamning Guide, Fourth Edition (Addison-Wesley), the &#8220;red book&#8221;&gt;</li>
<li>&lt;the OpenGL 1.4 Reference Manual, Fourth Edition (Addison-Wesley), the &#8220;blue book&#8221;&gt;</li>
</ul>
</li>
<li>OpenGL ARB については後で説明あり。</li>
<li>&lt;it is much easier to get started with OpenGL and use it to master the basic concepts.
For those of us who work with scientific applications and in a cross platform environment,
OpenGL is the API of choice&gt; (p. xvi)</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>&lt;OpenGL is an interactive computer graphics system that allows programmers to write
programs that access graphics hardware.  OpenGL has two important benefits for
application programmers.  It is close enough to the hardware so that programs written
with OpenGL run effectively, and OpenGL is easy to learn and use&gt; (p. 1)</p>
<div class="section" id="the-opengl-api">
<h3><a class="toc-backref" href="#id5">The OpenGL API</a><a class="headerlink" href="#the-opengl-api" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;OpenGL came from an interface called GL, short for Graphics Library, originally
developed for Silicon Graphics Inc. (SGI) hardware&gt; (p. 1)</li>
<li>OpenGL にはアプリを組むためにある 200 を越える関数がある。</li>
<li>この本ではレンダリングを以下のように説明している。
&lt;taking the specification of geometric objects and their properties and
forming a picture of them with a virtual camera and lights&gt; (p. 2)</li>
<li>GLUT について、T が Toolkit の頭文字であることを記憶する。</li>
<li>&lt;Rather than write platform-dependent code, we shall use a simple toolkit,
the OpenGL Utility Toolkit (GLUT)&gt; (p.1)</li>
</ul>
</div>
<div class="section" id="three-views-of-opengl">
<h3><a class="toc-backref" href="#id6">Three Views of OpenGL</a><a class="headerlink" href="#three-views-of-opengl" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-opengl-state-machine">
<h4><a class="toc-backref" href="#id7">The OpenGL State Machine</a><a class="headerlink" href="#the-opengl-state-machine" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>OpenGL を State Machine として考えることができる。</li>
</ul>
</div>
<div class="section" id="the-opengl-pipeline">
<h4><a class="toc-backref" href="#id8">The OpenGL Pipeline</a><a class="headerlink" href="#the-opengl-pipeline" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>OpenGL はパイプラインモデルをベースにしている。
入力を Vertices とし、出力を Pixels となるようなパイプラインだ。</li>
</ul>
</div>
</div>
<div class="section" id="what-s-in-opengl">
<h3><a class="toc-backref" href="#id9">What&#8217;s in OpenGL</a><a class="headerlink" href="#what-s-in-opengl" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">OpenGL 関数のカテゴライズ</p>
<ol class="arabic simple">
<li>Primitve functions - イメージを生み出す要素を定義する関数
geometric と image の二通りがある。</li>
<li>Attribute functions - プリミティヴの見てくれをコントロールする関数
色、線の種類、材質、光源、テクスチャー等。</li>
<li>Viewing functions - カメラの性質を定義する関数</li>
<li>Windowing functions -
こういう関数は GLUT に入っている。</li>
<li>Control functions - OpenGL の色々な機能を有効にする関数</li>
</ol>
<p>このうち、2. から 5. までが state-changing な関数だ。</p>
</li>
</ul>
</div>
<div class="section" id="opengl-versions-and-extensions">
<h3><a class="toc-backref" href="#id10">OpenGL Versions and Extensions</a><a class="headerlink" href="#opengl-versions-and-extensions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>OpenGL は OpenGL Architectural Review Board (ARB) がコントロールする。</li>
<li>ARB は Silicon Graphics, IBM, NVIDIA といったメーカーから来たメンバーを持つ。</li>
<li>OpenGL extensions は後回しでいいや。</li>
</ul>
</div>
</div>
<div class="section" id="two-dimensional-programming-in-opengl">
<h2><a class="toc-backref" href="#id11">Two-Dimensional Programming in OpenGL</a><a class="headerlink" href="#two-dimensional-programming-in-opengl" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a-simple-program">
<h3><a class="toc-backref" href="#id12">A Simple Program</a><a class="headerlink" href="#a-simple-program" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;GLX for X Windows, wgl for Windows, and agl for the Macintosh&gt; (p. 11)</li>
</ul>
</div>
<div class="section" id="glut">
<h3><a class="toc-backref" href="#id13">GLUT</a><a class="headerlink" href="#glut" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Figure 2.2 では GLUT 層が GLX or WGL or AGL 層を完全にラップしている。
GLUT を利用することで、プラットフォーム間の垣根を越える。</li>
<li>&lt;Depending on the platform, GLUT uses glX, wgl, or agl&gt; (p. 13)</li>
</ul>
</div>
<div class="section" id="event-loops-and-callback-functions">
<h3><a class="toc-backref" href="#id14">Event Loops and Callback Functions</a><a class="headerlink" href="#event-loops-and-callback-functions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">glutInit</span></tt> は他のいかなる GLUT と OpenGL 関数呼び出しの前に呼ぶこと。</li>
<li><tt class="docutils literal"><span class="pre">glutCreateWindow</span></tt> によるウィンドウのサイズは 300 x 300 pixels</li>
<li>イベントキューという用語を憶える。</li>
<li>コールバック関数。どうしてもグローバル変数の世話にならざるを得ない。</li>
<li><tt class="docutils literal"><span class="pre">glutMainLoop</span></tt> の呼び出し行以降の行は、実行されない。</li>
</ul>
</div>
<div class="section" id="drawing-a-rectangle">
<h3><a class="toc-backref" href="#id15">Drawing a Rectangle</a><a class="headerlink" href="#drawing-a-rectangle" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;The fundamental entity for specifying geometric objects is the vertex,
a location in space.  Simple geometric objects such as lines and polygons
can be specified through a collection of vertices&gt; (p. 15)</li>
<li>&lt;OpenGL puts the rendered image in an area of memory called a <strong>color buffer</strong>
that usually resides on the graphics card.  Color buffers are one of a
number of types of buffers that make up the <strong>frame buffer</strong>&gt; (p. 16)</li>
</ul>
</div>
<div class="section" id="changing-the-glut-defaults">
<h3><a class="toc-backref" href="#id16">Changing the GLUT Defaults</a><a class="headerlink" href="#changing-the-glut-defaults" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutInitDisplayMode(mode)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_(RGB|INDEX|SINGLE|DOUBLE)</span></tt>, etc.</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutInitWindowSize(width,</span> <span class="pre">height)</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutInitWindowPosition(x,</span> <span class="pre">y)</span></tt></p>
</li>
</ul>
</div>
<div class="section" id="color-in-opengl">
<h3><a class="toc-backref" href="#id17">Color in OpenGL</a><a class="headerlink" href="#color-in-opengl" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;In RGBA mode, we use a fourth color component, A or alpha, which is
an opacity&gt; (p. 18)</li>
<li>Opacity というのは日本語にないような。透明度の裏の概念というか。</li>
</ul>
<div class="section" id="color-and-state">
<h4><a class="toc-backref" href="#id18">Color and State</a><a class="headerlink" href="#color-and-state" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">&lt;colors are not attached to objects but rather to the internal state
of OpenGL&gt; (p. 20)</p>
<p>OpenGL の世界では色もまた状態なのだ。</p>
</li>
<li><p class="first">&lt;OpenGL actually has only one internal form for the present color,
which is in RGBA form, usually a floating point number for each color
component&gt; (p. 20)</p>
</li>
<li><p class="first">どんな <tt class="docutils literal"><span class="pre">glColor</span></tt> 関数を利用しようが、内部的なデータの形式は一つしかない。
<tt class="docutils literal"><span class="pre">glColor3i</span></tt> のほうが <tt class="docutils literal"><span class="pre">glColor4fv</span></tt> より軽いなどということはないようだ。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="coorinate-system-differences-between-glut-and-opengl">
<h3><a class="toc-backref" href="#id19">Coorinate System Differences Between GLUT and OpenGL</a><a class="headerlink" href="#coorinate-system-differences-between-glut-and-opengl" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ウィンドウの Y 軸の正の方向について、OpenGL の座標系と GLUT の座標系では逆。</li>
</ul>
</div>
<div class="section" id="two-dimensional-viewing">
<h3><a class="toc-backref" href="#id20">Two-Dimensional Viewing</a><a class="headerlink" href="#two-dimensional-viewing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">gluOrtho2D(left,</span> <span class="pre">right,</span> <span class="pre">bottom,</span> <span class="pre">top)</span></tt></li>
<li><tt class="docutils literal"><span class="pre">gluOrtho2D</span></tt> によって定義する矩形をクリッピングウィンドウと呼ぶ。</li>
</ul>
</div>
<div class="section" id="the-viewport">
<h3><a class="toc-backref" href="#id21">The Viewport</a><a class="headerlink" href="#the-viewport" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glViewport(x,</span> <span class="pre">y,</span> <span class="pre">width,</span> <span class="pre">height)</span></tt></p>
<p>ウィンドウのどの部分を canvas とするのかを指定する。
通常はウィンドウ全域を <tt class="docutils literal"><span class="pre">glViewport</span></tt> に渡すが、二次元的にイメージを描く場合などは、
本当にウィンドウの特定部分を指定することが多い。</p>
</li>
</ul>
</div>
<div class="section" id="coordinate-systems-and-transformations">
<h3><a class="toc-backref" href="#id22">Coordinate Systems and Transformations</a><a class="headerlink" href="#coordinate-systems-and-transformations" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;The function <tt class="docutils literal"><span class="pre">gluOrtho2D</span></tt> is used to specify a projection matrix for two-
dimensional applications&gt; (p. 23)</p>
</li>
<li><p class="first">まず間違いなく以下の手順で利用する。</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">glMatrixMode</span><span class="p">(</span><span class="n">GL_PROJECTION</span><span class="p">);</span>
<span class="n">glLoadIdentity</span><span class="p">();</span>
<span class="n">gluOrtho2D</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">top</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">&lt;In OpenGL, there are three basic types of geometric primitives:
points, line segments, and polygons&gt; (p. 26)</p>
<p>たった三種類しかないのだ。</p>
</li>
</ul>
</div>
<div class="section" id="primitives-and-attributes">
<h3><a class="toc-backref" href="#id23">Primitives and Attributes</a><a class="headerlink" href="#primitives-and-attributes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;in fact, OpenGL regards attributes as part of its state&gt; (p. 26)
アトリビュートも他の何かと同様に「状態」ということ。</li>
</ul>
<div class="section" id="points">
<h4><a class="toc-backref" href="#id24">Points</a><a class="headerlink" href="#points" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPointSize(size)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">size:</th><td class="field-body">サイズはスクリーンピクセル単位</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPointSize</span></tt> は <tt class="docutils literal"><span class="pre">glBegin</span></tt> と <tt class="docutils literal"><span class="pre">glEnd</span></tt> の間に入れない。</p>
</li>
</ul>
</div>
<div class="section" id="lines">
<h4><a class="toc-backref" href="#id25">Lines</a><a class="headerlink" href="#lines" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">線分は三種類のタイプしかない。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">GL_LINES</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_LINE_STRIP</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_LINE_LOOP</span></tt></li>
</ul>
</li>
<li><p class="first">線分の属性は</p>
<ol class="arabic simple">
<li>色</li>
<li>線幅</li>
<li>パターン</li>
</ol>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glLineWidth(width)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">width:</th><td class="field-body">幅はピクセル単位で与える。</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glLineStipple(factor,</span> <span class="pre">pattern)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">factor:</th><td class="field-body">パターンの繰り返し回数。1 から 256 の間の値。</td>
</tr>
<tr class="field-even field"><th class="field-name">pattern:</th><td class="field-body">line stipple のビットパターン (16 bit) の与え方をおさえておくこと。</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="enabling-opengl-features">
<h4><a class="toc-backref" href="#id26">Enabling OpenGL Features</a><a class="headerlink" href="#enabling-opengl-features" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">OpenGL の機能の中には、明示的にそれを有効にしなければ利用できないものがある。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glEnable(feature)</span></tt> で機能 feature を ON にする。</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">glEnable</span><span class="p">(</span><span class="n">GL_LINE_STIPPLE</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glDisable(feature)</span></tt> で機能 feature を OFF にする。</p>
</li>
</ul>
</div>
<div class="section" id="filled-primitives">
<h4><a class="toc-backref" href="#id27">Filled Primitives</a><a class="headerlink" href="#filled-primitives" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">ポリゴン。六種類のタイプがある。
このノートには敢えて書かないが、説明の英文は丸暗記しておきたい。</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">GL_POLYGON</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_TRIANGLES</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_TRIANGLE_STRIP</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_TRIANGLE_FAN</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_QUADS</span></tt></li>
<li><tt class="docutils literal"><span class="pre">GL_QUAD_STRIP</span></tt></li>
</ul>
</li>
<li><p class="first">STRIP 系の図形描画は、関数呼び出しの回数が少なく済むという利点がある。</p>
<p>&lt;many CAD applications generate triangles or quadrilaterals with shared
edges.  Strip primitives allow us to define these primitives with far
fewer OpenGL function calls than if we had to treat each as a separate
polygon&gt; (p. 30)</p>
</li>
</ul>
</div>
<div class="section" id="rectangles">
<h4><a class="toc-backref" href="#id28">Rectangles</a><a class="headerlink" href="#rectangles" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>長方形を描くのなら <tt class="docutils literal"><span class="pre">glRect</span></tt> で済む場合がある。
<tt class="docutils literal"><span class="pre">glVertex</span></tt> を四回書かなくて済むし、おすすめ。</li>
</ul>
</div>
<div class="section" id="polygon-stipple">
<h4><a class="toc-backref" href="#id29">Polygon Stipple</a><a class="headerlink" href="#polygon-stipple" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">polygon stipple の模様は、プリミティブを回転しても回転しない。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glEnable(GL_POLYGON_STIPPLE)</span></tt> で有効にする。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPolygonStipple(mask)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mask:</th><td class="field-body">32 x 32 ビットのパターン。</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="section" id="polygon-types">
<h3><a class="toc-backref" href="#id30">Polygon Types</a><a class="headerlink" href="#polygon-types" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">塗りつぶしポリゴンを描くときには、その形状に気をつける点がある。
&lt;<strong>simple polygons</strong> &#8211; polygons whose edges do not cross &#8211; two different
OpenGL implementations may render them differently&gt; (p. 31)</p>
</li>
<li><p class="first">&lt;Convex polygons are much easier to render&gt; (p. 32)</p>
</li>
<li><p class="first">面には表と裏がある。それらを描画し分ける手段がある。</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPolygonMode(face,</span> <span class="pre">mode)</span></tt> - 面をどう描くか</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">face:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(FRONT|BACK|FRONT_AND_BACK)</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(POINT|LINE|FILL)</span></tt></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glCullFace(mode)</span></tt> - 描くか否か</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(FRONT|BACK|FRONT_AND_BACK)</span></tt></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glFrontFace(mode)</span></tt> - 面の表裏をどう定義するか</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(CCW|CW)</span></tt></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li><p class="first">&lt;By default, a front face is one in which the order of the vertices is
counter-clockwise when we view the polygon.  A back face is one in which
the vertices are specified in a clockwise order.  These definitions
make sense for convex polygons&gt; (p. 32)</p>
</li>
<li><p class="first">&lt;In OpenGL, the edges of a polygon are part of the inside of the polygon&gt; (p. 33)</p>
</li>
<li><p class="first">塗りつぶしと線の描画を重ねあわすことについて、
場合によってはポリゴンオフセットをかけないと美しくないかも。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPolygonOffset(factor,</span> <span class="pre">units)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">factor, units:</th><td class="field-body">謎のパラメータ。</td>
</tr>
</tbody>
</table>
<p><tt class="docutils literal"><span class="pre">glPolygonOffset</span></tt> 関数は次のようにして利用する。</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">glPolygonOffset</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
<span class="n">glEnable</span><span class="p">(</span><span class="n">GL_POLYGON_OFFSET_LINE</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="color-interpolation">
<h3><a class="toc-backref" href="#id31">Color Interpolation</a><a class="headerlink" href="#color-interpolation" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;The default is to use smooth shading where OpenGL will interpolate the colors
at the vertices to obtain the color of intermediate pixels&gt; (p. 34)</p>
</li>
<li><p class="first">OpenGL がポリゴンに対して何らかの補間を行うときは、大抵は bilinear interpolation だ。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glShadeModel(mode)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(SMOOTH|FLAT)</span></tt></td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="section" id="tessellation-and-edge-flags">
<h4><a class="toc-backref" href="#id32">Tessellation and Edge Flags</a><a class="headerlink" href="#tessellation-and-edge-flags" title="Permalink to this headline">¶</a></h4>
<p><tt class="docutils literal"><span class="pre">glEdgeFlag</span></tt> と tessellation, subdivision の話が続く。</p>
</div>
<div class="section" id="tessellation-and-subdivision">
<h4><a class="toc-backref" href="#id33">Tessellation and Subdivision</a><a class="headerlink" href="#tessellation-and-subdivision" title="Permalink to this headline">¶</a></h4>
<p>subdivision は図形にねじれを加えるような画像効果を実現する手段として利用できるようだ。</p>
</div>
</div>
<div class="section" id="text">
<h3><a class="toc-backref" href="#id34">Text</a><a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">フォントには bitmap と stroke の二種類がある。</p>
</li>
<li><p class="first">bitmap は高速に描画できるが、スケーリング等の変換がかけられない。
stroke はその逆の長所短所がある。</p>
</li>
<li><p class="first">フォントはシステム依存のものなので、GLUT がその辺をカバーしてくれている。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutBitmapCharacter(font,</span> <span class="pre">character)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">font:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_BITMAP_TIMES_ROMAN_10</span></tt> のようなシンボルを指定する。</td>
</tr>
<tr class="field-even field"><th class="field-name">character:</th><td class="field-body">一文字を指定する。</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Raster position は左下原点</p>
</li>
<li><p class="first">&lt;The current raster position is offset automatically so that the next
character will not be rendered on top of the previous one&gt; (p. 44)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glRasterPos(xyzw)</span></tt> - ラスター位置を設定する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutBitmapWidth(font,</span> <span class="pre">character)</span></tt> - 文字幅をピクセル値で返す。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutStrokeCharacter(font,</span> <span class="pre">character)</span></tt> - ストロークフォントにて文字を描画する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutStrokeWidth(font,</span> <span class="pre">character)</span></tt> - 文字幅をビット単位で返す。</p>
</li>
<li><p class="first">ストローク系のフォントサイズは単位がよくわからないので注意。
StrokeWidth の 1 が世界座標系の長さ単位の 100 程度とのこと。</p>
</li>
</ul>
</div>
<div class="section" id="querues-and-errors">
<h3><a class="toc-backref" href="#id35">Querues and Errors</a><a class="headerlink" href="#querues-and-errors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">glGet(Boolean|Integer|Float|Double|Pointer)</span></tt> 系の話はノート省略。</li>
<li><tt class="docutils literal"><span class="pre">glGetError</span></tt> と <tt class="docutils literal"><span class="pre">gluErrorString</span></tt> はデバッグのために憶えておく。
これらを組み合わせてエラーを知る。</li>
<li>GLUT の状態は <tt class="docutils literal"><span class="pre">glutGet</span></tt> で得る。</li>
</ul>
</div>
<div class="section" id="saving-the-state">
<h3><a class="toc-backref" href="#id36">Saving the State</a><a class="headerlink" href="#saving-the-state" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>OpenGL はステートマシーンなので、プログラムを書いていると、
各種状態をちょっと前の時点のものに戻したいくなる状況になることがよくある。</li>
<li>行列の（成分という意味での）状態に関しては、
<tt class="docutils literal"><span class="pre">glPushMatrix</span></tt>, <tt class="docutils literal"><span class="pre">glPopMatrix</span></tt> が利用できる。
各行列モードに対して、行列スタックが存在する。
one pop for each one push ルールを肝に銘じること。</li>
<li>各種属性に関しては <tt class="docutils literal"><span class="pre">glPushAttrib</span></tt>, <tt class="docutils literal"><span class="pre">glPopAttrib</span></tt> を利用できる。
全属性状態を一気に push することも可能だが、
通常は必要なものだけを push するのだろう。
引数がビットマスクなので、適切な値を指示することに慣れる必要がある。</li>
</ul>
</div>
</div>
<div class="section" id="interaction-and-animation">
<h2><a class="toc-backref" href="#id37">Interaction and Animation</a><a class="headerlink" href="#interaction-and-animation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-reshape-callback">
<h3><a class="toc-backref" href="#id38">The Reshape Callback</a><a class="headerlink" href="#the-reshape-callback" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;Within the loop, the program responds to discrete events
involving the keyboard and the mouse through callback functions that
the application programer writes&gt; (p. 49)</p>
</li>
<li><p class="first">&lt;This action generates a window event that is handled by the reshape
callback&gt; (p. 49)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutReshapeFunc(f)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)(int</span> <span class="pre">width,</span> <span class="pre">int</span> <span class="pre">height)</span></tt> 型の関数のアドレス。
&lt;A display callback is invoked automatically after executing <tt class="docutils literal"><span class="pre">f()</span></tt>&gt; (p. 49)</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">&lt;The reshape callback is invoked when a window is first created&gt; (p. 49)</p>
</li>
<li><p class="first">Reshape callback でプログラマーが書くことは、ビューポートのリセットと
クリッピングウィンドウのリセットの二点だ。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">gluOrtho2D</span></tt> の <tt class="docutils literal"><span class="pre">bottom</span></tt>, <tt class="docutils literal"><span class="pre">top</span></tt> の値をウィンドウのサイズに依存するように決める。
幅と高さの短い方を分母にしたアスペクト比。</p>
</li>
</ul>
</div>
<div class="section" id="the-idle-callback">
<h3><a class="toc-backref" href="#id39">The Idle Callback</a><a class="headerlink" href="#the-idle-callback" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;The idle callback identifies a function, which should be executed
whenever there are no otther events to be handled, that is, whenever
the event queue is empty&gt; (p. 51)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutIdleFunc(f)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)()</span></tt> 型の関数のアドレスを渡す。</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">&lt;Use of <tt class="docutils literal"><span class="pre">glutPostRedisplay()</span></tt> ensures the window gets drawn at most once
each time that GLUT goes through the event loop.  In general, it is a
good idea to never call the display callback directly but rather to use
the <tt class="docutils literal"><span class="pre">glutPostRedisplay()</span></tt> whenever the display needs to be redrawn&gt; (p. 52)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutPostRedisplay()</span></tt> - 現在のコールバックがリターンした後にディスプレイコールバックが
実行されるようにお願いする関数。</p>
</li>
</ul>
</div>
<div class="section" id="a-rotating-square">
<h3><a class="toc-backref" href="#id40">A Rotating Square</a><a class="headerlink" href="#a-rotating-square" title="Permalink to this headline">¶</a></h3>
<p>ここでは三角関数を利用して円に内接する正方形を回転するアニメーションを実装している。</p>
</div>
<div class="section" id="double-buffering">
<h3><a class="toc-backref" href="#id41">Double Buffering</a><a class="headerlink" href="#double-buffering" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;This refresh process is not controllable from the user program&gt; (p. 54)</p>
</li>
<li><p class="first">ダブルバッファは二つの color buffers を使うというのがミソ。それぞれ
<strong>front buffer</strong> と <strong>back buffer</strong> と呼ぶ。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">front buffer:</th><td class="field-body">ディスプレイハードウェアによってディスプレイされるバッファ</td>
</tr>
<tr class="field-even field"><th class="field-name">back buffer:</th><td class="field-body">アプリケーションが書き込む先のバッファ</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutSwapBuffers()</span></tt> - front buffer と back buffer を入れ替える。</p>
</li>
<li><p class="first">書くのが最後になったが、ダブルバッファを有効にするには <tt class="docutils literal"><span class="pre">glutInitDisplayMode</span></tt> で
指定する。</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">glutInitDisplayMode</span><span class="p">(</span><span class="n">GLUT_DOUBLE</span> <span class="o">|</span> <span class="n">GLUT_XXXX</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="using-the-keyboard">
<h3><a class="toc-backref" href="#id42">Using the Keyboard</a><a class="headerlink" href="#using-the-keyboard" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;GLUT ignores releasing of the key&gt; (p. 54)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutKeyboardFunc(f)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)(key,</span> <span class="pre">x,</span> <span class="pre">y)</span></tt> 型関数アドレス。スクリーン座標が存在するのが面白い。</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">GLUT の関数でマウス位置を扱うものは、すべてウィンドウ左上が原点。</p>
</li>
<li><p class="first">Esc キーは 8 進数で 027 となる。16 進数では 0x1B となる。</p>
</li>
</ul>
<div class="section" id="special-keys">
<h4><a class="toc-backref" href="#id43">Special Keys</a><a class="headerlink" href="#special-keys" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutSpecialFunc(f)</span></tt> - F1 キーとか↑キーとかのプレスイベントをハンドルする。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><tt class="docutils literal"><span class="pre">glutKeyboardFunc</span></tt> のと同じ。</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutGetModifiers()</span></tt> - マウスやキーを押されたときに、以下のキーの状態を見る。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_ACTIVE_(SHIFT|CTRL|ALT)</span></tt></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</div>
<div class="section" id="using-the-mouse-callback">
<h3><a class="toc-backref" href="#id44">Using the Mouse Callback</a><a class="headerlink" href="#using-the-mouse-callback" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutMouseCallback(f)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)(button,</span> <span class="pre">state,</span> <span class="pre">x,</span> <span class="pre">y)</span></tt></p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">button:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_(LEFT|MIDDLE|RIGHT)_BUTTON</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">state:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_(UP|DOWN)</span></tt></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt> は GLUT の座標系での値なので、&lt;The most important is the necessity
of inverting the <tt class="docutils literal"><span class="pre">y</span></tt> value returned by the mouse callback&gt; (p. 58)</p>
</li>
<li><p class="first">ディスプレイコールバックが必要のないプログラムを書く場合もあるが、
&lt;As a practical matter, GLUT insists that every program have a display
callback&gt; (p. 59) だそうだ。そういう場合は空の実装を与える。</p>
</li>
<li><p class="first">しかし普通はそんなことはしない。&lt;A more general strategy is to
place drawing functions in the display callback and use the other
callbacks for state changes&gt;(p. 59)
その上で <tt class="docutils literal"><span class="pre">glutPostRedisplay</span></tt> をすればよい。</p>
</li>
</ul>
</div>
<div class="section" id="mouse-motion">
<h3><a class="toc-backref" href="#id45">Mouse Motion</a><a class="headerlink" href="#mouse-motion" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">マウスモーションには <tt class="docutils literal"><span class="pre">glutMotionFunc</span></tt> と <tt class="docutils literal"><span class="pre">glutPassiveMotionFunc</span></tt> の二種類のコールバックが利用できる。</p>
</li>
<li><p class="first">Passive とは、マウスボタンが押されていない状態でマウスが動いているイベントのことだ。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutMotionFunc(f)</span></tt>, <tt class="docutils literal"><span class="pre">glutPassiveMotionFunc(f)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)(x,</span> <span class="pre">y)</span></tt> 型関数のアドレス</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glutEntryFunc(f)</span></tt>: マウスキャプチャーに使うのか？</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f:</th><td class="field-body"><p class="first"><tt class="docutils literal"><span class="pre">void</span> <span class="pre">(*)(state)</span></tt> 型関数のアドレス</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">state:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GLUT_(ENTERED|LEFT)</span></tt></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<div class="section" id="the-null-callback">
<h3><a class="toc-backref" href="#id46">The NULL Callback</a><a class="headerlink" href="#the-null-callback" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">glutXXXFunc</span></tt> にヌルを渡すと、コールバックを削除できる。</p>
</div>
<div class="section" id="subwindows-and-multiple-windows">
<h3><a class="toc-backref" href="#id47">Subwindows and Multiple Windows</a><a class="headerlink" href="#subwindows-and-multiple-windows" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>コンテキストの概念は重要。</li>
<li>&lt;Each window can have its own properties, referred to as its context&gt; (p. 64)</li>
</ul>
</div>
<div class="section" id="display-lists">
<h3><a class="toc-backref" href="#id48">Display Lists</a><a class="headerlink" href="#display-lists" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">ディスプレイリストをファイルに例えて説明している。
&lt;Display lists can be thought of as a type of graphics file in which we can
place OpenGL rendering and state update commands.  We open a display list,
give it a name, place commands in it, and close it&gt; (p. 67)</p>
</li>
<li><p class="first">ディスプレイリストを定義するときは、各種状態の push/pop が重要だ。
&lt;Note that we push and pop the current attributes, which include the present
color.  We must do this action to prevent the state change due to setting
a new color from affecting anything that we do subsequently.  Often we can
prevent unforeseen side effects of state changes by starting a display
list by pushing the matrices and the state at the beginning of the display
last popping them at the end&gt; (p. 68)</p>
<p>後続のディスプレイリストに余計な状態を残さぬように、リストを定義する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glNewList(name,</span> <span class="pre">mode)</span></tt>: ディスプレイリストの定義を開始する。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">name:</th><td class="field-body">ディスプレイリストの名前。
通常、次節で紹介されている <tt class="docutils literal"><span class="pre">glGenLists</span></tt> の戻り値を指定する。</td>
</tr>
<tr class="field-even field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_COMPILE</span></tt> か <tt class="docutils literal"><span class="pre">GL_COMPILE_AND_EXECUTE</span></tt></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glEndList()</span></tt>: ディスプレイリストの定義を終了する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glCallList(name)</span></tt>: ディスプレイリストを実行する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glGet</span></tt> 等の「状態を返すだけの関数」をディスプレイリスト定義中に呼ぶことはできない。</p>
</li>
<li><p class="first">ディスプレイリストを階層的に <tt class="docutils literal"><span class="pre">glCallList</span></tt> することができる。</p>
</li>
<li><p class="first">ディスプレイリストは、一度作成したら変更できない。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glDeleteLists(first,</span> <span class="pre">number)</span></tt>: ディスプレイリストを削除する。</p>
<p>名前が <tt class="docutils literal"><span class="pre">first</span></tt> のリストから、
<tt class="docutils literal"><span class="pre">number</span></tt> 個目までのリストを削除する。</p>
</li>
</ul>
<div class="section" id="multiple-display-lists">
<h4><a class="toc-backref" href="#id49">Multiple Display Lists</a><a class="headerlink" href="#multiple-display-lists" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glListBase(offset)</span></tt> - <tt class="docutils literal"><span class="pre">glCallList</span></tt> の実引数にゲタをはかせる</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glCallLists(num,</span> <span class="pre">type,</span> <span class="pre">list)</span></tt></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">num:</th><td class="field-body"><tt class="docutils literal"><span class="pre">list</span></tt> の個数</td>
</tr>
<tr class="field-even field"><th class="field-name">type:</th><td class="field-body"><tt class="docutils literal"><span class="pre">list</span></tt> の型</td>
</tr>
<tr class="field-odd field"><th class="field-name">list:</th><td class="field-body">ディスプレイリストの名前（つまり整数値）の配列</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glGenLists(n)</span></tt> - ディスプレイリスト新規作成のための有効な名前を n 個生成する。</p>
</li>
</ul>
</div>
<div class="section" id="display-lists-and-text">
<h4><a class="toc-backref" href="#id50">Display Lists and Text</a><a class="headerlink" href="#display-lists-and-text" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>&lt;To generate a character string on the display,
we do one function call per character&gt; (p. 69)</li>
<li>全 ASCII 文字についてディスプレイリストをコンパイルするやり方を紹介している。
ディスプレイリストの ID を文字コードと同じにして……という方法だ。
日本語に応用できるとは思えない。</li>
</ul>
</div>
<div class="section" id="display-lists-and-objects">
<h4><a class="toc-backref" href="#id51">Display Lists and Objects</a><a class="headerlink" href="#display-lists-and-objects" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>&lt;display lists can give the user a way of building more object-oriented program
than in immediate mode&gt; (p.70) とあり、人間の顔を描くと思われるディスプレイリストを
定義するコードを記載している。
<tt class="docutils literal"><span class="pre">glNewList</span></tt> と <tt class="docutils literal"><span class="pre">glEndList</span></tt> の間に、
顔のパーツを定義するディスプレイリストを <tt class="docutils literal"><span class="pre">glCallList</span></tt> するという例だ。</li>
</ul>
</div>
<div class="section" id="picking-and-selection-mode">
<h4><a class="toc-backref" href="#id52">Picking and Selection Mode</a><a class="headerlink" href="#picking-and-selection-mode" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">本書ではピックの定義を以下のように与えている。
&lt;<strong>Picking</strong> is the operation of locating an object on the screen&gt; (p.71)</p>
</li>
<li><p class="first">ピックのためには、描画要素にある種のタグ付けを行う必要がある。
&lt;We could create some sort of tag system that would give labels to
parts of our program&gt; (p. 71)</p>
</li>
<li><p class="first"><strong>selection mode</strong> で描画を行うと、オブジェクトは color buffer にレンダーされない。</p>
</li>
<li><p class="first">ピック処理はコードを書くのが面倒。関係する関数が次に挙げるように、妙に多い。</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">glRenderMode(mode)</span></tt> - render mode の選択</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body"><tt class="docutils literal"><span class="pre">GL_(RENDER|SELECTION|FEEDBACK)</span></tt></td>
</tr>
</tbody>
</table>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glSelectBuffer(n,</span> <span class="pre">buffer)</span></tt> - 選択データを置く配列を決める</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glInitNames()</span></tt> - name stack の初期化</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPushName(name)</span></tt> - name stack に name を積む</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glPopName()</span></tt> - name stack から name をひとつ捨てる</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">glLoadName(name)</span></tt> - name stack の一番上の要素を name で置き換える</p>
</li>
</ul>
</li>
<li><p class="first">&lt;<tt class="docutils literal"><span class="pre">glRenderMode()</span></tt> returns the number of hits that have been processed&gt; (p. 73)</p>
</li>
<li><p class="first">&lt;<tt class="docutils literal"><span class="pre">gluPickMatrix()</span></tt>, that should be applied before <tt class="docutils literal"><span class="pre">gluOrtho2D()</span></tt> when we
are in selection mode&gt; (p. 73)</p>
</li>
<li><p class="first">&lt;If we had a hierarchical object in which multiple parts of the object could
all be located near the cursor, we could use <tt class="docutils literal"><span class="pre">glPushName()</span></tt> so that we could
have multiple names on the stack for a given hit.  For an object with multiple
parts, all the parts that were close to the cursor would have their names
placed in the same stack&gt; (p. 75)</p>
</li>
<li><p class="first">ヒットレコードのバイトレイアウトについて、細かく説明している。
&lt;we find three types of information, all stored as integers.  First, there
is the number of names on the name stack when there was a hit.  It is followed
by two integers that give scaled minimum and maximum depths for the hit primitive.
These three integers are followed by entries in the name stack&gt; (p. 75)</p>
</li>
</ul>
<hr class="docutils" />
<p><a class="reference internal" href="angel05-note2.html"><em>OpenGL: A Primer Second Edition 読書ノート 2/4</em></a> へ。</p>
</div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">読書ノート v1.2.1</a> &raquo;</li>
          <li><a href="angel05.html" >OpenGL: A Primer Second Edition 読書ノート</a> &raquo;</li> 
      </ul>
    </div>
    <div id="footer">
      <div id="footer_logo">
        <a class="imga" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="_static/logos.png" width="88" height="31" /></a>
      </div>
      <div id="footer_share">
        <a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a>
        <script type="text/javascript">render_twitter_button(document, 'script', 'twitter-wjs')</script>
      </div>
      <div id="footer_copyright">
        Since 1999<br />
        Copyright &copy; 1999-2014, プレハブ小屋 All rights reserved.
      </div>
      <div id="footer_spacer">
        <p>
          Last updated at 2014/11/07 (Fri) 22:31:11.
        </p>
      </div>
    </div>
  </body>
</html>