======================================================================
What's New In Python 3.11 ノート
======================================================================

`What's New In Python 3.11 <https://docs.python.org/3/whatsnew/3.11.html>`__ を
たどりながら調査。興味のあるものしか読まない。

.. contents:: ノート目次
   :local:

New Features
======================================================================

例外にかかわる二つの機能を習得する。

PEP 654: Exception Groups and ``except*``
----------------------------------------------------------------------

組み込み型 ``ExceptionGroup`` は複数の例外をまとめて発生させることを可能する。関
連して、新しい例外捕捉構文 ``except*`` が登場。``ExceptionGroup`` の部分に合致す
るものをまとめて拾う。

Python documentation `8.9. Raising and Handling Multiple Unrelated Exceptions
<https://docs.python.org/3/tutorial/errors.html#tut-exception-groups>`__ を見ろ。

.. admonition:: 読者ノート

   Composite パターンを思い出せ。

PEP 678: Exceptions can be enriched with notes
----------------------------------------------------------------------

例外型にメソッド ``add_note()`` が追加。例外処理ブロックで捕捉した例外オブジェク
トに対して処理者が情報を追加するために用いる。追加した注意事項は既定のトレース
バックに含まれる。

Python documentation `8.10 Enriching Exceptions with Notes
<https://docs.python.org/3/tutorial/errors.html#tut-exception-notes>`__ を見ろ。

.. admonition:: 読者ノート

   一つの例外オブジェクトに対して ``add_note()`` を複数回呼び出して情報追加を複
   数回に分けることが可能だ。

New Features Related to Type Hints
======================================================================

型ヒントとモジュール ``typing`` に影響する主な変更点について書いてある。ここを
チェックする前に次の資料を先に読んでおくと良い。要点を Python 公式より絞っていて
入門者向きだ：

`mypy <https://mypy.readthedocs.io/en/stable/index.html>`__

Other Language Changes
======================================================================

興味のある変更だけ記す。

New Modules
======================================================================

TOML

Improved Modules
======================================================================

興味のあるものや遭遇しそうな問題を含むモジュールに絞って記していく。

Optimizations
======================================================================

ここは一般プログラマーには重要ではないかもしれない。ほとんどチェックしていない。

Deprecated
======================================================================

古いやり方をいつまで経っても採用し続けないように、一通りチェックする。

Removed
======================================================================

興味のあるものしかチェックしない。

Porting to Python 3.11
======================================================================

本節以降、個人的には対応項目なし。
