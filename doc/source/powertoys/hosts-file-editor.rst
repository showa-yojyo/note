======================================================================
Hosts File Editor
======================================================================

Hosts File Editor はファイル :file:`hosts` の設定を編集するためのユーティリ
ティーだ。

Windows にもドメイン名とそれに対応する IP アドレスを含むローカルのファイル
:file:`hosts` があり、 IP ネットワーク上のホストを識別して位置を特定するための対
応表として機能する。ウェブサイトを訪問するたびに、コンピューターはまずファイル
:file:`hosts` を検査して、どの IP アドレスに接続するかを確認する。情報がない場
合、ISP はサイトを読み込むための資源を DNS に照会する。

これはウェブサイトを新しいホスティングプロバイダーやドメイン名に移行するようなシ
ナリオで、一、二日のダウンタイムがかかる場合に便利だ。ホストファイルを使用してド
メインに関連付けるカスタム IP アドレスを作成すると、新しいサーバー上でどのように
見えるかを確認できる。

.. admonition:: 利用者ノート

   ファイルパスがわかっていれば VS Code で編集しても全然構わない。

.. attention::

   :doc:`./index` 冒頭の前提条件に留意すること。

.. contents::

新しいエントリー
======================================================================

:program:`PowerToys` 本体の設定で Hosts File Editor が有効になっていることをまず
確認する必要がある。

Hosts File Editor を使用して新しいエントリーを追加するには、ボタン
:guilabel:`新しいエントリー` を押して追加画面を表示する。それから次の項目を埋める：

.. csv-table::
   :delim: @
   :header: 入力欄,入力値

   :guilabel:`アドレス` @ IP アドレス
   :guilabel:`ホスト`   @ ホスト名
   :guilabel:`コメント` @ 記入目的を確認するためのコメント

最後にスイッチ :guilabel:`アクティブ` が有効になっていることを確認し、
:guilabel:`追加` をクリックする。

フィルター
======================================================================

ホストファイルのエントリーを絞るには、漏斗アイコンをクリックし、

* :guilabel:`アドレス`
* :guilabel:`ホスト`
* :guilabel:`コメント`

のいずれかに文字列を入力する。

バックアップ
======================================================================

Hosts File Editor は編集前にファイル :file:`hosts` をバックアップする。
バックアップファイルは、:file:`%SystemRoot%\\System32\\drivers\\etc` に
:file:`hosts_PowerToysBackup_YYYYMMDDHHMSS` のような名前で置かれる。

設定
======================================================================

歯車アイコンメニューから次のオプションを構成できる：

.. csv-table::
   :delim: @
   :header: 設定項目,主旨

   :guilabel:`管理者として実行する` @ これを有効にしないと :file:`hosts` を保存できない
   :guilabel:`起動時に警告を表示する` @ DNS の名前解決変更可能性があることを警告するかどうか
   :guilabel:`追加の行の位置` @ :guilabel:`上部` か :guilabel:`下部` か
