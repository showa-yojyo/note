======================================================================
組み込み端末
======================================================================

VS Code にはハイスペックなコンソールが組み込まれている。シェルの対話的操作だけで
なく、エラー各種を検出したり、エラー箇所にジャンプしたりするなどの便利な機能を用
意している。

.. attention::

   :doc:`./index` 冒頭の前提条件に留意すること。

.. contents::

端末を表示する
======================================================================

すでに端末が VS Code メインウィンドウに作成されているならば、次の方法のいずれか
で端末を所定の場所（通常はエディター床下）に出したり消したりする。ない場合には
VS Code が端末画面を新規に生成する。

* コマンド :guilabel:`View: Toggle Terminal` を実行する
* キーバインド :kbd:`Ctrl` + :kbd:`@` を押す

端末画面を新しく生成する必要があれば、次の方法のいずれかでそれを実現する：

* コマンド :guilabel:`Terminal: Create New Terminal` を実行する
* メニュー項目 :menuselection:`Terminal --> New Terminal` を選択する
* キーバインド :kbd:`Ctrl` + :kbd:`Shift` + :kbd:`@` を押す

複数シェルに対応
======================================================================

.. 統合ターミナルは、あなたのマシンにインストールされている様々なシェルを使用するこ
.. とができ、デフォルトは、あなたのシステムのデフォルトから取得されます。シェルは検
.. 出され、ターミナルプロファイルのドロップダウンに表示されます。

.. todo::

   WSL だとこの機能が調査しにくい。

端末管理
======================================================================

.. タブ :guilabel:`TERMINAL` のずっと右側に関連 UI がある。
.. 端末それぞれに対して、名前、アイコン、色、およびグループ装飾（ある場合）のエントリーがあります。

端末インスタンスをさらに追加するには、次のいずれかを行う。この操作により、その端
末に関連するタブリストに別のエントリーが生成する：

* 先述の端末画面の新規作成方法のいずれかを実行する
* タブ :guilabel:`TERMINAL` のずっと右側にあるアイコン :guilabel:`+` をクリックする
* 端末のドロップダウンからプロファイルを何か選択する

逆に、端末インスタンスを削除するには、次のいずれかを行う：

* タブ :guilabel:`TERMINAL` のずっと右側にあるゴミ箱アイコンをクリックする
* タブをアクティブにして :kbd:`Delete` を押す
* コマンド :guilabel:`Terminal: Kill the Active Terminal Instance` を実行する
* タブのコンテキストメニューから :menuselection:`Kill Terminal` を選択する

.. admonition:: 利用者ノート

   端末のセッションを終了すると端末インスタンスが削除される。

端末グループ間の移動をショートカットキーで果たせる。キーボードから手を離したくない：

.. csv-table::
   :delim: @
   :header: キーバインド,コマンド

   :kbd:`Ctrl` + :kbd:`PageDown` @ :guilabel:`Terminal: Focus Next Terminal Group`
   :kbd:`Ctrl` + :kbd:`PageUp` @ :guilabel:`Terminal: Focus Previous Terminal Group`

.. ターミナルの状態が変更されると、タブラベルのターミナルタイトルの右側にアイコンが
.. 表示されることがあります。例としては、ベル（macOS）、タスクの場合、エラーがない
.. 場合はチェックマーク、それ以外は×印が表示されます。アイコンにカーソルを合わせる
.. と、ステータス情報を読むことができ、アクションが含まれている場合もあります。

画面を分割
======================================================================

端末を横に並べることができるものを端末グループと呼んでいる。これを生成するには端
末を分割する：

* 端末分割アイコンをクリックする
* 端末画面タブのコンテキストメニューを表示して :menuselection:`Split` を選択する
* :kbd:`Alt` を押しながら次のいずれかをする：

  * 端末画面タブをクリックする
  * アイコン :guilabel:`+` をクリックする
  * 端末パネルにある唯一のタブをクリックする
* :kbd:`Ctrl` + :kbd:`Shift` + :kbd:`5` を押す

分割して生じる端末の初期ディレクトリーは設定 `terminal.integrated.splitCwd` によ
る。

端末グループ内をショートカットキーでも移動できる。キーボードから手を離したくな
い：

.. csv-table::
   :delim: @
   :header: キーバインド,コマンド

   :kbd:`Alt` + :kbd:`→` @ :guilabel:`Terminal: Focus Next Terminal in Terminal Group`
   :kbd:`Alt` + :kbd:`←` @ :guilabel:`Terminal: Focus Previous Terminal in Terminal Group`

端末タブはドラッグ＆ドロップ可能だ。次の場合があり得る：

* 同一グループ内でタブを並び替える。
* グループをまたいで端末画面を移動させる。

端末をそれの独自グループに移動することもできる。それには次のいずれかを行う：

* コマンド :guilabel:`Terminal: Unsplit Terminal` を直接実行する
* 端末タブのコンテキストメニューを表示して :menuselection:`Unsplit Terminal` を
  選択する

エディターの横に出す
======================================================================

ナビゲーション（スクロール）
======================================================================

コピー＆ペースト
======================================================================

マウス操作
======================================================================

検索
======================================================================

Terminal: Run Selected Text in Active Terminal
======================================================================

巨大表示
======================================================================

全選択
======================================================================

pwd
======================================================================

画面サイズ固定
======================================================================

プロファイル
======================================================================

WSL
----------------------------------------------------------------------

見てくれ
======================================================================

高級機能
======================================================================

セッション
----------------------------------------------------------------------
