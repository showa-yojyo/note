<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python 入門［２＆３対応］読書ノート 2/3 &mdash; 読書ノート v1.2.0</title>
    
    <link rel="stylesheet" href="_static/prefab.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/twitter-button.js"></script>
    <link rel="top" title="読書ノート v1.2.0" href="index.html" />
    <link rel="up" title="Python 入門［２＆３対応］読書ノート" href="hosoda10.html" />
    <link rel="next" title="Python 入門［２＆３対応］読書ノート 3/3" href="hosoda10-note3.html" />
    <link rel="prev" title="Python 入門［２＆３対応］読書ノート 1/3" href="hosoda10-note1.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">読書ノート v1.2.0</a> &raquo;</li>
          <li><a href="hosoda10.html" accesskey="U">Python 入門［２＆３対応］読書ノート</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="python-2-3-2-3">
<h1><a class="toc-backref" href="#id37">Python 入門［２＆３対応］読書ノート 2/3</a><a class="headerlink" href="#python-2-3-2-3" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="hosoda10-note1.html"><em>Python 入門［２＆３対応］読書ノート 1/3</em></a> からの続き。</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">著者:</th><td class="field-body">株式会社エスキュービズム／細田謙二／オレンジ岸本／石井光次郎／岩川建彦／岡田正彦</td>
</tr>
<tr class="field-even field"><th class="field-name">出版社:</th><td class="field-body">秀和システム</td>
</tr>
<tr class="field-odd field"><th class="field-name">ISBN:</th><td class="field-body">978-4-7980-2655-8 C3055</td>
</tr>
</tbody>
</table>
<div class="contents topic" id="id1">
<p class="topic-title first">ノート目次</p>
<ul class="simple">
<li><a class="reference internal" href="#python-2-3-2-3" id="id37">Python 入門［２＆３対応］読書ノート 2/3</a><ul>
<li><a class="reference internal" href="#id2" id="id38">第 9 章 イテレータ</a><ul>
<li><a class="reference internal" href="#id3" id="id39">9.1 イテレータとは</a></li>
<li><a class="reference internal" href="#id4" id="id40">9.2 ジェネレーター</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5" id="id41">第 10 章 文字列</a><ul>
<li><a class="reference internal" href="#id6" id="id42">10.1 文字列の概要</a></li>
<li><a class="reference internal" href="#id7" id="id43">10. 2 文字列の作成</a></li>
<li><a class="reference internal" href="#id8" id="id44">10.3 文字列の読み込み</a></li>
<li><a class="reference internal" href="#id9" id="id45">10.4 文字列の更新</a></li>
<li><a class="reference internal" href="#id10" id="id46">10.5 文字列の削除</a></li>
<li><a class="reference internal" href="#unicode" id="id47">10.6 Unicode 文字列と文字コード変換</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11" id="id48">第 11 章 ファイル入出力</a><ul>
<li><a class="reference internal" href="#id12" id="id49">11.1 ファイルの基本操作</a></li>
<li><a class="reference internal" href="#id13" id="id50">11.2 日本語ファイルを扱う</a></li>
<li><a class="reference internal" href="#id14" id="id51">11.3 パスの構築</a></li>
<li><a class="reference internal" href="#id15" id="id52">11.4 ファイルシステム上の操作</a></li>
<li><a class="reference internal" href="#id16" id="id53">11.5 テンポラリファイルの作成</a></li>
<li><a class="reference internal" href="#id17" id="id54">11.6 ファイルライクオブジェクト</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18" id="id55">第 12 章 関数</a><ul>
<li><a class="reference internal" href="#id19" id="id56">12.1 関数の引数</a></li>
<li><a class="reference internal" href="#id20" id="id57">12.3 関数オブジェクト</a></li>
<li><a class="reference internal" href="#id21" id="id58">12.4 デコレーター</a></li>
<li><a class="reference internal" href="#id22" id="id59">12.5 スコープ</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id23" id="id60">第 13 章 クラス</a><ul>
<li><a class="reference internal" href="#id24" id="id61">13.1 インスタンスの係わる文法</a></li>
<li><a class="reference internal" href="#id25" id="id62">13.2 クラスに係わる文法</a></li>
<li><a class="reference internal" href="#id26" id="id63">13.3 継承</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id27" id="id64">第 14 章 例外処理</a><ul>
<li><a class="reference internal" href="#id28" id="id65">14.1 処理の分岐</a></li>
<li><a class="reference internal" href="#id29" id="id66">14.2 例外情報を取り出す</a></li>
<li><a class="reference internal" href="#id30" id="id67">14.4 独自の例外</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id31" id="id68">第 15 章 モジュール</a><ul>
<li><a class="reference internal" href="#id32" id="id69">15.1 単一ファイルのモジュール</a></li>
<li><a class="reference internal" href="#id33" id="id70">15.2 複数ファイルのモジュール</a></li>
<li><a class="reference internal" href="#id34" id="id71">15.3 モジュールのパスを通す</a></li>
<li><a class="reference internal" href="#id35" id="id72">15.4 スクリプト化</a></li>
<li><a class="reference internal" href="#id36" id="id73">15.5 ライブラリの利用</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id38">第 9 章 イテレータ</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>ストリーム処理のためのポインタ的な役割</li>
<li>遅延評価</li>
</ul>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id39">9.1 イテレータとは</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Python におけるイテレータとは、 <tt class="docutils literal"><span class="pre">next</span></tt> メソッドを実装するオブジェクトのこと。</li>
<li><tt class="docutils literal"><span class="pre">next</span></tt> メソッドと <tt class="docutils literal"><span class="pre">StopIteration</span></tt> 例外を理解しておく。
イテレータが <tt class="docutils literal"><span class="pre">next</span></tt> し切れなくなったら、そこから例外が送出されるイメージ。</li>
<li>囲み記事。Python 3 からは一部の関数がイテレータを返すように仕様変更になっている。
特に、イテレータの <tt class="docutils literal"><span class="pre">next</span></tt> メソッドがなくなり、単なるフリー関数になるようだ。
<tt class="docutils literal"><span class="pre">it.next()</span></tt> ではなく <tt class="docutils literal"><span class="pre">next(it)</span></tt> ということ。</li>
</ul>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id40">9.2 ジェネレーター</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>この本はなぜか語尾の -or のカタカナ表記が揺らいでいる。</p>
<ul>
<li><p class="first">&lt;関数に結びつく広義のイテレータ&gt; (p. 146)</p>
</li>
<li><p class="first">&lt;ジェネレーターの特徴は、イテレータを進めるまで、関数内のローカル変数を保持したまま、
次のシーケンス要素生成までの評価が中断されることです&gt; (p. 146)</p>
</li>
<li><p class="first">&lt;ジェネレーターも内包表記で書くことができます&gt; (p. 148)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="c"># (p. 148)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gen</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">6</span>
</pre></div>
</div>
</li>
<li><p class="first">囲み記事の <tt class="docutils literal"><span class="pre">send</span></tt> は読みとばす。</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id41">第 10 章 文字列</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id42">10.1 文字列の概要</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>どういうわけか、手許の IDLE だと <tt class="docutils literal"><span class="pre">len(u'日本語')</span></tt> が 6 を返す。3 が正解。</li>
<li><tt class="docutils literal"><span class="pre">u'日本語'.encode('utf8')</span></tt> のタイプは <tt class="docutils literal"><span class="pre">str</span></tt> だ。</li>
</ul>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id43">10. 2 文字列の作成</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;<tt class="docutils literal"><span class="pre">r</span></tt> の文字を置くとエスケープシーケンスを無視する raw 文字列のリテラル表現になります&gt; (p. 154)</li>
<li>&lt;<tt class="docutils literal"><span class="pre">%</span></tt> 演算子を利用した旧来の方法は、今後廃止される予定です&gt; (p. 157)</li>
<li>Python 3 風 <tt class="docutils literal"><span class="pre">format</span></tt> の使い方がすぐに理解できない。後で復習。</li>
<li><tt class="docutils literal"><span class="pre">join</span></tt> メソッドには慣れておくこと。例えば CSV テキストを文字列リストから素早く構築できる。</li>
</ul>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id44">10.3 文字列の読み込み</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>文字検索には <tt class="docutils literal"><span class="pre">find</span></tt>, <tt class="docutils literal"><span class="pre">rfind</span></tt> と <tt class="docutils literal"><span class="pre">index</span></tt>, <tt class="docutils literal"><span class="pre">rindex</span></tt> メソッドが使える。
見つからなかったときに例外 <tt class="docutils literal"><span class="pre">ValueError</span></tt> を投げるのが <tt class="docutils literal"><span class="pre">index</span></tt> 系。(p. 159)</li>
<li><tt class="docutils literal"><span class="pre">isdigit</span></tt>, <tt class="docutils literal"><span class="pre">isnumeric</span></tt> メソッドは
&lt;Unicode 型および Python 3 からは全角に対応しています&gt; (p. 162)
とある。全角文字の１やらローマ数字やらを試して遊んでみよう。</li>
<li>&lt;printable な文字とは、
<tt class="docutils literal"><span class="pre">print</span></tt> 関数で何かしらの文字列が
<tt class="docutils literal"><span class="pre">sys.stdout</span></tt> に表示される文字のこと&gt; (p. 165)</li>
</ul>
</div>
<div class="section" id="id9">
<h3><a class="toc-backref" href="#id45">10.4 文字列の更新</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>これが理解するのが難しかった。</p>
<ul class="simple">
<li>&lt;変更したように見える操作もありますが、新しく文字列を作成して、そのコピーを返しているだけ&gt; (p. 166)
らしい。</li>
<li><tt class="docutils literal"><span class="pre">split</span></tt> メソッドは、&lt;何も指定しないか、None を指定した場合は、分割アルゴリズムが変わります&gt; (p. 167)
空白文字がきれいにトリムされるようだ。</li>
<li><tt class="docutils literal"><span class="pre">splitlines</span></tt> という、改行文字に特化した <tt class="docutils literal"><span class="pre">split</span></tt> のようなメソッドがある。</li>
<li><tt class="docutils literal"><span class="pre">partition</span></tt>, <tt class="docutils literal"><span class="pre">rpartition</span></tt> は <tt class="docutils literal"><span class="pre">split</span></tt> の弱いやつか。</li>
</ul>
<p>整形系メソッドは興味がわいたら読み返す。</p>
</div>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id46">10.5 文字列の削除</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>削除に見えても、実は新しくオブジェクトを作って返す操作だ。</p>
</div>
<div class="section" id="unicode">
<h3><a class="toc-backref" href="#id47">10.6 Unicode 文字列と文字コード変換</a><a class="headerlink" href="#unicode" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;Unicode は 18 ビットで 1 文字を表現する&gt; (p. 175) とあるが、それは真実なのか。</li>
<li>Unicode 文字列のほうは、&lt;<tt class="docutils literal"><span class="pre">isdecimal</span></tt> メソッドと <tt class="docutils literal"><span class="pre">isnumeric</span></tt> メソッドの
2 つが追加されています&gt; (p. 176)</li>
<li>sitecustomize.py で <tt class="docutils literal"><span class="pre">sys.setdefaultencoding('utf-8')</span></tt> する例が書いてある。(p. 177)</li>
<li>&lt;<tt class="docutils literal"><span class="pre">unicode</span></tt> 関数と <tt class="docutils literal"><span class="pre">decode</span></tt> メソッドは、ともに、通常の文字列を
Unicode 文字列に変換します&gt; (p. 177)</li>
<li>&lt;<tt class="docutils literal"><span class="pre">str</span></tt> 関数については、必ずデフォルトエンコーディングで変換されます&gt; (p. 179)
<tt class="docutils literal"><span class="pre">encode</span></tt> メソッドのほうが柔軟だということか。</li>
<li>囲み記事。文字列の他に <tt class="docutils literal"><span class="pre">bytes</span></tt>, <tt class="docutils literal"><span class="pre">bytearray</span></tt> 型というのがある。
後者はバイナリの取り扱いに有効らしいので、イメージファイルを解析するのに応用してみたい。</li>
</ul>
</div>
</div>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id48">第 11 章 ファイル入出力</a><a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id49">11.1 ファイルの基本操作</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">read</span></tt> メソッドはファイルの内容を一気に文字列として読み込む。</li>
<li><tt class="docutils literal"><span class="pre">read</span></tt>, <tt class="docutils literal"><span class="pre">readlines</span></tt>, <tt class="docutils literal"><span class="pre">write</span></tt>, <tt class="docutils literal"><span class="pre">writelines</span></tt> を使い分ける。
lines 系は各文字列の末尾に改行文字が付く。</li>
</ul>
</div>
<div class="section" id="id13">
<h3><a class="toc-backref" href="#id50">11.2 日本語ファイルを扱う</a><a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">前章の文字列メソッドを駆使して、ファイルの文字列の文字コードをプログラム中で適宜変換する。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">codecs</span></tt> というモジュールがあり、ファイルオープン時に文字コードを指定することができる。(p. 189)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">codecs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">codecs</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;temp.txt&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;utf8&#39;</span><span class="p">,</span> <span class="s">&#39;ignore&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">u&#39;あいう&#39;</span><span class="p">)</span> <span class="c"># ファイル内に UTF-8 で出力される。</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>読み込みも同様。</p>
</li>
<li><p class="first">&lt;BOM 付きファイルを適切に読み取るには、明示的にその BOM を取り除くか、
<tt class="docutils literal"><span class="pre">codecs</span></tt> モジュールにおいて <tt class="docutils literal"><span class="pre">utf_8_sig</span></tt> という名のエンコードを指定します&gt; (p. 190)
掲載のサンプルコードでは <tt class="docutils literal"><span class="pre">lstrip(codecs.BOM_UTF8)</span></tt> と
<tt class="docutils literal"><span class="pre">codes.open('temp.txt',</span> <span class="pre">'r',</span> <span class="pre">'utf_8_sig',</span> <span class="pre">'ignore')</span></tt> の両方の手法を紹介している。</p>
</li>
</ul>
</div>
<div class="section" id="id14">
<h3><a class="toc-backref" href="#id51">11.3 パスの構築</a><a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>ファイルパスの文字列を取り扱う方法を習得すること。</p>
<ul class="simple">
<li>&lt;セパレーターは <tt class="docutils literal"><span class="pre">os.path.sep</span></tt> または <tt class="docutils literal"><span class="pre">os.sep</span></tt> に格納されています&gt; (p. 191)
手元の環境で調べたら、両者は同じものだ。</li>
<li>&lt;パスを分解する方法は幾つかあります&gt; (p. 193)
基本的には split と名の付く関数を利用する。</li>
<li><tt class="docutils literal"><span class="pre">os.path.commonprefix</span></tt> 関数は使いどころがわからない。</li>
</ul>
</div>
<div class="section" id="id15">
<h3><a class="toc-backref" href="#id52">11.4 ファイルシステム上の操作</a><a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>ファイルの移動・コピー・属性操作関連の処理を習得すること。</p>
<ul>
<li><p class="first">それらしい機能を探すときは <tt class="docutils literal"><span class="pre">os.path</span></tt>, <tt class="docutils literal"><span class="pre">shutil</span></tt>, <tt class="docutils literal"><span class="pre">os</span></tt>
モジュールを当たるとよさそうだ。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">os.mkdirs</span></tt> (p. 197) は UNIX で言うところの <tt class="docutils literal"><span class="pre">mkdir</span> <span class="pre">-p</span></tt> のようなもの。</p>
</li>
<li><p class="first">ディレクトリ削除が色々ある。直感的には <tt class="docutils literal"><span class="pre">shutil.rmtree</span></tt> が普通の削除に相当するような。</p>
</li>
<li><p class="first">これ重要。
<tt class="docutils literal"><span class="pre">shutil.copy2</span></tt> 関数は &lt;最終アクセス時間や最終更新時間などのメタデータもコピー&gt; (p. 199)
する。</p>
</li>
<li><p class="first">ディレクトリのコピーは <tt class="docutils literal"><span class="pre">shutil.copytree</span></tt> (p. 201) を利用する。引数が多い。</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">os.walk</span></tt> 関数ではディレクトリを &lt;デフォルトでは最上層から下に辿っていきます。
引数で <tt class="docutils literal"><span class="pre">topdown=False</span></tt> とすると、最下層から辿るようになります&gt; (p. 202)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">os.environ</span></tt> 変数に環境変数が格納されている。(p. 205)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;PATH&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;;&#39;</span><span class="p">)</span>
<span class="go">[&#39;C:\\WINDOWS\\system32&#39;,</span>
<span class="go"> &#39;C:\\WINDOWS&#39;,</span>
<span class="go"> &#39;C:\\WINDOWS\\System32\\Wbem&#39;,</span>
<span class="go"> &#39;C:\\cygwin\\bin&#39;,</span>
<span class="go"> &#39;D:\\Python26\\Scripts&#39;,</span>
<span class="go"> &#39;D:\\Python26\\Lib\\site-packages\\PyQt4\\bin&#39;,</span>
<span class="go"> &#39;C:\\Program Files\\SlikSvn\\bin\\&#39;,</span>
<span class="go"> &#39;C:\\Program Files\\TortoiseSVN\\bin&#39;]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id16">
<h3><a class="toc-backref" href="#id53">11.5 テンポラリファイルの作成</a><a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">tempfile.mkdtemp</span></tt> 関数で一時ディレクトリを作成する。</li>
<li><tt class="docutils literal"><span class="pre">tempfile.mkstemp</span></tt> と <tt class="docutils literal"><span class="pre">tempfile.NamedTemporaryFile</span></tt> 関数で一時ファイルを作成する。
ファイルを削除するのを自分でやりたければ前者を利用する、という具合に使い分ける。</li>
</ul>
</div>
<div class="section" id="id17">
<h3><a class="toc-backref" href="#id54">11.6 ファイルライクオブジェクト</a><a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;文字列オブジェクトをファイルオブジェクトのように扱う&gt; (p. 208) クラスが <tt class="docutils literal"><span class="pre">StringIO</span></tt> なのか。</li>
<li>&lt;<tt class="docutils literal"><span class="pre">StringIO</span></tt> の内部を C で実装した <tt class="docutils literal"><span class="pre">cStringIO</span></tt> モジュール&gt; (p. 208) は速そうだが、
ユニコード周りで制限あり。</li>
<li>囲み記事で紹介されている Python 3 の <tt class="docutils literal"><span class="pre">io</span></tt> モジュール。
Python 2.6.5 でも使用可能になっていた。</li>
</ul>
</div>
</div>
<div class="section" id="id18">
<h2><a class="toc-backref" href="#id55">第 12 章 関数</a><a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3><a class="toc-backref" href="#id56">12.1 関数の引数</a><a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">キーワード引数の指定は順不同。(p. 213)</p>
</li>
<li><p class="first">可変長引数は面白い。</p>
<ul>
<li><p class="first">&lt;シーケンス型と辞書型の 2 つの指定方法があります。（略）
引数宣言の前に &#8220;*&#8221; を付けると、複数の引数をタプル型として受け入れます&gt; (p. 214)</p>
</li>
<li><p class="first">&lt;引数宣言の前に &#8220;**&#8221; を付けると、キーワード付き引数を辞書型として受け入れます&gt; (p. 215)</p>
</li>
<li><p class="first">実引数の順序は、</p>
<ol class="arabic simple">
<li>一般的な変数、</li>
<li>デフォルト値のある引数、</li>
<li>シーケンス型の可変長引数、</li>
<li>辞書型の可変長引数</li>
</ol>
<p>の順でなければならない。(p. 216)</p>
</li>
</ul>
</li>
<li><p class="first">引数は &lt;変更不可能なオブジェクトの場合は、実質的に値渡しとなります&gt; (p. 216)</p>
</li>
<li><p class="first">囲み記事の &lt;ある種グローバルな変数&gt; (p. 218) の指摘を心に留めておく。</p>
</li>
</ul>
</div>
<div class="section" id="id20">
<h3><a class="toc-backref" href="#id57">12.3 関数オブジェクト</a><a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;制限のないオブジェクト&gt; (p. 221) の意味がまったくわからない。</li>
</ul>
</div>
<div class="section" id="id21">
<h3><a class="toc-backref" href="#id58">12.4 デコレーター</a><a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>これがまったくわからない。コードを手で打ち込んで実行してみても何をされたのかわからない。</p>
<ul class="simple">
<li>&lt;デコレーターは関数を受け取り、修飾した関数を返す関数です&gt; (p. 223)</li>
<li>修飾のしかたは、修飾したい関数の定義の前に <tt class="docutils literal"><span class="pre">&#64;デコレーター関数</span></tt> と書くだけ。</li>
<li>&lt;デコレーター関数内で新たに関数を定義することが多い&gt; (p. 224)</li>
<li>デコレーターはネストできる。</li>
<li>&lt;デコレーターがよく用いられる用途としては、
時間計測や型チェック、キャッシュ、アクセス制御、初期化・後始末の処理、トレースなどがあります&gt;
(p. 226) とあるので、存在意義は小さくないはずなのだが、わからない。</li>
</ul>
<p>なんでデコレーターになじめないんだろう。</p>
</div>
<div class="section" id="id22">
<h3><a class="toc-backref" href="#id59">12.5 スコープ</a><a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>関数内ではグローバル変数を無条件に右辺値参照できる。
ただし、たまたま同名なローカル変数として解釈されるため、左辺値参照はできない。<ul>
<li>そのような場合は <tt class="docutils literal"><span class="pre">global</span></tt> 文に頼ればよい。</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">globals</span></tt>, <tt class="docutils literal"><span class="pre">locals</span></tt> 関数で、グローバル変数、ローカル変数をそれぞれ表示できる。</li>
</ul>
</div>
</div>
<div class="section" id="id23">
<h2><a class="toc-backref" href="#id60">第 13 章 クラス</a><a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<p>今まで散々オブジェクトがどうのこうのと話があったのに、このタイミングでクラスとは。</p>
<div class="section" id="id24">
<h3><a class="toc-backref" href="#id61">13.1 インスタンスの係わる文法</a><a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;全てのクラスは、この <tt class="docutils literal"><span class="pre">object</span></tt> を根底に継承します&gt; (p. 232)</li>
<li>&lt;Python のオブジェクトとは、クラスのインスタンスだけでなく、クラスや関数自身も該当します&gt; (p. 233)</li>
<li>&lt;特殊メソッドの名前は <tt class="docutils literal"><span class="pre">__xxx__</span></tt> のように 2 つのアンダースコアが両端に付いたものになります&gt; (p. 234)</li>
<li><tt class="docutils literal"><span class="pre">property</span></tt> はおさえておく。</li>
</ul>
</div>
<div class="section" id="id25">
<h3><a class="toc-backref" href="#id62">13.2 クラスに係わる文法</a><a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>クラス属性は C++ で言うところの static メンバーみたいなものらしい。</li>
<li><tt class="docutils literal"><span class="pre">&#64;classmethod</span></tt> と <tt class="docutils literal"><span class="pre">&#64;staticmethod</span></tt> の使い分けかたがわからない。</li>
</ul>
</div>
<div class="section" id="id26">
<h3><a class="toc-backref" href="#id63">13.3 継承</a><a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p>あとで読む。</p>
</div>
</div>
<div class="section" id="id27">
<h2><a class="toc-backref" href="#id64">第 14 章 例外処理</a><a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id28">
<h3><a class="toc-backref" href="#id65">14.1 処理の分岐</a><a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Python 独特の <tt class="docutils literal"><span class="pre">else</span></tt> だが、
<tt class="docutils literal"><span class="pre">try</span></tt> の本処理の後に行うような（本来捕捉したくない部分だということを）
コードに示すという狙いがあるのか。</li>
<li><tt class="docutils literal"><span class="pre">finally</span></tt> よりは <tt class="docutils literal"><span class="pre">with</span></tt> の利用を好む。</li>
</ul>
</div>
<div class="section" id="id29">
<h3><a class="toc-backref" href="#id66">14.2 例外情報を取り出す</a><a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Python 2.6 以降では <tt class="docutils literal"><span class="pre">except</span> <span class="pre">...</span> <span class="pre">as</span> <span class="pre">...:</span></tt> が使える。(p. 252)</li>
</ul>
</div>
<div class="section" id="id30">
<h3><a class="toc-backref" href="#id67">14.4 独自の例外</a><a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;全ての例外クラスは、
<tt class="docutils literal"><span class="pre">Exception</span></tt> クラスを継承して作ります&gt; (p. 256)</li>
</ul>
</div>
</div>
<div class="section" id="id31">
<h2><a class="toc-backref" href="#id68">第 15 章 モジュール</a><a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id32">
<h3><a class="toc-backref" href="#id69">15.1 単一ファイルのモジュール</a><a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">import</span></tt> 文で参照したいファイルは、
&lt;ファイルのディレクトリをカレントディレクトリとすれば&gt; (p. 262) 可能。</li>
</ul>
</div>
<div class="section" id="id33">
<h3><a class="toc-backref" href="#id70">15.2 複数ファイルのモジュール</a><a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">__init__.py</span></tt> のあるフォルダをパッケージと呼ぶ。
パッケージは入れ子になっていることがある。</li>
</ul>
</div>
<div class="section" id="id34">
<h3><a class="toc-backref" href="#id71">15.3 モジュールのパスを通す</a><a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">&lt;モジュールをインポートする時に、どのフォルダ・ファイルを参照するかは、
<tt class="docutils literal"><span class="pre">sys</span></tt> モジュールの <tt class="docutils literal"><span class="pre">sys.path</span></tt> にリストとして格納されているモジュールの検索パスに基づいて決められます&gt;
(p. 266)</p>
<p>リスト <tt class="docutils literal"><span class="pre">sys.path</span></tt> を Python 実行中に直接変更することができる。</p>
</li>
</ul>
</div>
<div class="section" id="id35">
<h3><a class="toc-backref" href="#id72">15.4 スクリプト化</a><a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c"># スクリプトとして実行された場合、ここに来る。</span>
</pre></div>
</div>
</div>
<div class="section" id="id36">
<h3><a class="toc-backref" href="#id73">15.5 ライブラリの利用</a><a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">PyPI (<a class="reference external" href="http://pypi.python.org/pypi">http://pypi.python.org/pypi</a>) では、いろんな人が作ったライブラリーを配布している。
ライブラリーを指定して easy_install を実行してインストールする。</p>
<ul>
<li><p class="first">easy_install を入手するには、ez_setup.py を入手する必要がある。
入手して Python で実行すると、easy_install 自体がインストールされる。</p>
<p>インターネットに接続できない環境では、
setuptools のインストーラー (exe) を先に入手しておく必要があるのか。</p>
</li>
</ul>
</li>
<li><p class="first">bitbucket は知らなかった。後で調べよう。</p>
</li>
</ul>
<hr class="docutils" />
<p><a class="reference internal" href="hosoda10-note3.html"><em>Python 入門［２＆３対応］読書ノート 3/3</em></a> へ。</p>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">読書ノート v1.2.0</a> &raquo;</li>
          <li><a href="hosoda10.html" >Python 入門［２＆３対応］読書ノート</a> &raquo;</li> 
      </ul>
    </div>
    <div id="footer">
      <div id="footer_logo">
        <a class="imga" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="_static/logos.png" width="88" height="31" /></a>
      </div>
      <div id="footer_share">
        <a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a>
        <script type="text/javascript">render_twitter_button(document, 'script', 'twitter-wjs')</script>
      </div>
      <div id="footer_copyright">
        Since 1999<br />
        Copyright &copy; 1999-2014, プレハブ小屋 All rights reserved.
      </div>
      <div id="footer_spacer">
        <p>
          Last updated at 2014/11/06 (Thu) 23:22:09.
        </p>
      </div>
    </div>
  </body>
</html>