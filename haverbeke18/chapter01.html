
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Values, Types, and Operators &#8212; 読書ノート v1.5dev</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/prefab.css" />
    
    <script src="../_static/mathjax-v3.js"></script>
    
    <link rel="next" title="Program Structure" href="chapter02.html" />
    <link rel="prev" title="Introduction" href="intro.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="chapter02.html" title="Program Structure"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Eloquent JavaScript 読書ノート</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Values, Types, and Operators</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="values-types-and-operators">
<h1><a class="toc-backref" href="#id1">Values, Types, and Operators</a><a class="headerlink" href="#values-types-and-operators" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://eloquentjavascript.net/">Eloquent JavaScript</a> Chapter 1 の読書ノート。他の高級言語と JavaScript の違いに注目すればいいだろう。</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#values-types-and-operators" id="id1">Values, Types, and Operators</a></p>
<ul>
<li><p><a class="reference internal" href="#values" id="id2">Values</a></p></li>
<li><p><a class="reference internal" href="#numbers" id="id3">Numbers</a></p>
<ul>
<li><p><a class="reference internal" href="#arithmetic" id="id4">Arithmetic</a></p></li>
<li><p><a class="reference internal" href="#special-numbers" id="id5">Special numbers</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#strings" id="id6">Strings</a></p></li>
<li><p><a class="reference internal" href="#unary-operators" id="id7">Unary operators</a></p></li>
<li><p><a class="reference internal" href="#boolean-values" id="id8">Boolean values</a></p>
<ul>
<li><p><a class="reference internal" href="#comparison" id="id9">Comparison</a></p></li>
<li><p><a class="reference internal" href="#logical-operators" id="id10">Logical operators</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#empty-values" id="id11">Empty values</a></p></li>
<li><p><a class="reference internal" href="#automatic-type-conversion" id="id12">Automatic type conversion</a></p>
<ul>
<li><p><a class="reference internal" href="#short-circuiting-of-logical-operators" id="id13">Short-circuiting of logical operators</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id14">Summary</a></p></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><p>計算機はデータではないものは言及できない。</p></li>
<li><p>どんな離散的な情報でも、0 と 1 の列に還元することができる。</p></li>
</ul>
<section id="values">
<h2><a class="toc-backref" href="#id2">Values</a><a class="headerlink" href="#values" title="Permalink to this headline">¶</a></h2>
<p>この章では、JavaScriptのプログラムを構成する要素、つまりつまり、単純な値の型と、そのような値に作用する演算子を紹介する。</p>
<ul class="simple">
<li><p>大量のビットを迷うことなく扱うためには、ビットを情報の断片を表すチャンクに分けなければならない。それを値と呼ぶことにする。</p></li>
<li><p>値を作成するには、単にその名前を呼び出すだけでよい。</p></li>
</ul>
</section>
<section id="numbers">
<h2><a class="toc-backref" href="#id3">Numbers</a><a class="headerlink" href="#numbers" title="Permalink to this headline">¶</a></h2>
<p>本文の記述によると、整数も浮動小数点数も同じ型で表されるらしい。</p>
<ul class="simple">
<li><p>JavaScript では、一つの数値を格納するのに 64 ビットを使う。</p></li>
<li><p>古い時代の計算機では、与えられたビット数に収まらない数字が誤ってオーバーフローさせてしまうことがあった。</p></li>
<li><p>オーバーフローを心配する必要があるのは、本当に天文学的な数字を扱うときだけだ。</p></li>
<li><p>64 ビットのうち 1 ビットが数字の符号（正負）を表すのに使われる。</p></li>
<li><p>さらに大きな問題は、整数ではない数字も表現しなければならないことだ。</p></li>
<li><p>64 ビットの一部を使って小数点の位置が保持される。</p></li>
<li><p>実際に格納できる最大の整数は、<span class="math notranslate nohighlight">\(10^{15}\)</span> 程度だ。</p></li>
<li><p>絶対値がひじょうに大きいか小さい数には、他の言語のように科学的記数法を使用することもできる。
<code class="docutils literal notranslate"><span class="pre">e</span></code> を付け、その後に指数を付ける。</p></li>
<li><p>小数を使った計算は一般的に正確ではない。</p></li>
<li><p>多くの数字は精度が落ちる。</p></li>
</ul>
<section id="arithmetic">
<h3><a class="toc-backref" href="#id4">Arithmetic</a><a class="headerlink" href="#arithmetic" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>記号 <code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code> は演算子と呼ばれている。掛け算が先に行われる。</p></li>
<li><p>数学の記法のように、丸括弧で優先度を明示することができる。</p></li>
<li><p>同じ優先順位を持つ複数の演算子が隣り合っている場合、それらは左結合的に作用する。</p></li>
<li><p>余剰演算子 <code class="docutils literal notranslate"><span class="pre">%</span></code> の優先順位は、乗算 <code class="docutils literal notranslate"><span class="pre">*</span></code> や除算 <code class="docutils literal notranslate"><span class="pre">/</span></code> の優先順位と同じ。</p></li>
</ul>
</section>
<section id="special-numbers">
<h3><a class="toc-backref" href="#id5">Special numbers</a><a class="headerlink" href="#special-numbers" title="Permalink to this headline">¶</a></h3>
<p>JavaScript には特別な「数」が三つある。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Infinity</span></code> と <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code> で、正と負の無限大を表す。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code> とは not a number の略で、数値型の値であるにもかかわらず、「数字ではない」というものだ。例えば <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">/</span> <span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">Infinity</span> <span class="pre">-</span> <span class="pre">Infinity</span></code> を評価すると生じる。</p></li>
</ul>
</section>
</section>
<section id="strings">
<h2><a class="toc-backref" href="#id6">Strings</a><a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<p>バッククォートの仕様だけ注意。他の引用符ではダメらしい。</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="sb">`half of 100 is </span><span class="si">${</span><span class="mf">100</span> <span class="o">/</span> <span class="mf">2</span><span class="si">}</span><span class="sb">`</span>
<span class="c1">// → &quot;half of 100 is 50&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>文字列は、その内容を引用符で囲んで記述する。文字列の最初と最後の引用符が一致していれば、文字列をマークするのに</p>
<ul>
<li><p>シングルクォート、</p></li>
<li><p>ダブルクォート、</p></li>
<li><p>バッククォートを使うことができる。</p></li>
</ul>
</li>
<li><p>他言語のように文字をエスケープするという考え方がある。方法も同じ。</p></li>
<li><p>Unicode 標準に基づいて文字列をモデル化している。すべての文字に番号がついていれば、文字列は番号の列で表現できる。</p></li>
<li><p>文字列は分割、乗算、減算することはできないが、二項演算子 <code class="docutils literal notranslate"><span class="pre">＋</span></code>
を使うことができる。これは足し算ではなく、二つの文字列を連結する。</p></li>
<li><p>バッククォートで囲まれた文字列は、通常、テンプレートリテラルと呼ばれる。テンプレートリテラルの <code class="docutils literal notranslate"><span class="pre">${}</span></code> 内に何かを書くと、その結果が計算され、文字列に変換されて、その位置に置かれる。</p></li>
</ul>
</section>
<section id="unary-operators">
<h2><a class="toc-backref" href="#id7">Unary operators</a><a class="headerlink" href="#unary-operators" title="Permalink to this headline">¶</a></h2>
<p>サンプルコードでは <code class="docutils literal notranslate"><span class="pre">console.log()</span></code> を使って、何かを評価した結果を示す。</p>
<ul class="simple">
<li><p>演算子 <code class="docutils literal notranslate"><span class="pre">typeof</span></code> は、与えられた値の型を示す文字列を返す。</p></li>
<li><p>マイナス演算子は、二項演算子としても一項演算子としても使用できる。</p>
<ul>
<li><p>プラスは？</p></li>
</ul>
</li>
</ul>
</section>
<section id="boolean-values">
<h2><a class="toc-backref" href="#id8">Boolean values</a><a class="headerlink" href="#boolean-values" title="Permalink to this headline">¶</a></h2>
<p>JavaScript にはブール型が用意されており、<code class="docutils literal notranslate"><span class="pre">true</span></code> と <code class="docutils literal notranslate"><span class="pre">false</span></code> の二つの値しか持たない。</p>
<section id="comparison">
<h3><a class="toc-backref" href="#id9">Comparison</a><a class="headerlink" href="#comparison" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>文字を比較する際、文字を左から右へと並べ、Unicode におけるコードポイントを一つずつ比較していく。</p></li>
<li><p>JavaScript では、自分自身と等しくない値が一つだけあり、それが <code class="docutils literal notranslate"><span class="pre">NaN</span></code> だ。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NaN</span></code> は意味のない計算の結果を表すことになっており、したがって普通の計算結果とは等しくならない。</p></li>
</ul>
</section>
<section id="logical-operators">
<h3><a class="toc-backref" href="#id10">Logical operators</a><a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<p>論理演算子はブール値に作用する演算子だ。</p>
<ul class="simple">
<li><p>これまで見てきた演算子の中で、<code class="docutils literal notranslate"><span class="pre">||</span></code> が最も優先順位が低く、次に
<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, 比較演算子、そしてその他の演算子が続くことを知っていれば、たいていの場合は大丈夫。</p></li>
<li><p>C/C++ と同様の三項演算子がある。</p></li>
</ul>
</section>
</section>
<section id="empty-values">
<h2><a class="toc-backref" href="#id11">Empty values</a><a class="headerlink" href="#empty-values" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">null</span></code> と <code class="docutils literal notranslate"><span class="pre">undefined</span></code> という二つの特別な値がある。どちらも意味のある値がないことを表す。</p></li>
<li><p>意味のある値を生成しない言語の操作の多くは何らかの値を生成しなければならないという理由で <code class="docutils literal notranslate"><span class="pre">undefined</span></code> を返す。</p></li>
<li><p>これらをほとんど交換可能なものとして扱うことをお勧めする。</p></li>
</ul>
</section>
<section id="automatic-type-conversion">
<h2><a class="toc-backref" href="#id12">Automatic type conversion</a><a class="headerlink" href="#automatic-type-conversion" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>演算子が「間違った」型の値に適用された場合、JavaScript はその値を必要とする型に暗黙的に変換するが、これを「型強制」という。多くの場合は、期待されるものにはならない。</p></li>
<li><p>二項演算子 <code class="docutils literal notranslate"><span class="pre">+</span></code> は数値の加算よりも文字列の連結を優先する。</p></li>
<li><p>思わぬところで <code class="docutils literal notranslate"><span class="pre">NaN</span></code> が出てきたら、誤った型変換が行われていないか確認すること。</p></li>
<li><p>二項演算子のどちらか側に <code class="docutils literal notranslate"><span class="pre">null</span></code> や <code class="docutils literal notranslate"><span class="pre">undefined</span></code> が存在する場合、両方の側が <code class="docutils literal notranslate"><span class="pre">null</span></code> または <code class="docutils literal notranslate"><span class="pre">undefined</span></code> のどちらかである場合にのみ <code class="docutils literal notranslate"><span class="pre">true</span></code> を返す。</p></li>
<li><p>型変換をさせたくない場合は、さらに次の演算子がある：</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">===</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!==</span></code></p></li>
</ul>
</li>
<li><p>予想外の型変換で躓かないように、三文字の比較演算子を防御的に使うことをお勧めする。</p></li>
</ul>
<section id="short-circuiting-of-logical-operators">
<h3><a class="toc-backref" href="#id13">Short-circuiting of logical operators</a><a class="headerlink" href="#short-circuiting-of-logical-operators" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>C/C++ などと同様に、論理演算 <code class="docutils literal notranslate"><span class="pre">||</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> は短絡評価を行う。</p></li>
<li><p>条件演算子も似たような働きする。</p></li>
</ul>
</section>
</section>
<section id="summary">
<h2><a class="toc-backref" href="#id14">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Infinity</span></code>, <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code>, <code class="docutils literal notranslate"><span class="pre">Nan</span></code> を理解する。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">null</span></code>, <code class="docutils literal notranslate"><span class="pre">undefined</span></code> を理解する。</p></li>
<li><p>比較演算子 <code class="docutils literal notranslate"><span class="pre">===</span></code>, <code class="docutils literal notranslate"><span class="pre">!==</span></code> を使うようにする。</p></li>
</ul>
<p>以上</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="chapter02.html" title="Program Structure"
             >next</a></li>
        <li class="right" >
          <a href="intro.html" title="Introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Eloquent JavaScript 読書ノート</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Values, Types, and Operators</a></li> 
      </ul>
    </div>
    <div id="footer">
      <div id="footer_logo">
        <a class="imga" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png" width="88" height="31" /></a>
      </div>
      <div id="footer_copyright">
        Since 1999<br />
        Copyright &copy; 1999-2022, プレハブ小屋 All rights reserved.
      </div>
    </div>
  </body>
</html>