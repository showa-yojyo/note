
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>幾何 &#8212; 読書ノート 1.5dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/mermaid.js"></script>
    <link rel="next" title="級数" href="series.html" />
    <link rel="prev" title="ディオファントス方程式" href="diophantine.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="diophantine.html" title="Previous document">ディオファントス方程式</a>
        </li>
        <li>
          <a href="series.html" title="Next document">級数</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1><a class="toc-backref" href="#id14">幾何</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://www.sympy.org/">SymPy</a> のサブパッケージ <code class="docutils literal notranslate"><span class="pre">sympy.geometry</span></code> に関わる覚え書きを記す。</p>
<div class="contents topic" id="id2">
<p class="topic-title">ノート目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id14">幾何</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id15">主要クラス図</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id16">クラス継承関係</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id17">共通機能</a></p>
<ul>
<li><p><a class="reference internal" href="#geometryentity" id="id18">クラス GeometryEntity のオブジェクトを引数に取る関数</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id19">クラス GeometryEntity の静的・クラスメソッド</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id20">クラス GeometryEntity のメソッド</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id8" id="id21">サブクラス</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id22">デモ</a></p>
<ul>
<li><p><a class="reference internal" href="#id10" id="id23">メネラウスの定理</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id24">チェバの定理</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id25">方べきの定理</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id15">主要クラス図</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>サブパッケージ <code class="docutils literal notranslate"><span class="pre">sympy.geometry</span></code> が提供する主要クラスの継承関係のみを図示するとこういう感じになる。</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>GeometryEntity
    Point
    Point3D
    LinearEntity
        Segment
        Ray
        Line
    LinearEntity3D
        Line3D
        Ray3D
        Segment3D
    Plane
    Polygon
        Triangle
        RegularPolygon
    Ellipse
        Circle
    Curve
</pre></div>
</div>
<ul class="simple">
<li><p>クラス GeometryEntity のスーパークラスはクラス Basic である。</p></li>
</ul>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id16">クラス継承関係</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>基本的に 2 次元幾何。同じ幾何要素で次元が異なるものはクラスも別々に定義がある。例えば Point と Point3D が存在する。</p>
<ul>
<li><p>ここにあるあらゆるメソッド、関数は 2D と 3D を混ぜて利用することを想定していない。</p></li>
</ul>
</li>
<li><p>RegularPolygon is-a Polygon だったり Circle is-a Ellipse だったりする。オブジェクト指向プログラミングの本からするとこういう設計はするなと言われそうだが、
SymPy は記号数学のライブラリーなのでむしろアリということだろう。</p></li>
</ul>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id17">共通機能</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h2>
<p>ここでは便宜上、次のものを共通機能と呼んで理解を深める。</p>
<ol class="arabic simple">
<li><p>クラス GeometryEntity のオブジェクトを引数に取る関数</p></li>
<li><p>クラス GeometryEntity の静的・クラスメソッド</p></li>
<li><p>クラス GeometryEntity のメソッド</p></li>
</ol>
<div class="section" id="geometryentity">
<h3><a class="toc-backref" href="#id18">クラス GeometryEntity のオブジェクトを引数に取る関数</a><a class="headerlink" href="#geometryentity" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>関数 <code class="code docutils literal notranslate"><span class="pre">intersection</span></code></p>
<ul>
<li><p>引数は複数個の GeometryEntity オブジェクト。</p></li>
<li><p>戻り値は list で、その要素は Point や Segment になるのだろう。</p></li>
</ul>
</li>
<li><p>関数 <code class="code docutils literal notranslate"><span class="pre">convex_hull</span></code></p>
<ul>
<li><p>複数個の Point, Segment, Polygon オブジェクトを引数に取る。</p></li>
<li><p>戻り値は基本的には凸包を表現する Polygon オブジェクトだが、場合によっては Segment かもしれない。</p></li>
</ul>
</li>
<li><p>関数 <code class="code docutils literal notranslate"><span class="pre">are_coplanar</span></code></p>
<ul>
<li><p>引数は複数個の GeometryEntity オブジェクト。</p></li>
<li><p>引数のすべての 3D オブジェクト全部がある平面上に乗っているかどうかをテストする。</p></li>
<li><p>そのような平面が Plane オブジェクトとして返るわけではないようだ？</p></li>
<li><p>2D のオブジェクトは一応 3D 化してから計算してくれる。計算するまでもないだろう。</p></li>
</ul>
</li>
<li><p>関数 <code class="code docutils literal notranslate"><span class="pre">are_similar</span></code></p>
<ul>
<li><p>ふたつの GeometryEntity オブジェクトが相似かどうかをテストする。</p></li>
<li><p>単に <code class="code docutils literal notranslate"><span class="pre">entity1.is_similar(entity2)</span></code> よりも気が利いた処理をするに過ぎない。</p></li>
</ul>
</li>
<li><p>関数 <code class="code docutils literal notranslate"><span class="pre">centroid</span></code></p>
<ul>
<li><p>引数は複数個の GeometryEntity オブジェクト。</p></li>
<li><p>おそらく同型でなければならない。</p></li>
<li><p>戻り値は Point オブジェクトで、オブジェクト全部が決定する重心の座標を表現する。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id19">クラス GeometryEntity の静的・クラスメソッド</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<p>クラス GeometryEntity の静的・クラスメソッドは存在しない。</p>
</div>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id20">クラス GeometryEntity のメソッド</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">intersection</span></code> は先述の同名関数を参照。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_similar</span></code> は先述の関数 <code class="code docutils literal notranslate"><span class="pre">are_similar</span></code> を参照。</p></li>
<li><p>変形系メソッド <code class="code docutils literal notranslate"><span class="pre">rotate</span></code>, <code class="code docutils literal notranslate"><span class="pre">scale</span></code>, <code class="code docutils literal notranslate"><span class="pre">translate</span></code>, <code class="code docutils literal notranslate"><span class="pre">reflect</span></code> が提供されている。</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">rotate</span></code>, <code class="code docutils literal notranslate"><span class="pre">scale</span></code> は変形の原点を指定できる。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">reflect</span></code> には LinearEntity オブジェクトを渡すようだ。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">encloses</span></code></p>
<ul>
<li><p>自身のオブジェクトの内側に与えられたオブジェクト全体を含むかどうかをテストする。</p></li>
<li><p>実装にはサブクラスのメソッド <code class="code docutils literal notranslate"><span class="pre">encloses_point</span></code> を利用している。</p></li>
<li><p>造りが美しくない。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">equals</span></code> が提供されており、オーバーライドがなければ <code class="code docutils literal notranslate"><span class="pre">e1</span> <span class="pre">==</span> <span class="pre">e2</span></code> と同値。</p></li>
<li><p>演算子がいくつか定義されているが、これらの存在はひとまず忘れておく。</p></li>
</ul>
</div>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id21">サブクラス</a><a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h2>
<p>以下、クラス GeometryEntity の各サブクラスについての感想やら何やらを記す。</p>
<ul>
<li><p>クラス Point</p>
<ul class="simple">
<li><p>座標成分は具体的な数値でもよいし、シンボルでもよい。ただし、いくつかの判定モノの関数は具体的な Point で計算しないと意味がなくなる。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">length</span></code> は必ずゼロを返す。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_collinear</span></code> と <code class="code docutils literal notranslate"><span class="pre">is_concyclic</span></code> はクラスメソッドである。</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>類似したライブラリーを色々知っているが <code class="code docutils literal notranslate"><span class="pre">is_concyclic</span></code> 的なものは初めてお目にかかる。</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">evalf</span></code> は各座標を浮動小数点数で表現し直した Point を返す。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">dot</span></code> でドット積を計算する。</p></li>
<li><p>演算子で加算、減算、スカラー倍、etc. が実現できる。単項マイナスと絶対値もサポート。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">transform</span></code> は行列を右から掛けるようだ。vM 方式。</p></li>
</ul>
</li>
<li><p>クラス Point3D</p>
<ul class="simple">
<li><p>クラス Point にあるものは、だいたいその 3 次元版メンバーが存在する。</p></li>
<li><p>クラス Point にはない次のメソッドに注意。</p>
<ul>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">direction_ratio</span></code>, <code class="code docutils literal notranslate"><span class="pre">direction_cosine</span></code></p></li>
<li><p>クラスメソッド <code class="code docutils literal notranslate"><span class="pre">are_collinear</span></code>, <code class="code docutils literal notranslate"><span class="pre">are_coplanar</span></code></p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_collinear</span></code> と <code class="code docutils literal notranslate"><span class="pre">is_concyclic</span></code> は存在しない。</p></li>
</ul>
</li>
<li><p>クラス LinearEntity</p>
<ul class="simple">
<li><p>2 次元空間内のまっすぐな線のためのスーパークラス。</p></li>
<li><p>この手のクラスによくあるプロパティー、メソッドがやはりある。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">parallel_line</span></code>, <code class="code docutils literal notranslate"><span class="pre">perpendicular_line</span></code> は Line オブジェクトを生成する。</p>
<ul>
<li><p>一方、メソッド <code class="code docutils literal notranslate"><span class="pre">perpendicular_segment</span></code> は Segment オブジェクトを生成する。</p></li>
</ul>
</li>
<li><p>クラスメソッド <code class="code docutils literal notranslate"><span class="pre">are_concurrent</span></code> 的なものは初めてお目にかかる。すべての引数が「一点で交差する」かどうかをテストする。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">intersection</span></code> の対象は Point か LinearEntity に限定している？</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">arbitrary_point</span></code> で線上の任意の一点を返す。</p>
<ul>
<li><p>デフォルトでは線のパラメーターシンボルを <code class="code docutils literal notranslate"><span class="pre">t</span></code> とする。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">random_point</span></code> で線上の勝手な一点を返す。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_similar</span></code> は線の傾きを比較する。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">contains</span></code> は形状を集合と見たときの包含関係のテストと思ってよい。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">distance</span></code> はここにはなく、各サブクラスにある。</p></li>
</ul>
</li>
<li><p>クラス Segment</p>
<ul class="simple">
<li><p>有限の線分を表現する。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">plot_interval</span></code> は <code class="code docutils literal notranslate"><span class="pre">list(t,</span> <span class="pre">0,</span> <span class="pre">1)</span></code> を返す。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">perpendicular_bisector</span></code> の仕様が CAD の感覚だとやや不親切な気がする。指定点が bisector に乗らない場合は、直線ではなくて中点から投影点までの線分を生成するのかと思った。</p></li>
</ul>
</li>
<li><p>クラス Ray</p>
<ul class="simple">
<li><p>半直線を表現する。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">plot_interval</span></code> は <code class="code docutils literal notranslate"><span class="pre">list(t,</span> <span class="pre">0,</span> <span class="pre">10)</span></code> を返す。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">xdirection</span></code>, <code class="code docutils literal notranslate"><span class="pre">ydirection</span></code> により、形状がどの座標軸に沿って無限なのかがわかる。</p></li>
</ul>
</li>
<li><p>クラス Line</p>
<ul class="simple">
<li><p>直線を表現する。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">plot_interval</span></code> は <code class="code docutils literal notranslate"><span class="pre">list(t,</span> <span class="pre">-5,</span> <span class="pre">5)</span></code> を返す。</p></li>
<li><p>こいつだけメソッド <code class="code docutils literal notranslate"><span class="pre">equation</span></code> を持っていて、直線の式 <code class="code docutils literal notranslate"><span class="pre">simplify(a*x</span> <span class="pre">+</span> <span class="pre">b*y</span> <span class="pre">+</span> <span class="pre">c)</span></code> を生成する。</p></li>
</ul>
</li>
<li><p>クラス LinearEntity3D およびそのサブクラス群が LinearEntity 系と同じ階層構造で存在する。</p></li>
<li><p>クラス Plane</p>
<ul class="simple">
<li><p>平面を表現する。平面に期待するメンバーが存在する。</p></li>
<li><p>平行、垂直のテストは LinearEntity3D または Plane に対するものだ。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">distance</span></code> の対象は Point3D, LinearEntity3D または Plane のいずれか。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">arbitrary_point</span></code>, <code class="code docutils literal notranslate"><span class="pre">random_point</span></code> がある。</p></li>
<li><p>クラスメソッド <code class="code docutils literal notranslate"><span class="pre">are_concurrent</span></code> は複数の平面が共通の直線で交わるかどうかをテストする珍しいものだ。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_coplanar</span></code> で平面に乗るかどうかをテスト。</p></li>
</ul>
</li>
<li><p>クラス Polygon</p>
<ul class="simple">
<li><p>xy 平面上の多角形を表現する。</p></li>
<li><p>コンストラクターが気を利かせて、別のクラスのオブジェクトを生成することがある。極端な例を挙げると、一直線上に並ぶ任意の点列を Polygon のコンストラクターに与えると、得られるオブジェクトの型はなんと Segment である。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">area</span></code> で面積を計算する。符号付きの可能性がある。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">angles</span></code> で内角の list を返す。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">perimeter</span></code> は周長を返す。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">centroid</span></code> で重心に位置する Point オブジェクトを生成する。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">sides</span></code> で各辺を Segment で表現するオブジェクトの list を返す。</p>
<ul>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">intersection</span></code> の計算はこれに基づく。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_convex</span></code> でこの多角形が凸かどうかをテストする。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">arbitrary_point</span></code> について</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">t=0</span></code> で始点</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">t=1</span></code> で終点</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">plot_interval</span></code> は <code class="code docutils literal notranslate"><span class="pre">list(t,</span> <span class="pre">0,</span> <span class="pre">1)</span></code> を返す。</p></li>
</ul>
</li>
<li><p>クラス Triangle</p>
<ul>
<li><p>三角形は多角形の中でも別格の存在ということで、専用クラスとして存在するようだ。</p></li>
<li><p>コンストラクターは色々な引数指定をサポートしている。使いやすいものを覚えておくこと。</p>
<ul class="simple">
<li><p>単に 3 頂点を Point オブジェクトで指定する。</p></li>
<li><p>キーワード引数 <code class="code docutils literal notranslate"><span class="pre">sss</span></code> 等と辺の長さ・角度を列挙を組み合わせて指定する。</p>
<ul>
<li><p>オブジェクトの座標があらかじめ想像しづらい。</p></li>
</ul>
</li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_similar</span></code> の実装は、三辺の比をテストするだけ。辺の順序の組み合わせはすべて考慮する。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_equilateral</span></code> で正三角形テスト。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_isosceles</span></code> で二等辺三角形テスト。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_right</span></code> で直角三角形テスト。</p></li>
<li><p>五心</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>名前</p></th>
<th class="head"><p>Point</p></th>
<th class="head"><p>Circle</p></th>
<th class="head"><p>何の交点か</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>外心 (O)</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">circumcenter</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">circumcircle</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">sides().perpendicular_bisector()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>垂心 (H)</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">orthocenter</span></code></p></td>
<td><p>なし</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">altitudes</span></code></p></td>
</tr>
<tr class="row-even"><td><p>内心 (I)</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">incenter</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">incircle</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">bisectors</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>傍心 (J)</p></td>
<td><p>なし</p></td>
<td><p>なし</p></td>
<td><p>なし</p></td>
</tr>
<tr class="row-even"><td><p>重心 (G)</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">centroid</span></code></p></td>
<td><p>なし</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">medians</span></code></p></td>
</tr>
</tbody>
</table>
</li>
</ul>
</li>
<li><p>クラス RegularPolygon</p>
<ul class="simple">
<li><p>正多角形を表現するクラス。</p></li>
<li><p>頂点の位置を直接指定してオブジェクトを生成するというよりは、半径と頂点数を指定する。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">length</span></code> の実装を見ると非効率的な印象を受けるが、記号数学演算的にはこれしかない。</p>
<ul>
<li><p>これは <code class="code docutils literal notranslate"><span class="pre">perimeter</span></code> を利用しない。</p></li>
</ul>
</li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">apothem</span></code> および <code class="code docutils literal notranslate"><span class="pre">inradius</span></code> で内接円の半径を得る。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">interior_angle</span></code> と <code class="code docutils literal notranslate"><span class="pre">exterior_angle</span></code> で多角形の内角、外角をそれぞれ得る。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">incircle</span></code> と <code class="code docutils literal notranslate"><span class="pre">circumcircle</span></code> で内接円、外接円を Circle オブジェクトとしてそれぞれ得る。</p></li>
<li><p>コンストラクターおよびメソッド <code class="code docutils literal notranslate"><span class="pre">spin</span></code> で多角形の中心点を軸に回転をかけられる。</p></li>
</ul>
</li>
<li><p>クラス Ellipse</p>
<ul class="simple">
<li><p>コンストラクターが色々ある。</p>
<ul>
<li><p>長軸・短軸ではなく <code class="code docutils literal notranslate"><span class="pre">hradius</span></code>, <code class="code docutils literal notranslate"><span class="pre">vradius</span></code> のような扱いをする。</p></li>
</ul>
</li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">minor</span></code>, <code class="code docutils literal notranslate"><span class="pre">major</span></code> で長軸、短軸の半分の長さを得る。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">circumference</span></code> で楕円の周長が得られる。定積分オブジェクトかもしれない。</p></li>
<li><p>プロパティー <code class="code docutils literal notranslate"><span class="pre">periapsis</span></code>, <code class="code docutils literal notranslate"><span class="pre">apoapsis</span></code> で楕円の焦点から近点、焦点から遠点の距離がそれぞれ得られる。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">tangent_lines</span></code> である点から楕円上に接線を求める。</p>
<ul>
<li><p>たいていの場合、戻り値は Line オブジェクト 2 個の list となる。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">is_tangent</span></code> は Ellipse にも対応している。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">normal_lines</span></code> はある点から楕円に垂直に交差する Line を求める。</p>
<ul>
<li><p>要素数は 1, 2, 4 のいずれか。</p></li>
<li><p>キーワード引数 <code class="code docutils literal notranslate"><span class="pre">prec</span></code> の存在に注意。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">plot_interval</span></code> は <code class="code docutils literal notranslate"><span class="pre">list(t,</span> <span class="pre">-S.Pi,</span> <span class="pre">S.Pi)</span></code> を返す。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">equation</span></code> で楕円の方程式（の左辺）を得る。</p></li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">evolute</span></code> で楕円の縮閉線の方程式（の左辺）を得る。</p></li>
</ul>
</li>
<li><p>クラス Circle</p>
<ul class="simple">
<li><p>コンストラクターは次のどちらかの引数リストを受け付ける。</p>
<ul>
<li><p>通過点を表現する Point オブジェクト 3 つ。</p></li>
<li><p>中心を表現する Point と半径。</p></li>
</ul>
</li>
<li><p>メソッド <code class="code docutils literal notranslate"><span class="pre">scale</span></code> で Ellipse オブジェクトが生成することがある。</p></li>
</ul>
</li>
<li><p>クラス Curve</p>
<ul class="simple">
<li><p>平面的なパラメトリック曲線を表現するクラス。</p></li>
<li><p>コンストラクターの例： <code class="code docutils literal notranslate"><span class="pre">Curve((sin(t),</span> <span class="pre">cos(t)),</span> <span class="pre">(t,</span> <span class="pre">0,</span> <span class="pre">2))</span></code></p></li>
<li><p>プロパティー</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">limits</span></code> は曲線のパラメーター定義域を表現する tuple である。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">parameter</span></code> は曲線のパラメーターのためのシンボルである。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">functions</span></code> は各座標成分の関数の tuple である。</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id22">デモ</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h2>
<div class="section" id="id10">
<h3><a class="toc-backref" href="#id23">メネラウスの定理</a><a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="sd">&quot;&quot;&quot;meneraus.py: Demonstrate Menelaus&#39; theorem with SymPy.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="n">Line</span><span class="p">,</span> <span class="n">symbols</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">demonstrate_menelaus</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Demonstrate Menelaus&#39; theorem.&quot;&quot;&quot;</span>

    <span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
    <span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">i</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;P=&quot;</span><span class="p">,</span> <span class="n">P</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q=&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R=&quot;</span><span class="p">,</span> <span class="n">R</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

    <span class="n">numer</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="o">*</span> <span class="n">B</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="o">*</span> <span class="n">C</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
    <span class="n">denom</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;numer=&quot;</span><span class="p">,</span> <span class="n">numer</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;denom=&quot;</span><span class="p">,</span> <span class="n">denom</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

    <span class="c1"># Or show simplify(numer/denom).</span>
    <span class="nb">print</span><span class="p">((</span><span class="n">numer</span><span class="o">/</span><span class="n">denom</span><span class="p">)</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">344</span><span class="p">),</span>
                    <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mi">143</span><span class="p">,</span> <span class="o">-</span><span class="mi">22</span><span class="p">),</span>
                    <span class="n">Point</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">300</span><span class="p">),)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span>
                      <span class="nb">zip</span><span class="p">(</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;X1:3&#39;</span><span class="p">),</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;Y1:3&#39;</span><span class="p">))])</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span>
                    <span class="nb">zip</span><span class="p">(</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x1:4&#39;</span><span class="p">),</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;y1:4&#39;</span><span class="p">))]</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
    <span class="n">demonstrate_menelaus</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="o">*</span><span class="n">vertices</span><span class="p">)</span>
</pre></div>
</div>
<ul>
<li><p>本当は数値的でないほうの座標で検証したかったが、私の環境では <code class="code docutils literal notranslate"><span class="pre">simplify(numer/denom)</span></code> が返って来なかった。</p></li>
<li><p>具体的な座標を与えた方の検証はうまくいく。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./menelaous.py
<span class="go">P= Point(-346.683333333333, -346.683333333333)</span>
<span class="go">Q= Point(170.682926829268, 170.682926829268)</span>
<span class="go">R= Point(-241.237623762376, -241.237623762376)</span>
<span class="go">numer= 41999675.9784931</span>
<span class="go">denom= 41999675.9784931</span>
<span class="go">1.00000000000000</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id11">
<h3><a class="toc-backref" href="#id24">チェバの定理</a><a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="sd">&quot;&quot;&quot;ceva.py: Demonstrate Ceva&#39;s theorem with SymPy.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="n">Line</span><span class="p">,</span> <span class="n">symbols</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">demonstrate_ceva</span><span class="p">(</span><span class="n">O</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Demonstrate Ceva&#39;s theorem.&quot;&quot;&quot;</span>

    <span class="n">c</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">A</span><span class="p">)</span>
    <span class="n">OA</span><span class="p">,</span> <span class="n">OB</span><span class="p">,</span> <span class="n">OC</span> <span class="o">=</span> <span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">O</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">))</span>
    <span class="n">P</span><span class="p">,</span> <span class="n">Q</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">j</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span>
               <span class="nb">zip</span><span class="p">((</span><span class="n">OA</span><span class="p">,</span> <span class="n">OB</span><span class="p">,</span> <span class="n">OC</span><span class="p">),</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;P=&quot;</span><span class="p">,</span> <span class="n">P</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Q=&quot;</span><span class="p">,</span> <span class="n">Q</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R=&quot;</span><span class="p">,</span> <span class="n">R</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

    <span class="n">numer</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="o">*</span> <span class="n">B</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="o">*</span> <span class="n">C</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">Q</span><span class="p">)</span>
    <span class="n">denom</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="o">*</span> <span class="n">Q</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;numer=&quot;</span><span class="p">,</span> <span class="n">numer</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;denom=&quot;</span><span class="p">,</span> <span class="n">denom</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

    <span class="c1"># Or show simplify(numer/denom).</span>
    <span class="nb">print</span><span class="p">((</span><span class="n">numer</span><span class="o">/</span><span class="n">denom</span><span class="p">)</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">(</span><span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="n">Point</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span> <span class="mi">344</span><span class="p">),</span>
                    <span class="n">Point</span><span class="p">(</span><span class="o">-</span><span class="mi">143</span><span class="p">,</span> <span class="o">-</span><span class="mi">22</span><span class="p">),</span>
                    <span class="n">Point</span><span class="p">(</span><span class="mi">59</span><span class="p">,</span> <span class="mi">300</span><span class="p">),)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">vertices</span> <span class="o">=</span> <span class="p">[</span><span class="n">Point</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span>
                    <span class="nb">zip</span><span class="p">(</span><span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x0:4&#39;</span><span class="p">),</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;y0:4&#39;</span><span class="p">))]</span>

    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
    <span class="n">demonstrate_ceva</span><span class="p">(</span><span class="o">*</span><span class="n">vertices</span><span class="p">)</span>
</pre></div>
</div>
<ul>
<li><p>本当は数値的でないほうの座標で検証したかったが、私の環境では <code class="code docutils literal notranslate"><span class="pre">simplify(numer/denom)</span></code> が返って来なかった。</p></li>
<li><p>具体的な座標を与えた方の検証はうまくいく。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./ceva.py
<span class="go">P= Point(13.9279086822051, 228.152408889456)</span>
<span class="go">Q= Point(280.783950617284, 43.1975308641975)</span>
<span class="go">R= Point(104.14656234152, 529.558791567051)</span>
<span class="go">numer= 20374326.3842940</span>
<span class="go">denom= 20374326.3842940</span>
<span class="go">1.00000000000000</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id12">
<h3><a class="toc-backref" href="#id25">方べきの定理</a><a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<p>具体的な座標を与えないとどうも上手くいかないようなので、数値計算に切り替えて様子見だ。さらに難易度？を落とし、方べきの定理を再現してみたい。</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="sd">&quot;&quot;&quot;circle_power.py: Demonstrate power-of-a-point theorem with SymPy.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Point</span><span class="p">,</span> <span class="n">Line</span><span class="p">,</span> <span class="n">Circle</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">demonstrate_circle_power</span><span class="p">(</span><span class="n">circle</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Demonstrate power-of-a-point theorem.&quot;&quot;&quot;</span>

    <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">D</span> <span class="o">=</span> <span class="p">(</span><span class="n">circle</span><span class="o">.</span><span class="n">random_point</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">Line</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">Line</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">),</span> <span class="n">Line</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">D</span><span class="p">))</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">P</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">P</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">PAPB</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
    <span class="n">PCPD</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">C</span><span class="p">)</span> <span class="o">*</span> <span class="n">P</span><span class="o">.</span><span class="n">distance</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PA * PB =&quot;</span><span class="p">,</span> <span class="n">PAPB</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PC * PD =&quot;</span><span class="p">,</span> <span class="n">PCPD</span><span class="o">.</span><span class="n">evalf</span><span class="p">())</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">center</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">demonstrate_circle_power</span><span class="p">(</span><span class="n">Circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">))</span>
</pre></div>
</div>
<p>円を単位円に固定する代わり、円周上の 4 点をランダムにとり、それらを結ぶ 2 弦の交点に対する方べきの定理を検証しよう。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./circle_power.py
<span class="go">PA * PB = 0.245325501000245</span>
<span class="go">PC * PD = 0.245325501000245</span>
<span class="gp">$ </span>./circle_power.py
<span class="go">PA * PB = 0.0519999915840500</span>
<span class="go">PC * PD = 0.0519999915840500</span>
</pre></div>
</div>
<hr class="docutils" />
<div class="admonition-todo admonition" id="id13">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>プロットは実現したい。</p></li>
<li><p>上の例で <code class="code docutils literal notranslate"><span class="pre">distance</span></code> を多用しているが、値一致テストの目的なら <code class="code docutils literal notranslate"><span class="pre">dot</span></code> を用いるのが常識的か。</p></li>
<li><p>もっとサンプルを作りたい。</p></li>
</ul>
</div>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="diophantine.html" title="Previous document">ディオファントス方程式</a>
        </li>
        <li>
          <a href="series.html" title="Next document">級数</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">読書ノート</a></h1>



<p class="blurb">個人的な読書、学習、研究ノート。</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../mathseminar72.html">数学 100 の発見 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gamma95/index.html">オブジェクト指向における再利用のためのデザインパターン改訂版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hunt00/index.html">達人プログラマー 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter00.html">Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alexandrescu01/index.html">Modern C++ Design 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../meyers01.html">Effective STL 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sutter02.html">More Exceptional C++ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../joel04/index.html">Joel on Software 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graham04.html">ハッカーと画家 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../angel05/index.html">OpenGL: A Primer Second Edition 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../yamamoto05/index.html">入門 xyzzy 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../newham05/index.html">入門 bash 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi05/index.html">幾何学 I 多様体入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subramaniam06.html">アジャイルプラクティス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asaoka06.html">SE・製造技術者・理工系学生のための技術文書の作り方・書き方 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levin06/index.html">Shaping Functions 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tsuboi08/index.html">幾何学 III 微分形式 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../loeliger09.html">実用 Git 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../griffiths10.html">プログラミング C# 第 6 版 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../onodera10.html">ORACLE MASTER Bronze 11g SQL 基礎 I 必修教本 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hosoda10/index.html">Python 入門［２＆３対応］読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nishiyama12/index.html">幾何学と不変量 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../omg15/index.html">Unified Modeling Language 2.5 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gorelick14.html">ハイパフォーマンス Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stroustrup14.html">C++ のエッセンス 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stepanov15.html">その数式、プログラムできますか？ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos15/index.html">WebGL Specification 1.0 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vivo15/index.html">The Book of Shaders 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../saha16.html">Python からはじめる数学入門 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slatkin16.html">Effective Python 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guntheroth16.html">Optimized C++ 下読みノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speinellis17.html">Effective Debugging 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bancila18.html">Modern C++ チャレンジ 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haverbeke18/index.html">Eloquent JavaScript 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../khronos18/index.html">OpenGL Shading Language 4.60 Specification 読書ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kantor22/index.html">The Modern JavaScript Tutorial 読書ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2014.html">ノート準備中書籍群 2014 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2015.html">ノート準備中書籍群 2015 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2016.html">ノート準備中書籍群 2016 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2017.html">ノート準備中書籍群 2017 年編</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preliminary2018.html">ノート準備中書籍群 2018 年編</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bash-v2.html">What’s New In Bash 2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v3.html">What’s New In Bash 3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bash-v4.html">What’s New In Bash 4 ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cpp11/index.html">What’s New In C++11 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp14/index.html">What’s New In C++14 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpp17/index.html">What’s New In C++17 ノート</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../python-3.0.html">What’s New In Python 3.0 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.1.html">What’s New In Python 3.1 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.2.html">What’s New In Python 3.2 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.3.html">What’s New In Python 3.3 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.4.html">What’s New In Python 3.4 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.5.html">What’s New In Python 3.5 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.6.html">What’s New In Python 3.6 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.7.html">What’s New In Python 3.7 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.8.html">What’s New In Python 3.8 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.9.html">What’s New In Python 3.9 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-3.10.html">What’s New In Python 3.10 ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pip.html">pip 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pylint.html">Pylint 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-docutils/index.html">Docutils 解読ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-restview.html">Restview 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-nose.html">Nose 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-ipython.html">IPython 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jupyter.html">Jupyter 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-numpy/index.html">NumPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scipy/index.html">SciPy 利用ノート</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">SymPy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-apgl.html">Another Python Graph Library (APGL) 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pil.html">PIL 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pillow.html">Pillow 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-matplotlib/index.html">Matplotlib 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-networkx/index.html">NetworkX 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-quaternion.html">Quaternion 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-jinja2.html">Jinja2 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygments.html">Pygments 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-bs4.html">BeautifulSoup4 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-selenium.html">Selenium 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-scrapy.html">Scrapy 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-twitter/index.html">Python Twitter Tools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-isbn-hyphenate.html">isbn-hyphenate 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyopengl/index.html">PyOpenGL 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt4.html">PyQt4 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pyqt5.html">PyQt5 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pandas/index.html">Pandas 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pygame.html">Pygame 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-pytube.html">Pytube 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-py2exe.html">Py2exe 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-upgrade.html">Python 移行ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-miniconda.html">Miniconda 利用ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../freeware.html">Windows 用フリーウェア 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deepl-translator.html">DeepL Translator 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../winget.html">Windows Package Manager CLI 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power-toys.html">Microsoft PowerToys 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../windows-terminal.html">Windows Terminal 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wsl.html">Windows Subsystem for Linux 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vscode/index.html">Visual Studio Code 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cygwin.html">Cygwin 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chrome.html">Chrome DevTools 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git/index.html">Git 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../twitter.html">Twitter 利用ノート [obsolete]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inkscape/index.html">Inkscape 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mathjax.html">MathJax 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../javascript-mermaid/index.html">Mermaid 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../css-selector.html">CSS セレクター学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xpath.html">XPath 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hxutils.html">HTML-XML-utils 利用ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webgl.html">WebGL 学習ノート</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandoc.html">Pandoc 利用ノート</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../milestone09/index.html">ラジルギノア プレイノート</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">SymPy 利用ノート</a><ul>
      <li>Previous: <a href="diophantine.html" title="previous chapter">ディオファントス方程式</a></li>
      <li>Next: <a href="series.html" title="next chapter">級数</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2022, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>