<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>集合 &#8212; 読書ノート 1.6dev documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=1a9a5cd9" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=5a6f99c4"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script async="async" src="../_static/mathjax-v3.js?v=bf1ec211"></script>
    <script src="../_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="組合せ論と群論" href="combinatorics.html" />
    <link rel="prev" title="論理代数" href="logic.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="logic.html" title="Previous document">論理代数</a>
        </li>
        <li>
          <a href="combinatorics.html" title="Next document">組合せ論と群論</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="id1">
<h1><a class="toc-backref" href="#id11" role="doc-backlink">集合</a><a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://www.sympy.org/">SymPy</a> が提供するクラス <code class="docutils literal notranslate"><span class="pre">Set</span></code> およびその諸サブクラスについて記す。 Python も組み込みでクラス <code class="docutils literal notranslate"><span class="pre">set</span></code> を提供しているが、記号演算と集合演算に特化させる目的で
SymPy としてもこれらを持っているのだろう。</p>
<nav class="contents" id="id2">
<p class="topic-title">ノート目次</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id11">集合</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id12">主要クラス図</a></p></li>
<li><p><a class="reference internal" href="#set" id="id13">クラス <code class="docutils literal notranslate"><span class="pre">Set</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#id4" id="id14">プロパティー</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id15">演算子による集合演算</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id16">メソッド</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id7" id="id17">サブクラス</a></p>
<ul>
<li><p><a class="reference internal" href="#emptyset" id="id18">クラス <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code></a></p></li>
<li><p><a class="reference internal" href="#universalset" id="id19">クラス <code class="docutils literal notranslate"><span class="pre">UniversalSet</span></code></a></p></li>
<li><p><a class="reference internal" href="#id8" id="id20">集合演算クラス</a></p></li>
<li><p><a class="reference internal" href="#productset" id="id21">クラス <code class="docutils literal notranslate"><span class="pre">ProductSet</span></code></a></p></li>
<li><p><a class="reference internal" href="#interval" id="id22">クラス <code class="docutils literal notranslate"><span class="pre">Interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#finiteset" id="id23">クラス <code class="docutils literal notranslate"><span class="pre">FiniteSet</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id9" id="id24">その他のサブクラス</a></p>
<ul>
<li><p><a class="reference internal" href="#naturals-naturals0-integers" id="id25">クラス <code class="docutils literal notranslate"><span class="pre">Naturals</span></code>, <code class="docutils literal notranslate"><span class="pre">Naturals0</span></code>, <code class="docutils literal notranslate"><span class="pre">Integers</span></code></a></p></li>
<li><p><a class="reference internal" href="#reals" id="id26">クラス <code class="docutils literal notranslate"><span class="pre">Reals</span></code></a></p></li>
<li><p><a class="reference internal" href="#complexregion-complexes" id="id27">クラス <code class="docutils literal notranslate"><span class="pre">ComplexRegion</span></code>, <code class="docutils literal notranslate"><span class="pre">Complexes</span></code></a></p></li>
<li><p><a class="reference internal" href="#imageset" id="id28">クラス <code class="docutils literal notranslate"><span class="pre">ImageSet</span></code></a></p></li>
<li><p><a class="reference internal" href="#range" id="id29">クラス <code class="docutils literal notranslate"><span class="pre">Range</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#id10" id="id30">演習</a></p></li>
</ul>
</li>
</ul>
</nav>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>本文中のすべての IPython セッション中のサンプルコードで、以下のインポートおよび出力書式設定が済んでいるものとする。</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">init_printing</span><span class="p">(</span><span class="n">pretty_print</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<section id="id3">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">主要クラス図</a><a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h2>
<p>サブパッケージ <code class="docutils literal notranslate"><span class="pre">sympy.sets</span></code> が提供する集合を表現するクラスたち。インデントが派生関係を意味する。一行空けは特に意味はない。</p>
<div align="center" class="mermaid align-center">
            classDiagram
    Set &lt;|-- EmptySet
    Set &lt;|-- UniversalSet

    Set &lt;|-- Union
    Set &lt;|-- Intersection
    Set &lt;|-- Complement
    Set &lt;|-- SymmetricDifference

    Set &lt;|-- ProductSet

    Set &lt;|-- Interval
        Interval &lt;|-- Reals
    Set &lt;|-- FiniteSet

    Set &lt;|-- Naturals
        Naturals &lt;|-- Naturals0
    Set &lt;|-- Integers

    Set &lt;|-- ComplexRegion
        ComplexRegion&lt;|-- Complexes

    Set &lt;|-- ImageSet
    Set &lt;|-- Range
        </div>
        <ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Set</span></code> のスーパークラスはクラス <code class="docutils literal notranslate"><span class="pre">Basic</span></code> である。</p></li>
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">Set</span></code> のサブクラスには、もう一つ別のクラスをスーパークラスに持つことがある。</p></li>
<li><p>一部のサブクラスは <code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy.sets.fancysets</span> <span class="pre">import</span> <span class="pre">...</span></code> しないと利用可能にならない。</p></li>
</ul>
<p>集合に関する機能（属性、操作）は、期待しているものがクラス <code class="docutils literal notranslate"><span class="pre">Set</span></code> のインターフェイスとして提供されている。</p>
</section>
<section id="set">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">Set</span></code></a><a class="headerlink" href="#set" title="Permalink to this heading">¶</a></h2>
<p>ここをしっかり押さえれば <code class="docutils literal notranslate"><span class="pre">SymPy</span></code> の集合を把握できたも同然。</p>
<section id="id4">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">プロパティー</a><a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<p>クラス単位のものとオブジェクト単位のものがある。後者に興味があるので、ここでまとめておく。</p>
<p>基本的には各プロパティーの意味はその名前から推測できるとおり。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">inf</span></code>, <code class="docutils literal notranslate"><span class="pre">sup</span></code></dt><dd><p>それぞれ集合の下限と上限を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">measure</span></code></dt><dd><p>集合のルベーグ測度を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">boundary</span></code></dt><dd><p>集合の境界を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_open</span></code>, <code class="docutils literal notranslate"><span class="pre">is_closed</span></code></dt><dd><p>それぞれ集合が開集合であるか、閉集合であるかを返す。</p>
<ul class="simple">
<li><p>集合 E が開集合 ⇔ E と E の境界の共通部分が空集合。</p></li>
<li><p>集合 E が閉集合 ⇔ E の境界が E に含まれる。</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">closure</span></code></dt><dd><p>集合の閉包を返す。すなわち E と E の境界の和集合を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">interior</span></code></dt><dd><p>集合の内部（内点すべての集合）を返す。 E の境界の補集合として表現する。</p>
</dd>
</dl>
<p>位相空間論的プロパティーの核となるものは <code class="docutils literal notranslate"><span class="pre">boundary</span></code> である。</p>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">演算子による集合演算</a><a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<p>集合オブジェクト同士の各種演算を演算子で表現できる。ここで <code class="docutils literal notranslate"><span class="pre">E</span></code> と <code class="docutils literal notranslate"><span class="pre">T</span></code> をオブジェクトとする。</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">+</span> <span class="pre">T</span></code>, <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">|</span> <span class="pre">T</span></code> は和集合。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">&amp;</span> <span class="pre">T</span></code> は共通集合。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">*</span> <span class="pre">T</span></code> は直積集合。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">**</span> <span class="pre">n</span></code> は <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">*</span> <span class="pre">E</span> <span class="pre">*</span> <span class="pre">...</span> <span class="pre">*</span> <span class="pre">E</span></code> の形をとる直積集合。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">-</span> <span class="pre">T</span></code> は <code class="docutils literal notranslate"><span class="pre">E</span></code> に対する <code class="docutils literal notranslate"><span class="pre">T</span></code> の補集合。</p></li>
</ul>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">メソッド</a><a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<p>ここで <code class="docutils literal notranslate"><span class="pre">E</span></code> と <code class="docutils literal notranslate"><span class="pre">T</span></code> をそれぞれ自身およびメソッド引数となる集合オブジェクトとする。</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">union</span></code></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">Union(E,</span> <span class="pre">T)</span></code> を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">intersect</span></code>, <code class="docutils literal notranslate"><span class="pre">intersection</span></code></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">Intersection(E,</span> <span class="pre">T)</span></code> を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">complement</span></code></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">Complement(T,</span> <span class="pre">E)</span></code> を返す。これは引数が全体を示す方のオブジェクトなので間違えぬようにする。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">symmetric_difference</span></code></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">SymmetricDifference(E,</span> <span class="pre">T)</span></code> を返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">powerset</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">E</span></code> のべき集合オブジェクトを返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">isdisjoint</span></code>, <code class="docutils literal notranslate"><span class="pre">is_disjoint</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">E</span></code> と <code class="docutils literal notranslate"><span class="pre">T</span></code> の共通集合が空であるかを返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">issubset</span></code>, <code class="docutils literal notranslate"><span class="pre">is_subset</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">E</span></code> が <code class="docutils literal notranslate"><span class="pre">T</span></code> の部分集合であるかを返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">issuperset</span></code>, <code class="docutils literal notranslate"><span class="pre">is_superset</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">issubset</span></code> を逆方向に試す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_proper_subset</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">E</span></code> が <code class="docutils literal notranslate"><span class="pre">T</span></code> の部分集合であり、かつ <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">!=</span> <span class="pre">T</span></code> であるかを返す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_proper_superset</span></code></dt><dd><p><code class="docutils literal notranslate"><span class="pre">is_proper_subset</span></code> を逆方向に試す。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">contains</span></code></dt><dd><p>これは引数が集合ではなく、何かの値 <code class="docutils literal notranslate"><span class="pre">x</span></code> である。つまり <code class="docutils literal notranslate"><span class="pre">x</span></code> が <code class="docutils literal notranslate"><span class="pre">E</span></code> の元であるかを返す。<code class="code docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">E</span></code> とも書ける。</p>
</dd>
</dl>
</section>
</section>
<section id="id7">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">サブクラス</a><a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h2>
<p>クラス <code class="docutils literal notranslate"><span class="pre">Set</span></code> のサブクラスのうち、面白そうなものを見ていく。</p>
<section id="emptyset">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code></a><a class="headerlink" href="#emptyset" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code> は空集合を表現する。空集合を表現するためにクラスを定義することで、色々とメリットがあるようだ。</p>
<ul class="simple">
<li><p>コンストラクターでオブジェクトを生成することも、シングルトン管理オブジェクトから <code class="docutils literal notranslate"><span class="pre">S.EmptySet</span></code> として参照することもできる。クラス <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code> がシングルトンゆえ、両者は同一のオブジェクトだ。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">len</span></code> を <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code> オブジェクトに適用すると常に <code class="docutils literal notranslate"><span class="pre">0</span></code> を返す。</p></li>
<li><p>ルベーグ測度が常に <code class="docutils literal notranslate"><span class="pre">0</span></code> である。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">contains</span></code> は常に SymPy の <code class="docutils literal notranslate"><span class="pre">S.false</span></code> を返す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">intersection</span></code> は常に空集合オブジェクトを返す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">union</span></code>, <code class="docutils literal notranslate"><span class="pre">complement</span></code>, <code class="docutils literal notranslate"><span class="pre">symmetric_difference</span></code> は常に引数の集合オブジェクト自身を返す。</p></li>
</ul>
</section>
<section id="universalset">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">UniversalSet</span></code></a><a class="headerlink" href="#universalset" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">UniversalSet</span></code> は全体集合を表現する。クラス <code class="docutils literal notranslate"><span class="pre">UniversalSet</span></code> の着想は
<code class="docutils literal notranslate"><span class="pre">EmptySet</span></code> と同じだろう。</p>
<ul class="simple">
<li><p>クラス <code class="docutils literal notranslate"><span class="pre">EmptySet</span></code> 同様、シングルトンである。シングルトン管理オブジェクトから
<code class="docutils literal notranslate"><span class="pre">S.UniversalSet</span></code> として参照できる。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">len</span></code> は利用不可。</p></li>
<li><p>ルベーグ測度が常に <code class="docutils literal notranslate"><span class="pre">S.Inifinity</span></code> である。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">boundary</span></code> は常に <code class="docutils literal notranslate"><span class="pre">S.EmptySet</span></code> を返す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">contains</span></code> は常に SymPy の <code class="docutils literal notranslate"><span class="pre">S.true</span></code> を返す。</p></li>
<li><p>その他の集合演算系メソッドはそれぞれ、与えられた引数に対する想像通りの値を返す。</p></li>
</ul>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">集合演算クラス</a><a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<p>集合演算の結果を表現する一連のクラスを、C++ の標準ライブラリー関数との連想で覚えておく。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>サブクラス</p></th>
<th class="head"><p>C++ &lt;algorithm&gt;</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Union</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">std::set_union</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Complement</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">std::set_difference</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Intersection</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">std::set_intersection</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SymmetricDifference</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">std::set_symmetric_difference</span></code></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>コンストラクターについて</p>
<ul>
<li><p>引数にとる集合オブジェクトの個数は、次のとおり。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Union</span></code> と <code class="docutils literal notranslate"><span class="pre">Intersection</span></code> は任意の個数。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Complement</span></code> と <code class="docutils literal notranslate"><span class="pre">SymmetricDifference</span></code> はちょうど二個だけ。</p></li>
</ul>
</li>
<li><p>サポートするキーワード引数は <code class="docutils literal notranslate"><span class="pre">evaluate</span></code> だけとなる。</p>
<ul>
<li><p>キーワード引数 <code class="docutils literal notranslate"><span class="pre">evaluate</span></code> は Python のブーリアン値をとる。これが
<code class="docutils literal notranslate"><span class="pre">True</span></code> のときには要素を簡略化する。つまり静的メソッド <code class="docutils literal notranslate"><span class="pre">reduce</span></code> が呼ばれる。</p></li>
</ul>
</li>
</ul>
</li>
<li><p>静的メソッド <code class="docutils literal notranslate"><span class="pre">reduce</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Union</span></code> と <code class="docutils literal notranslate"><span class="pre">Intersection</span></code> のそれの実装を見ると何をしているのか理解できる。</p></li>
<li><p>実装に Python の組み込み型 <code class="docutils literal notranslate"><span class="pre">set</span></code> を利用している。</p></li>
</ul>
</li>
<li><p>イテレーターについて</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Range</span></code> の <code class="docutils literal notranslate"><span class="pre">Union</span></code> に対するイテレーターが動かない？</p></li>
</ul>
</li>
</ul>
</section>
<section id="productset">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">ProductSet</span></code></a><a class="headerlink" href="#productset" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">ProductSet</span></code> は集合の直積（デカルト積）を表現する。</p>
<ul class="simple">
<li><p>コンストラクターで各集合を指示して直積集合オブジェクトを生成する。</p></li>
<li><p>集合演算は <code class="docutils literal notranslate"><span class="pre">ProductSet</span></code> オブジェクト同士でなければならない。</p></li>
<li><p>プロパティー <code class="docutils literal notranslate"><span class="pre">sets</span></code> にて、直積の各集合にアクセスできる。</p></li>
<li><p>オブジェクトが iterable である場合とそうでない場合がある。</p>
<ul>
<li><p>プロパティー <code class="docutils literal notranslate"><span class="pre">is_iterable</span></code> で判定できる。</p></li>
<li><p>アクセス順は Python 標準の関数 <code class="docutils literal notranslate"><span class="pre">product</span></code> を各集合に適用したものと同じらしい。</p></li>
</ul>
</li>
</ul>
</section>
<section id="interval">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">Interval</span></code></a><a class="headerlink" href="#interval" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">Interval</span></code> は実数区間を表現する。開区間、閉区間、半開区間もサポート。</p>
<ul class="simple">
<li><p>コンストラクター</p>
<ul>
<li><p>呼び出し形式は <code class="code docutils literal notranslate"><span class="pre">Interval(start,</span> <span class="pre">end,</span> <span class="pre">left_open=False,</span>
<span class="pre">right_open=False)</span></code> である。キーワード引数の意味は、その名前が示す通り。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">start</span> <span class="pre">&lt;</span> <span class="pre">end</span></code> となるように引数を指示しないと、空集合オブジェクトになってしまう。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">start</span> <span class="pre">==</span> <span class="pre">end</span></code> となるように指示すると、一点からなる <code class="docutils literal notranslate"><span class="pre">FiniteSet</span></code> オブジェクトが生成してしまう。</p></li>
<li><p>端点として <code class="docutils literal notranslate"><span class="pre">S.Infinity</span></code> 等も指定できる。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">Lopen</span></code>, <code class="docutils literal notranslate"><span class="pre">Ropen</span></code> 等により、指定端点を開区間にしたオブジェクトを複製できる。</p></li>
</ul>
</li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">evalf</span></code> が利用可能。</p></li>
</ul>
</section>
<section id="finiteset">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">FiniteSet</span></code></a><a class="headerlink" href="#finiteset" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">FiniteSet</span></code> は有限集合、すなわち元が有限個の集合を表現する。</p>
<ul class="simple">
<li><p>コンストラクターには元を列挙しておけばよい。</p></li>
<li><p>オブジェクトは iterable である。集合の元は内部的にはソートされた状態なので、その順序に従って値が <code class="docutils literal notranslate"><span class="pre">yield</span></code> される。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">boundary</span></code> は自分自身を返す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">measure</span></code> は <code class="docutils literal notranslate"><span class="pre">0</span></code> を返す。</p></li>
<li><p>メソッド <code class="docutils literal notranslate"><span class="pre">evalf</span></code> が利用可能。</p></li>
</ul>
</section>
</section>
<section id="id9">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">その他のサブクラス</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h2>
<p>頻出する集合はサブクラスとしてモジュール <code class="docutils literal notranslate"><span class="pre">sympy.sets.fancysets</span></code> に定義されている。</p>
<section id="naturals-naturals0-integers">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">Naturals</span></code>, <code class="docutils literal notranslate"><span class="pre">Naturals0</span></code>, <code class="docutils literal notranslate"><span class="pre">Integers</span></code></a><a class="headerlink" href="#naturals-naturals0-integers" title="Permalink to this heading">¶</a></h3>
<p>名前が示す通りの整数を元とする集合を表現するクラス。それぞれのシングルトンオブジェクトが存在しており、例えば <code class="docutils literal notranslate"><span class="pre">S.Natural</span></code> などとしてアクセスできる。</p>
</section>
<section id="reals">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">Reals</span></code></a><a class="headerlink" href="#reals" title="Permalink to this heading">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">Interval(-S.Infinity,</span> <span class="pre">S.Infinity)</span></code> と同じ。シングルトンオブジェクト
<code class="docutils literal notranslate"><span class="pre">S.Reals</span></code> としてアクセス可能。</p>
</section>
<section id="complexregion-complexes">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">ComplexRegion</span></code>, <code class="docutils literal notranslate"><span class="pre">Complexes</span></code></a><a class="headerlink" href="#complexregion-complexes" title="Permalink to this heading">¶</a></h3>
<p>クラス <code class="docutils literal notranslate"><span class="pre">ComplexRegion</span></code> は複素平面の領域を表現するクラス。</p>
<ul class="simple">
<li><p>例えば <code class="docutils literal notranslate"><span class="pre">Interval</span></code> の直積で生成すると、複素平面上の矩形領域を表現できる。</p></li>
<li><p>極座標のような与え方もできる。そのときはキーワード引数 <code class="code docutils literal notranslate"><span class="pre">polar=True</span></code> を用いる。</p></li>
</ul>
<p>一方、クラス <code class="docutils literal notranslate"><span class="pre">Complexes</span></code> は複素平面全体を表現するクラス。ユーザーはいつでもシングルトンオブジェクト <code class="docutils literal notranslate"><span class="pre">S.Complexes</span></code> にアクセスできる。</p>
</section>
<section id="imageset">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">ImageSet</span></code></a><a class="headerlink" href="#imageset" title="Permalink to this heading">¶</a></h3>
<p>ある集合とある写像に対する像を表現するクラス。オブジェクトの生成は
<code class="code docutils literal notranslate"><span class="pre">ImageSet(f,</span> <span class="pre">E)</span></code> のようにすればよい。</p>
<ul class="simple">
<li><p>あるいは関数 <code class="docutils literal notranslate"><span class="pre">imageset</span></code> を用いて <code class="code docutils literal notranslate"><span class="pre">imageset(x,</span> <span class="pre">expr,</span> <span class="pre">E)</span></code> のようにする。</p></li>
<li><p>または <code class="code docutils literal notranslate"><span class="pre">imageset(lambda</span> <span class="pre">x:</span> <span class="pre">f(x),</span> <span class="pre">E)</span></code> のような。</p></li>
<li><p>他にもある。</p></li>
</ul>
</section>
<section id="range">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">クラス <code class="docutils literal notranslate"><span class="pre">Range</span></code></a><a class="headerlink" href="#range" title="Permalink to this heading">¶</a></h3>
<p>Python 組み込みの <code class="docutils literal notranslate"><span class="pre">range</span></code> とよく似ている集合。</p>
</section>
</section>
<section id="id10">
<h2><a class="toc-backref" href="#id30" role="doc-backlink">演習</a><a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h2>
<p>単体テストのコードを読んでおく。</p>
<ul>
<li><p>条件を満たせば記号オブジェクトを <code class="docutils literal notranslate"><span class="pre">Interval</span></code> の端点に指定することができる。</p>
<ul class="simple">
<li><p>あとでメソッド <code class="docutils literal notranslate"><span class="pre">subs</span></code> を利用して値を代入することもできる。</p></li>
</ul>
</li>
<li><p>単一の集合オブジェクトだけを引数として <code class="docutils literal notranslate"><span class="pre">Union</span></code>, <code class="docutils literal notranslate"><span class="pre">ProductSet</span></code> 等の オブジェクトを生成できる。ただし、結果は元の集合と同じものになる。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FiniteSet</span></code> の元は数に限らない。</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">R2</span> <span class="pre">=</span> <span class="pre">S.Reals</span> <span class="pre">*</span> <span class="pre">S.Reals</span></code> または <code class="code docutils literal notranslate"><span class="pre">R2</span> <span class="pre">=</span> <span class="pre">S.Reals</span> <span class="pre">**</span> <span class="pre">2</span></code> とすれば
<span class="math notranslate nohighlight">\(\RR^2\)</span> を表現できる。</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">in</span> <span class="pre">R2</span></code> のようなコードが書ける。</p></li>
</ul>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">Interval(0,</span> <span class="pre">1,</span> <span class="pre">True,</span> <span class="pre">True)</span> <span class="pre">**</span> <span class="pre">2</span></code> に対するメソッド <code class="docutils literal notranslate"><span class="pre">boundary</span></code> の戻り値がおもしろい。</p></li>
<li><p>座標平面上の原点を中心とする円の定義法の例。テストコード改。</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="n">r</span><span class="p">,</span> <span class="n">th</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;r theta&#39;</span><span class="p">,</span> <span class="n">real</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="gp">In [2]: </span><span class="n">L</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">th</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">th</span><span class="p">),</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)))</span>

<span class="gp">In [3]: </span><span class="n">D</span> <span class="o">=</span> <span class="n">ImageSet</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">Interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">Interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">));</span> <span class="n">D</span>
<span class="gh">Out[3]: </span><span class="go">ImageSet(Lambda((r, theta), (r*cos(theta), r*sin(theta))), [0, 1] x [0, 2*pi))</span>

<span class="gp">In [4]: </span><span class="n">D</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">Reals</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">Reals</span><span class="p">)</span>
<span class="gh">Out[4]: </span><span class="go">False</span>
</pre></div>
</div>
<ul class="simple">
<li><p>[2] 写像 <span class="math notranslate nohighlight">\({\fnm{\RR^2}{\RR^2}{(r, \theta)}(r \cos \theta, r \sin
\theta)}\)</span> を定義する。</p></li>
<li><p>[3] <span class="math notranslate nohighlight">\({[0, 1]} \times {[0, 2 \pi)}\)</span> の <code class="docutils literal notranslate"><span class="pre">f</span></code> による像を計算する。それらしいオブジェクトが得られる。</p></li>
<li><p>[4] これはおかしい。<span class="math notranslate nohighlight">\({D \subset \RR^2}\)</span> のつもりなのだが。</p></li>
</ul>
</li>
</ul>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="logic.html" title="Previous document">論理代数</a>
        </li>
        <li>
          <a href="combinatorics.html" title="Next document">組合せ論と群論</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2024, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>