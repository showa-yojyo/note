
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>集合 &#8212; 読書ノート v1.4</title>
    <link rel="stylesheet" href="../_static/prefab.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/mathjaxconf.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="next" title="組合せ論と群論" href="combinatorics.html" />
    <link rel="prev" title="論理代数" href="logic.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="combinatorics.html" title="組合せ論と群論"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="logic.html" title="論理代数"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">SymPy 利用ノート</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="id1">
<h1><a class="toc-backref" href="#id11">集合</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.sympy.org/">SymPy</a> が提供するクラス Set およびその諸サブクラスについて記す。
Python も組み込みでクラス set を提供しているが、記号演算と集合演算に特化させる目的で SymPy としてもこれらを持っているのだろう。</p>
<div class="contents topic" id="id2">
<p class="topic-title first">ノート目次</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id11">集合</a><ul>
<li><a class="reference internal" href="#id3" id="id12">主要クラス図</a></li>
<li><a class="reference internal" href="#set" id="id13">クラス Set</a><ul>
<li><a class="reference internal" href="#id4" id="id14">プロパティー</a></li>
<li><a class="reference internal" href="#id5" id="id15">演算子による集合演算</a></li>
<li><a class="reference internal" href="#id6" id="id16">メソッド</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7" id="id17">サブクラス</a><ul>
<li><a class="reference internal" href="#emptyset" id="id18">クラス EmptySet</a></li>
<li><a class="reference internal" href="#universalset" id="id19">クラス UniversalSet</a></li>
<li><a class="reference internal" href="#id8" id="id20">集合演算クラス</a></li>
<li><a class="reference internal" href="#productset" id="id21">クラス ProductSet</a></li>
<li><a class="reference internal" href="#interval" id="id22">クラス Interval</a></li>
<li><a class="reference internal" href="#finiteset" id="id23">クラス FiniteSet</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9" id="id24">その他のサブクラス</a><ul>
<li><a class="reference internal" href="#naturals-naturals0-integers" id="id25">クラス Naturals, Naturals0, Integers</a></li>
<li><a class="reference internal" href="#reals" id="id26">クラス Reals</a></li>
<li><a class="reference internal" href="#complexregion-complexes" id="id27">クラス ComplexRegion, Complexes</a></li>
<li><a class="reference internal" href="#imageset" id="id28">クラス ImageSet</a></li>
<li><a class="reference internal" href="#range" id="id29">クラス Range</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10" id="id30">演習</a></li>
</ul>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>本文中のすべての IPython セッション中のサンプルコードで、以下のインポートおよび出力書式設定が済んでいるものとする。</p>
<div class="code python3 last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">init_printing</span><span class="p">(</span><span class="n">pretty_print</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id12">主要クラス図</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>サブパッケージ <code class="docutils literal notranslate"><span class="pre">sympy.sets</span></code> が提供する集合を表現するクラスたち。インデントが派生関係を意味する。一行空けは特に意味はない。</p>
<div class="code text highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Set</span>
    <span class="n">EmptySet</span>
    <span class="n">UniversalSet</span>

    <span class="n">Union</span>
    <span class="n">Intersection</span>
    <span class="n">Complement</span>
    <span class="n">SymmetricDifference</span>

    <span class="n">ProductSet</span>

    <span class="n">Interval</span>
        <span class="n">Reals</span>
    <span class="n">FiniteSet</span>

    <span class="n">Naturals</span>
        <span class="n">Naturals0</span>
    <span class="n">Integers</span>

    <span class="n">ComplexRegion</span>
        <span class="n">Complexes</span>

    <span class="n">ImageSet</span>
    <span class="n">Range</span>
</pre></div>
</div>
<ul class="simple">
<li>クラス Set のスーパークラスはクラス Basic である。</li>
<li>クラス Set のサブクラスには、もう一つ別のクラスをスーパークラスに持つことがある。</li>
<li>一部のサブクラスは <code class="code docutils literal notranslate"><span class="pre">from</span> <span class="pre">sympy.sets.fancysets</span> <span class="pre">import</span> <span class="pre">...</span></code> しないと利用可能にならない。</li>
</ul>
<p>集合に関する機能（属性、操作）は、期待しているものがクラス Set のインターフェイスとして提供されている。</p>
</div>
<div class="section" id="set">
<h2><a class="toc-backref" href="#id13">クラス Set</a><a class="headerlink" href="#set" title="Permalink to this headline">¶</a></h2>
<p>ここをしっかり抑えれば SymPy の集合を把握できたも同然。</p>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id14">プロパティー</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>クラス単位のものとオブジェクト単位のものがある。後者に興味があるので、ここでまとめておく。</p>
<p>基本的には各プロパティーの意味はその名前から推測できるとおり。</p>
<dl class="docutils">
<dt><code class="code docutils literal notranslate"><span class="pre">inf</span></code>, <code class="code docutils literal notranslate"><span class="pre">sup</span></code></dt>
<dd>それぞれ集合の下限と上限を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">measure</span></code></dt>
<dd>集合のルベーグ測度を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">boundary</span></code></dt>
<dd>集合の境界を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">is_open</span></code>, <code class="code docutils literal notranslate"><span class="pre">is_closed</span></code></dt>
<dd><p class="first">それぞれ集合が開集合であるか、閉集合であるかを返す。</p>
<ul class="last simple">
<li>集合 E が開集合 ⇔ E と E の境界の共通部分が空集合。</li>
<li>集合 E が閉集合 ⇔ E の境界が E に含まれる。</li>
</ul>
</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">closure</span></code></dt>
<dd>集合の閉包を返す。すなわち E と E の境界の和集合を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">interior</span></code></dt>
<dd>集合の内部（内点すべての集合）を返す。
E の境界の補集合として表現する。</dd>
</dl>
<p>位相空間論的プロパティーの核となるものは <code class="code docutils literal notranslate"><span class="pre">boundary</span></code> である。</p>
</div>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id15">演算子による集合演算</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>集合オブジェクト同士の各種演算を演算子で表現できる。ここで <code class="code docutils literal notranslate"><span class="pre">E</span></code> と <code class="code docutils literal notranslate"><span class="pre">T</span></code> をオブジェクトとする。</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">+</span> <span class="pre">T</span></code>, <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">|</span> <span class="pre">T</span></code> は和集合。</li>
<li><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">&amp;</span> <span class="pre">T</span></code> は共通集合。</li>
<li><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">*</span> <span class="pre">T</span></code> は直積集合。</li>
<li><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">**</span> <span class="pre">n</span></code> は <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">*</span> <span class="pre">E</span> <span class="pre">*</span> <span class="pre">...</span> <span class="pre">*</span> <span class="pre">E</span></code> の形をとる直積集合。</li>
<li><code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">-</span> <span class="pre">T</span></code> は <code class="code docutils literal notranslate"><span class="pre">E</span></code> に対する <code class="code docutils literal notranslate"><span class="pre">T</span></code> の補集合。</li>
</ul>
</div>
<div class="section" id="id6">
<h3><a class="toc-backref" href="#id16">メソッド</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>ここで <code class="code docutils literal notranslate"><span class="pre">E</span></code> と <code class="code docutils literal notranslate"><span class="pre">T</span></code> をそれぞれ自身およびメソッド引数となる集合オブジェクトとする。</p>
<dl class="docutils">
<dt><code class="code docutils literal notranslate"><span class="pre">union</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">Union(E,</span> <span class="pre">T)</span></code> を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">intersect</span></code>, <code class="code docutils literal notranslate"><span class="pre">intersection</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">Intersection(E,</span> <span class="pre">T)</span></code> を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">complement</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">Complement(T,</span> <span class="pre">E)</span></code> を返す。これは引数が全体を示す方のオブジェクトなので間違えぬようにする。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">symmetric_difference</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">SymmetricDifference(E,</span> <span class="pre">T)</span></code> を返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">powerset</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">E</span></code> のべき集合オブジェクトを返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">isdisjoint</span></code>, <code class="code docutils literal notranslate"><span class="pre">is_disjoint</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">E</span></code> と <code class="code docutils literal notranslate"><span class="pre">T</span></code> の共通集合が空であるかを返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">issubset</span></code>, <code class="code docutils literal notranslate"><span class="pre">is_subset</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">E</span></code> が <code class="code docutils literal notranslate"><span class="pre">T</span></code> の部分集合であるかを返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">issuperset</span></code>, <code class="code docutils literal notranslate"><span class="pre">is_superset</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">issubset</span></code> を逆方向に試す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">is_proper_subset</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">E</span></code> が <code class="code docutils literal notranslate"><span class="pre">T</span></code> の部分集合であり、かつ <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">!=</span> <span class="pre">T</span></code> であるかを返す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">is_proper_superset</span></code></dt>
<dd><code class="code docutils literal notranslate"><span class="pre">is_proper_subset</span></code> を逆方向に試す。</dd>
<dt><code class="code docutils literal notranslate"><span class="pre">contains</span></code></dt>
<dd><p class="first">これは引数が集合ではなく、何かの値 <code class="code docutils literal notranslate"><span class="pre">x</span></code> である。つまり <code class="code docutils literal notranslate"><span class="pre">x</span></code> が <code class="code docutils literal notranslate"><span class="pre">E</span></code> の元であるかを返す。</p>
<p class="last"><code class="code docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">E</span></code> とも書ける。</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id17">サブクラス</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>クラス Set のサブクラスのうち、面白そうなものを見ていく。</p>
<div class="section" id="emptyset">
<h3><a class="toc-backref" href="#id18">クラス EmptySet</a><a class="headerlink" href="#emptyset" title="Permalink to this headline">¶</a></h3>
<p>クラス EmptySet は空集合を表現する。空集合を表現するためにクラスを定義することで、色々とメリットがあるようだ。</p>
<ul class="simple">
<li>コンストラクターでオブジェクトを生成することも、シングルトン管理オブジェクトから <code class="code docutils literal notranslate"><span class="pre">S.EmptySet</span></code> として参照することもできる。クラス EmptySet がシングルトンゆえ、両者は同一のオブジェクトだ。</li>
<li>関数 <code class="code docutils literal notranslate"><span class="pre">len</span></code> を EmptySet オブジェクトに適用すると常に <code class="docutils literal notranslate"><span class="pre">0</span></code> を返す。</li>
<li>ルベーグ測度が常に <code class="docutils literal notranslate"><span class="pre">0</span></code> である。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">contains</span></code> は常に SymPy の <code class="code docutils literal notranslate"><span class="pre">S.false</span></code> を返す。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">intersection</span></code> は常に空集合オブジェクトを返す。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">union</span></code>, <code class="code docutils literal notranslate"><span class="pre">complement</span></code>, <code class="code docutils literal notranslate"><span class="pre">symmetric_difference</span></code> は常に引数の集合オブジェクト自身を返す。</li>
</ul>
</div>
<div class="section" id="universalset">
<h3><a class="toc-backref" href="#id19">クラス UniversalSet</a><a class="headerlink" href="#universalset" title="Permalink to this headline">¶</a></h3>
<p>クラス UniversalSet は全体集合を表現する。クラス UniversalSet の着想は EmptySet と同じだろう。</p>
<ul class="simple">
<li>クラス EmptySet 同様、シングルトンである。シングルトン管理オブジェクトから <code class="code docutils literal notranslate"><span class="pre">S.UniversalSet</span></code> として参照できる。</li>
<li>関数 <code class="code docutils literal notranslate"><span class="pre">len</span></code> は利用不可。</li>
<li>ルベーグ測度が常に <code class="code docutils literal notranslate"><span class="pre">S.Inifinity</span></code> である。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">boundary</span></code> は常に <code class="code docutils literal notranslate"><span class="pre">S.EmptySet</span></code> を返す。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">contains</span></code> は常に SymPy の <code class="code docutils literal notranslate"><span class="pre">S.true</span></code> を返す。</li>
<li>その他の集合演算系メソッドはそれぞれ、与えられた引数に対する想像通りの値を返す。</li>
</ul>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id20">集合演算クラス</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>集合演算の結果を表現する一連のクラスを、C++ の標準ライブラリー関数との連想で覚えておく。</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">サブクラス</th>
<th class="head">C++ &lt;algorithm&gt;</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Union</td>
<td><code class="code docutils literal notranslate"><span class="pre">std::set_union</span></code></td>
</tr>
<tr class="row-odd"><td>Complement</td>
<td><code class="code docutils literal notranslate"><span class="pre">std::set_difference</span></code></td>
</tr>
<tr class="row-even"><td>Intersection</td>
<td><code class="code docutils literal notranslate"><span class="pre">std::set_intersection</span></code></td>
</tr>
<tr class="row-odd"><td>SymmetricDifference</td>
<td><code class="code docutils literal notranslate"><span class="pre">std::set_symmetric_difference</span></code></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>コンストラクターについて<ul>
<li>引数にとる集合オブジェクトの個数は、次のとおり。<ul>
<li>Union と Intersection は任意の個数。</li>
<li>Complement と SymmetricDifference はちょうど 2 個だけ。</li>
</ul>
</li>
<li>サポートするキーワード引数は <code class="code docutils literal notranslate"><span class="pre">evaluate</span></code> だけとなる。<ul>
<li>キーワード引数 <code class="code docutils literal notranslate"><span class="pre">evaluate</span></code> は Python のブーリアン値をとる。これが True のときには要素を簡略化する。つまり静的メソッド <code class="code docutils literal notranslate"><span class="pre">reduce</span></code> が呼ばれる。</li>
</ul>
</li>
</ul>
</li>
<li>静的メソッド <code class="code docutils literal notranslate"><span class="pre">reduce</span></code><ul>
<li>Union と Intersection のそれの実装を見ると何をしているのか理解できる。</li>
<li>実装に Python の組み込み型 set を利用している。</li>
</ul>
</li>
<li>イテレーターについて<ul>
<li>Range の Union に対するイテレーターが動かない？</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="productset">
<h3><a class="toc-backref" href="#id21">クラス ProductSet</a><a class="headerlink" href="#productset" title="Permalink to this headline">¶</a></h3>
<p>クラス ProductSet は集合の直積（デカルト積）を表現する。</p>
<ul class="simple">
<li>コンストラクターで各集合を指示して直積集合オブジェクトを生成する。</li>
<li>集合演算は ProductSet オブジェクト同士でなければならない。</li>
<li>プロパティー <code class="code docutils literal notranslate"><span class="pre">sets</span></code> にて、直積の各集合にアクセスできる。</li>
<li>オブジェクトが iterable である場合とそうでない場合がある。<ul>
<li>プロパティー <code class="code docutils literal notranslate"><span class="pre">is_iterable</span></code> で判定できる。</li>
<li>アクセス順は Python 標準の関数 <code class="code docutils literal notranslate"><span class="pre">product</span></code> を各集合に適用したものと同じらしい。</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="interval">
<h3><a class="toc-backref" href="#id22">クラス Interval</a><a class="headerlink" href="#interval" title="Permalink to this headline">¶</a></h3>
<p>クラス Interval は実数区間を表現する。開区間、閉区間、半開区間もサポート。</p>
<ul class="simple">
<li>コンストラクター<ul>
<li>呼び出し形式は <code class="code docutils literal notranslate"><span class="pre">Interval(start,</span> <span class="pre">end,</span> <span class="pre">left_open=False,</span> <span class="pre">right_open=False)</span></code> である。キーワード引数の意味は、その名前が示す通り。</li>
<li><code class="code docutils literal notranslate"><span class="pre">start</span> <span class="pre">&lt;</span> <span class="pre">end</span></code> となるように引数を指示しないと、空集合オブジェクトになってしまう。</li>
<li><code class="code docutils literal notranslate"><span class="pre">start</span> <span class="pre">==</span> <span class="pre">end</span></code> となるように指示すると、一点からなる FiniteSet オブジェクトが生成してしまう。</li>
<li>端点として <code class="code docutils literal notranslate"><span class="pre">S.Infinity</span></code> 等も指定できる。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">Lopen</span></code>, <code class="code docutils literal notranslate"><span class="pre">Ropen</span></code> 等により、指定端点を開区間にしたオブジェクトを複製できる。</li>
</ul>
</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">evalf</span></code> が利用可能。</li>
</ul>
</div>
<div class="section" id="finiteset">
<h3><a class="toc-backref" href="#id23">クラス FiniteSet</a><a class="headerlink" href="#finiteset" title="Permalink to this headline">¶</a></h3>
<p>クラス FiniteSet は有限集合、すなわち元が有限個の集合を表現する。</p>
<ul class="simple">
<li>コンストラクターには元を列挙しておけばよい。</li>
<li>オブジェクトは iterable である。集合の元は内部的にはソートされた状態なので、その順序に従って値が yield される。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">boundary</span></code> は自分自身を返す。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">measure</span></code> は <code class="docutils literal notranslate"><span class="pre">0</span></code> を返す。</li>
<li>メソッド <code class="code docutils literal notranslate"><span class="pre">evalf</span></code> が利用可能。</li>
</ul>
</div>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id24">その他のサブクラス</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<p>頻出する集合はサブクラスとしてモジュール <code class="docutils literal notranslate"><span class="pre">sympy.sets.fancysets</span></code> に定義されている。</p>
<div class="section" id="naturals-naturals0-integers">
<h3><a class="toc-backref" href="#id25">クラス Naturals, Naturals0, Integers</a><a class="headerlink" href="#naturals-naturals0-integers" title="Permalink to this headline">¶</a></h3>
<p>名前が示す通りの整数を元とする集合を表現するクラス。それぞれのシングルトンオブジェクトが存在しており、例えば <code class="code docutils literal notranslate"><span class="pre">S.Natural</span></code> などとしてアクセスできる。</p>
</div>
<div class="section" id="reals">
<h3><a class="toc-backref" href="#id26">クラス Reals</a><a class="headerlink" href="#reals" title="Permalink to this headline">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">Interval(-S.Infinity,</span> <span class="pre">S.Infinity)</span></code> と同じ。シングルトンオブジェクト <code class="code docutils literal notranslate"><span class="pre">S.Reals</span></code> としてアクセス可能。</p>
</div>
<div class="section" id="complexregion-complexes">
<h3><a class="toc-backref" href="#id27">クラス ComplexRegion, Complexes</a><a class="headerlink" href="#complexregion-complexes" title="Permalink to this headline">¶</a></h3>
<p>クラス ComplexRegion は複素平面の領域を表現するクラス。</p>
<ul class="simple">
<li>例えば Interval の直積で生成すると、複素平面上の矩形領域を表現できる。</li>
<li>極座標のような与え方もできる。そのときはキーワード引数 <code class="code docutils literal notranslate"><span class="pre">polar=True</span></code> を用いる。</li>
</ul>
<p>一方、クラス Complexes は複素平面全体を表現するクラス。ユーザーはいつでもシングルトンオブジェクト <code class="code docutils literal notranslate"><span class="pre">S.Complexes</span></code> にアクセスできる。</p>
</div>
<div class="section" id="imageset">
<h3><a class="toc-backref" href="#id28">クラス ImageSet</a><a class="headerlink" href="#imageset" title="Permalink to this headline">¶</a></h3>
<p>ある集合とある写像に対する像を表現するクラス。オブジェクトの生成は <code class="code docutils literal notranslate"><span class="pre">ImageSet(f,</span> <span class="pre">E)</span></code> のようにすればよい。</p>
<ul class="simple">
<li>あるいは関数 <code class="code docutils literal notranslate"><span class="pre">imageset</span></code> を用いて <code class="code docutils literal notranslate"><span class="pre">imageset(x,</span> <span class="pre">expr,</span> <span class="pre">E)</span></code> のようにする。</li>
<li>または <code class="code docutils literal notranslate"><span class="pre">imageset(lambda</span> <span class="pre">x:</span> <span class="pre">f(x),</span> <span class="pre">E)</span></code> のような。</li>
<li>他にもある。</li>
</ul>
</div>
<div class="section" id="range">
<h3><a class="toc-backref" href="#id29">クラス Range</a><a class="headerlink" href="#range" title="Permalink to this headline">¶</a></h3>
<p>Python 組み込みの <code class="code docutils literal notranslate"><span class="pre">range</span></code> とよく似ている集合。</p>
</div>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id30">演習</a><a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>単体テストのコードを読んでおく。</p>
<ul>
<li><p class="first">条件を満たせば記号オブジェクトを Interval の端点に指定することができる。</p>
<ul class="simple">
<li>あとでメソッド <code class="code docutils literal notranslate"><span class="pre">subs</span></code> を利用して値を代入することもできる。</li>
</ul>
</li>
<li><p class="first">単一の集合オブジェクトだけを引数として Union, ProductSet 等の オブジェクトを生成できる。ただし、結果は元の集合と同じものになる。</p>
</li>
<li><p class="first">FiniteSet の元は数に限らない。</p>
</li>
<li><p class="first"><code class="code docutils literal notranslate"><span class="pre">R2</span> <span class="pre">=</span> <span class="pre">S.Reals</span> <span class="pre">*</span> <span class="pre">S.Reals</span></code> または <code class="code docutils literal notranslate"><span class="pre">R2</span> <span class="pre">=</span> <span class="pre">S.Reals</span> <span class="pre">**</span> <span class="pre">2</span></code> とすれば <span class="math notranslate nohighlight">\(\RR^2\)</span> を表現できる。</p>
<ul class="simple">
<li><code class="code docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span> <span class="pre">in</span> <span class="pre">R2</span></code> のようなコードが書ける。</li>
</ul>
</li>
<li><p class="first"><code class="code docutils literal notranslate"><span class="pre">Interval(0,</span> <span class="pre">1,</span> <span class="pre">True,</span> <span class="pre">True)</span> <span class="pre">**</span> <span class="pre">2</span></code> に対するメソッド <code class="code docutils literal notranslate"><span class="pre">boundary</span></code> の戻り値がおもしろい。</p>
</li>
<li><p class="first">座標平面上の原点を中心とする円の定義法の例。テストコード改。</p>
<div class="code ipython highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">r</span><span class="p">,</span> <span class="n">th</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;r theta&#39;</span><span class="p">,</span> <span class="n">real</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">L</span> <span class="o">=</span> <span class="n">Lambda</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">th</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">cos</span><span class="p">(</span><span class="n">th</span><span class="p">),</span> <span class="n">r</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">th</span><span class="p">)))</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">D</span> <span class="o">=</span> <span class="n">ImageSet</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">Interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">Interval</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">));</span> <span class="n">D</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">ImageSet</span><span class="p">(</span><span class="n">Lambda</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">theta</span><span class="p">),</span> <span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">),</span> <span class="n">r</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">))),</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="n">x</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="p">))</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">D</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">Reals</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">Reals</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="kc">False</span>
</pre></div>
</div>
<ul class="simple">
<li>[2] 写像 <span class="math notranslate nohighlight">\(\fnm{\RR^2}{\RR^2}{(r, \theta)}(r \cos \theta, r \sin \theta)\)</span> を定義する。</li>
<li>[3] <span class="math notranslate nohighlight">\([0, 1] \times [0, 2 \pi)\)</span> の f による像を計算する。それらしいオブジェクトが得られる。</li>
<li>[4] これはおかしい。<span class="math notranslate nohighlight">\(D \subset \RR^2\)</span> のつもりなのだが。</li>
</ul>
</li>
</ul>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="combinatorics.html" title="組合せ論と群論"
             >next</a></li>
        <li class="right" >
          <a href="logic.html" title="論理代数"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">読書ノート</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >SymPy 利用ノート</a> &#187;</li> 
      </ul>
    </div>
    <div id="footer">
      <div id="footer_logo">
        <a class="imga" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png" width="88" height="31" /></a>
      </div>
      <div id="footer_copyright">
        Since 1999<br />
        Copyright &copy; 1999-2018, プレハブ小屋 All rights reserved.
      </div>
    </div>
  </body>
</html>