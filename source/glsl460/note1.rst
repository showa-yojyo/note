======================================================================
GLSL 4.60 仕様書 読書ノート 1 of ?
======================================================================

.. contents:: ノート目次

1. Introduction
======================================================================

* 本文書では OpenGL Shading Language (GLSL) のバージョン 4.60 しか規定していない。
  これは ``__VERSION__`` に 460 を代入することを要求し、
  ``#version`` に 460 しか受け入れないことを要求している。
  もし ``#version`` がより小さな数字で宣言された場合、
  受け入れられる言語は前のバージョンであり、API のバージョンやコンテキストの種類によってサポートされることになる。
* OpenGL Shading Language や OpenGL ES Shading Language の旧バージョンは、
  特に精度、名前の隠蔽ルール、インターフェイス変数の扱いなどについて、
  ここで指定されたバージョンの厳密な (strict) 部分集合ではない。
* 本仕様書において、OpenGL 仕様とは、他のプロファイルが指定されていない限り、
  バージョン 4.6 の Core プロファイルのことを指す。

.. note::

   SPIR-V という単語が出てくるが、とりあえず無視して先を急ぐ。

1.1. Changes
----------------------------------------------------------------------

本文書は GLSL 4.6 の revision 7 というものらしいので、それまでの変更ログが本節には列挙されている。

1.2. Overview
----------------------------------------------------------------------

* 本書は OpenGL Shading Language バージョン 4.60 について記述する。
* この言語で書かれた独立したコンパイル単位をシェーダーと呼ぶ。

  * プログラムとは、API パイプラインを構成するプログラム可能な段階の一つまたはそれ以上を完全に作成するために
    コンパイル、リンクされたシェーダーの集合だ。
  * 一つのプログラム可能段階のためのすべてのシェーダーは、同じプログラム内になければならない。
    プログラム可能な段階の完全な集合を一つのプログラムに入れることも、
    段階を複数のプログラムに分割することもできる。

1.3. Error Handling
----------------------------------------------------------------------

* 一般に、コンパイラーは不正なプログラムをすべて検出することは不可能だ。
  したがって不正なプログラムを受け入れることがある。
* 移植性が保証されるのは、本仕様書に記載されている整形式のプログラムだけだ。
* コンパイラーは、不正なプログラムを検出して診断メッセージを出すことが推奨されるが、
  すべての場合にそうする必要はない。
* 字句や文法的に正しくないシェーダーについては、コンパイル時にエラーを返さなければならない。
  その他のエラーは、コンパイル時またはリンク時に報告する。

1.4. Typographical Conventions
----------------------------------------------------------------------

本仕様書では、主に読みやすさを向上させるために、イタリック体、ボールド体、およびフォントを選んで使用する。

* コード片は固定幅のフォントを使用する。
* テキストに埋め込まれた識別子はイタリック体で表示される。
* テキストに埋め込まれたキーワードは太字で表示する。

等々。

.. note::

   当ノートではそこまで気を使わない。固定幅くらい。

1.5. Deprecation
----------------------------------------------------------------------

* OpenGL Shading Language ではいくつかの機能が廃止された。
  そのようなものは本仕様書の中で deprecated と明記されている。
  これらの機能は、このバージョンの言語ではまだ存在していますが、
  シェーディング言語の将来のバージョンで削除される可能性がある。
* OpenGL API には、廃止された機能の使用を禁止する前方互換モードがある。
  非推奨機能の使用が禁止されているモードでコンパイルすると、
  その使用によりコンパイル時やリンク時にエラーが発生する。
* 非推奨の言語機能を受け入れたり、エラーを返したりする原因は OpenGL の仕様だ。
