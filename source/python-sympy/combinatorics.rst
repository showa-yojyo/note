======================================================================
組合せ論と群論
======================================================================
モジュール ``sympy.combinatorics`` を見ていく。
群論に関係する機能が中心のようだ。

.. contents:: ノート目次

.. note::

   インポート文は次のものを利用した。

   .. code-block:: python3

      from sympy.combinatorics import *

置換
======================================================================
モジュール ``sympy.combinatorics.permutations`` に群論オブジェクトのための重要な構成要素がある。
クラス ``Cycle`` と ``Permutation`` がそれで、
後で見る各種有限群オブジェクトの基礎となるデータ型を表現する。
SymPy_ のドキュメントでは先に ``Permutation`` を説明しているが、
私は ``Cycle`` を先に理解するのがよいと思うので、
ここではそのようにノートを記す。

クラス ``Cycle``
----------------------------------------------------------------------
巡回置換を表現する。基本的な構成要素なので少々細かく見てきたい。

* 要素は自然数で表現する。0 から始まる。

  * したがって、恒等置換を生成するには ``Cycle(0)`` とする。位数 1 の巡回が生成する。

* 例を挙げる。``Cycle(0, 3, 7)`` は次のような巡回置換を表現する。

  * 0 → 3
  * 3 → 7
  * 7 → 0
  * 1, 2, 4, 5, 6 は固定点。

* IPython 等の Python シェルでオブジェクトをダンプする際には

  * ``c.list()`` のようにして確認できる。
  * または明示的に Python 組み込み関数 ``print`` を用いる。

* 巡回置換を合成するにはコンストラクター呼び出し直後にさらに括弧を付けて巡回置換を追加する。
  例を示す。

  .. code-block:: text

     In [7]: Cycle(0, 3, 7)(1, 2).list()
     Out[7]: [3, 2, 1, 7, 4, 5, 6, 0]

* このクラスは実は Python の ``dict`` をスーパークラスに持つだけなので、
  あまり SymPy のオブジェクトという感じがしない。

* 極端に大きい値を巡回させると ``MemoryError`` が送出される。
  例えば ``Cycle(1000000, 100)(10000, 1, 100000000)`` などとしないほうがよい。

クラス ``Permutation``
----------------------------------------------------------------------
置換を表現する。土台となる概念は上述の巡回置換なので、要素周りの規則はそれに準じる。

* コンストラクターの記法が複数ある。好きなものを使えるようにしておく。

  .. code-block:: text

     In [23]: Permutation(2, 1)(0, 5, 6)
     Out[23]: Permutation(0, 5, 6)(1, 2)

     In [24]: Permutation([[2, 1], [0, 5, 6]])
     Out[24]: Permutation(0, 5, 6)(1, 2)

     In [25]: Permutation(2, 1) * Permutation(0, 5, 6)
     Out[25]: Permutation(0, 5, 6)(1, 2)

  * 上のコンストラクターのみの場合では、与える巡回置換は互いに素である必要がある。

* 置換の合成の記法も複数あるので注意。
  次のものはすべて ``i`` に対して同じ作用を示す。いずれもまず ``p`` を作用する。

  * ``(p * q)(i)``
  * ``q(p(i))``
  * ``i^p^q``
  * ``i^(p * q)``

* キーワード引数 ``size`` が便利。
  要素数は多いが置換部分が少ない置換を生成するときにはこれだ。

  .. code-block:: text

     In [26]: Permutation([[44, 88],], size=100)
     Out[26]: Permutation(99)(44, 88)

* 位数 ``n`` の恒等置換群の生成法をひとつマスターしておく。
  一番楽なのは ``Permutation(size=n)`` だろう。

* オブジェクトを出力する方法がいくつかある。

  * ``array_form``: e.g. ``[5, 2, 1, 3, 4, 6, 0]``
  * ``cyclic_form``: e.g. ``[[0, 5, 6], [1, 2]]``

* デフォルトの出力パターンは ``Permutation.print_cyclic`` フラグで設定する。

.. todo::

   もっと細かく書く。メソッドがべらぼうに多いのが気になる。

   * 置換による整数の像、同サイズのコレクションの像
   * 置換によって動く要素全体の情報各種
   * ランダム生成
   * 逆置換
   * 置換のべき乗
   * 置換の巡回表記を互換へ分解
   * 置換の符号、偶置換、奇置換判定

群オブジェクトジェネレーター
======================================================================
モジュール ``sympy.combinatorics.generators`` にあるジェネレーターおよび関数は、
よく使われる群を参照するのに便利だ。下に示す表はこのモジュールが提供する機能だ。

いずれも対応する群の元を ``Permutation`` オブジェクトとして生成する。

============================== ======================================================================
ジェネレーターまたは関数       機能
============================== ======================================================================
``alternating(n)``             ``n`` 次の交代群を列挙する。
``cyclic(n)``                  ``n`` 次の巡回群を列挙する。
``dihedral(n)``                ``2 * n`` 次の二面体群を列挙する。
``rubik(n)``                   ``n * n`` 次のルービックキューブ群を生成する。
``rubik_cube_generators()``    普通のルービックキューブ群を生成する。
``symmetric(n)``               ``n`` 次の対称群を列挙する。
============================== ======================================================================

.. todo::

   利用例を示す。

置換群
======================================================================
``PermutationGroup``
  コンストラクター注意。

  .. todo::

     ノート。

直積群
======================================================================
モジュール ``sympy.combinatorics.group_constructs`` に群オブジェクトのコレクションから
直積群オブジェクトを生成する関数がある。

関数 ``DirectProduct(*groups)``
  .. todo::

     ノート。

名前付き群
======================================================================
モジュール ``sympy.combinatorics.named_groups`` にある群オブジェクト生成関数を見ていく。
これらの関数は ``PermutationGroup`` オブジェクトまたはその ``DirectProduct`` オブジェクトを生成する。

======================================== ======================================================================
関数                                     機能
======================================== ======================================================================
``AbelianGroup(*cyclic_orders)``         巡回群の直積群を生成する。
``AlternatingGroup(n)``                  ``n`` 次交代群を生成する。
``CyclicGroup(n)``                       ``n`` 次巡回群を生成する。
``DihedralGroup(n)``                     ``2 * n`` 次の二面体群を生成する。
``SymmetricGroup(n)``                    ``n`` 次対称群を生成する。
``RubikGroup(n)``                        ``PermutationGroup(rubik(n))`` を返す。
======================================== ======================================================================

.. todo::

   利用例を示す。

正多面体群
======================================================================
クラス ``Polyhedron``
  .. todo::

     ノート。

テンソル
======================================================================
なぜかテンソルがこんなところにある。

.. todo::

     ノート。

.. include:: /_include/python-refs-core.txt
.. include:: /_include/python-refs-sci.txt
