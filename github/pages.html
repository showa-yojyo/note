<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>GitHub Pages documentation ノート &#8212; 読書ノート 1.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=1a9a5cd9" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d21ed4cc"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../_static/mermaid.js?v=578dbed1"></script>
    <link rel="next" title="GitHub CLI documentation ノート" href="cli.html" />
    <link rel="prev" title="GitHub Packages documentation ノート" href="packages.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="packages.html" title="Previous document">GitHub Packages documentation ノート</a>
        </li>
        <li>
          <a href="cli.html" title="Next document">GitHub CLI documentation ノート</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="github-pages-documentation">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">GitHub Pages documentation ノート</a><a class="headerlink" href="#github-pages-documentation" title="Permalink to this heading">¶</a></h1>
<p><a class="reference external" href="https://docs.github.com/en/pages">GitHub Pages documentation</a> は当読書ノートを公表する場の基盤となる機能に関する文書だ。全部読んで然るべきだろう。</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#github-pages-documentation" id="id1">GitHub Pages documentation ノート</a></p>
<ul>
<li><p><a class="reference internal" href="#quickstart-for-github-pages" id="id2">Quickstart for GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#getting-started-with-github-pages" id="id3">Getting started with GitHub Pages</a></p>
<ul>
<li><p><a class="reference internal" href="#about-github-pages" id="id4">About GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#creating-a-github-pages-site" id="id5">Creating a GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#using-custom-workflows-with-github-pages" id="id6">Using custom workflows with GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#configuring-a-publishing-source-for-your-github-pages-site" id="id7">Configuring a publishing source for your GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#deleting-a-github-pages-site" id="id8">Deleting a GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#unpublishing-a-github-pages-site" id="id9">Unpublishing a GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#changing-the-visibility-of-your-github-pages-site" id="id10">Changing the visibility of your GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#creating-a-custom-404-page-for-your-github-pages-site" id="id11">Creating a custom 404 page for your GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#securing-your-github-pages-site-with-https" id="id12">Securing your GitHub Pages site with HTTPS</a></p></li>
<li><p><a class="reference internal" href="#using-submodules-with-github-pages" id="id13">Using submodules with GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting-404-errors-for-github-pages-sites" id="id14">Troubleshooting 404 errors for GitHub Pages sites</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setting-up-a-github-pages-site-with-jekyll" id="id15">Setting up a GitHub Pages site with Jekyll</a></p>
<ul>
<li><p><a class="reference internal" href="#about-github-pages-and-jekyll" id="id16">About GitHub Pages and Jekyll</a></p></li>
<li><p><a class="reference internal" href="#creating-a-github-pages-site-with-jekyll" id="id17">Creating a GitHub Pages site with Jekyll</a></p></li>
<li><p><a class="reference internal" href="#testing-your-github-pages-site-locally-with-jekyll" id="id18">Testing your GitHub Pages site locally with Jekyll</a></p></li>
<li><p><a class="reference internal" href="#adding-content-to-your-github-pages-site-using-jekyll" id="id19">Adding content to your GitHub Pages site using Jekyll</a></p></li>
<li><p><a class="reference internal" href="#setting-a-markdown-processor-for-your-github-pages-site-using-jekyll" id="id20">Setting a Markdown processor for your GitHub Pages site using Jekyll</a></p></li>
<li><p><a class="reference internal" href="#adding-a-theme-to-your-github-pages-site-using-jekyll" id="id21">Adding a theme to your GitHub Pages site using Jekyll</a></p></li>
<li><p><a class="reference internal" href="#about-jekyll-build-errors-for-github-pages-sites" id="id22">About Jekyll build errors for GitHub Pages sites</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting-jekyll-build-errors-for-github-pages-sites" id="id23">Troubleshooting Jekyll build errors for GitHub Pages sites</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuring-a-custom-domain-for-your-github-pages-site" id="id24">Configuring a custom domain for your GitHub Pages site</a></p>
<ul>
<li><p><a class="reference internal" href="#about-custom-domains-and-github-pages" id="id25">About custom domains and GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#managing-a-custom-domain-for-your-github-pages-site" id="id26">Managing a custom domain for your GitHub Pages site</a></p></li>
<li><p><a class="reference internal" href="#verifying-your-custom-domain-for-github-pages" id="id27">Verifying your custom domain for GitHub Pages</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting-custom-domains-and-github-pages" id="id28">Troubleshooting custom domains and GitHub Pages</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<ul class="simple">
<li><p><span class="guilabel">Quickstart</span> → 個別記事である Quickstart for GitHub Pages</p></li>
<li><p><span class="guilabel">Overview</span> → <a class="reference internal" href="#pages-about-github-pages"><span class="std std-ref">About GitHub Pages</span></a></p></li>
</ul>
<section id="quickstart-for-github-pages">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Quickstart for GitHub Pages</a><a class="headerlink" href="#quickstart-for-github-pages" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><p>GitHub Pages are public webpages hosted and published through GitHub.</p>
</div></blockquote>
<p>ウェブページを公表する場と単純に考えても問題ない。</p>
<p>最初に個人サイトを作成する手順をまとめる。アカウント名が <code class="docutils literal notranslate"><span class="pre">username</span></code> だとすると、サイト名は <code class="docutils literal notranslate"><span class="pre">username.github.io</span></code> だ。以下、 <code class="docutils literal notranslate"><span class="pre">username</span></code> を適宜自分のアカウント名に置き換えて読め。</p>
<ol class="arabic simple">
<li><p>GitHub 画面天井右上メニュー <span class="menuselection">+ ‣ New repository</span> 選択。</p></li>
<li><p><span class="guilabel">Repository name</span> に <code class="docutils literal notranslate"><span class="pre">username.github.io</span></code> を記入。</p></li>
<li><p>このリポジトリー画面 <span class="menuselection">Settings ‣ Pages</span> ページを開く。</p></li>
<li><p><span class="menuselection">Build and deployment ‣ Source</span> に <span class="guilabel">Deploy from a
branch</span> を指定。</p></li>
<li><p><span class="menuselection">Build and deployment ‣ Branch</span> に発表したいウェブサイトの源があるブランチを指定。</p></li>
</ol>
<p><code class="file docutils literal notranslate"><span class="pre">README.md</span></code> も書いておくといい。</p>
<blockquote>
<div><p>Visit <code class="docutils literal notranslate"><span class="pre">username.github.io</span></code> to view your new website. Note that it can take
up to 10 minutes for changes to your site to publish after you push the
changes to GitHub.</p>
</div></blockquote>
<p>サイトの題名を変えるには、<code class="file docutils literal notranslate"><span class="pre">_config.yml</span></code> を編集する。</p>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>このように GitHub でアカウント名ベースのリポジトリーを初期化すると、Jekyll
ベースのサイトを生成してくれるようだ。</p>
</div>
</section>
<section id="getting-started-with-github-pages">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Getting started with GitHub Pages</a><a class="headerlink" href="#getting-started-with-github-pages" title="Permalink to this heading">¶</a></h2>
<section id="about-github-pages">
<span id="pages-about-github-pages"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink">About GitHub Pages</a><a class="headerlink" href="#about-github-pages" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>GitHub Pages is a static site hosting service that takes HTML, CSS, and
JavaScript files straight from a repository on GitHub, optionally runs the
files through a build process, and publishes a website.</p>
</div></blockquote>
<p>もう実践済みなのでよく理解している。</p>
<blockquote>
<div><p>You can host your site on GitHub’s github.io domain or your own custom
domain.</p>
</div></blockquote>
<p>後者は知らない。</p>
<blockquote>
<div><p>There are three types of GitHub Pages sites: project, user, and organization.</p>
</div></blockquote>
<p>組織以外はよく知っている。</p>
<blockquote>
<div><p>To publish a user site, you must create a repository owned by your personal
account that’s named <code class="docutils literal notranslate"><span class="pre">&lt;username&gt;.github.io</span></code>. To publish an organization
site, you must create a repository owned by an organization that’s named
<code class="docutils literal notranslate"><span class="pre">&lt;organization&gt;.github.io</span></code>.</p>
</div></blockquote>
<p>この記述から利用者サイトと組織サイトは同様に理解可能とわかる。</p>
<p>URL について：</p>
<blockquote>
<div><p>Unless you’re using a custom domain, project sites are available at
<code class="docutils literal notranslate"><span class="pre">http(s)://&lt;username&gt;.github.io/&lt;repository&gt;</span></code> or
<code class="docutils literal notranslate"><span class="pre">http(s)://&lt;organization&gt;.github.io/&lt;repository&gt;</span></code>.</p>
</div></blockquote>
<p>カスタムドメインについては後述。</p>
<blockquote>
<div><p>Warning: GitHub Pages sites are publicly available on the internet, even if
the repository for the site is private.</p>
</div></blockquote>
<p>GitHub の言う private の意味は通常のそれとはけっこう異なることが多い。</p>
<blockquote>
<div><p>If you do not need any control over the build process for your site, we
recommend that you publish your site when changes are pushed to a specific
branch.</p>
</div></blockquote>
<p>通常はこれで事足りる。本文にあるように、特定のサブディレクトリーの内容がそのままサイトになる。</p>
<blockquote>
<div><p>If you want to use a build process other than Jekyll or you do not want a
dedicated branch to hold your compiled static files, we recommend that you
write a GitHub Actions workflow to publish your site.</p>
</div></blockquote>
<p>Sphinx はこのパターンを適用する典型だ。</p>
<blockquote>
<div><p>If you publish your site from a source branch, GitHub Pages will use Jekyll
to build your site by default.</p>
</div></blockquote>
<p>特に断りのない限り Jekyll サイトだと GitHub に思われる。断る方法はファイル
<code class="file docutils literal notranslate"><span class="pre">.nojekyll</span></code> を文書ルートに置いておくことだ。</p>
<blockquote>
<div><p>GitHub Pages does not support server-side languages such as PHP, Ruby, or
Python.</p>
</div></blockquote>
<p>それは残念だ。</p>
<blockquote>
<div><p>GitHub Pages sites are subject to the following usage limits:</p>
</div></blockquote>
<p>破る可能性のある項目を頭に叩き込め：</p>
<blockquote>
<div><ul class="simple">
<li><p>GitHub Pages source repositories have a recommended limit of 1 GB.</p></li>
<li><p>Published GitHub Pages sites may be no larger than 1 GB.</p></li>
<li><p>GitHub Pages deployments will timeout if they take longer than 10 minutes.</p></li>
</ul>
</div></blockquote>
<p>当読書ノートにおいて、ビルド時間 10 分以内条件がそろそろ危ない。これらの利用枠を超える使い方をするとGitHub からメールが来るようだ。</p>
<blockquote>
<div><p>When a GitHub Pages site is visited, the visitor’s IP address is logged and
stored for security purposes, regardless of whether the visitor has signed
into GitHub or not.</p>
</div></blockquote>
<p>そのデータはリポジトリー所有者に提供してもらえないか。</p>
</section>
<section id="creating-a-github-pages-site">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Creating a GitHub Pages site</a><a class="headerlink" href="#creating-a-github-pages-site" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>If you want to create a GitHub Pages site for a repository where not all of
the files in the repository are related to the site, you will be able to
configure a publishing source for your site.</p>
</div></blockquote>
<p>普通はこのパターンだと思う。</p>
<blockquote>
<div><p>Create the entry file for your site. GitHub Pages will look for an
<code class="file docutils literal notranslate"><span class="pre">index.html</span></code>, <code class="file docutils literal notranslate"><span class="pre">index.md</span></code>, or <code class="file docutils literal notranslate"><span class="pre">README.md</span></code> file as the entry
file for your site.</p>
</div></blockquote>
<p>パターンその一：</p>
<blockquote>
<div><p>For example, if your publishing source is the <code class="file docutils literal notranslate"><span class="pre">/docs</span></code> folder on the
<code class="docutils literal notranslate"><span class="pre">main</span></code> branch, your entry file must be located in the <code class="file docutils literal notranslate"><span class="pre">/docs</span></code> folder
on a branch called <code class="docutils literal notranslate"><span class="pre">main</span></code>.</p>
</div></blockquote>
<p>パターンその二：</p>
<blockquote>
<div><p>If your publishing source is a GitHub Actions workflow, the artifact that you
deploy must include the entry file at the top level of the artifact.</p>
</div></blockquote>
<p>リポジトリー <span class="menuselection">Settings ‣ Pages</span> を開いて、<span class="guilabel">Visit
site</span> ボタンがあればサイトが公開されている。ない場合にはカスタムビルドで公開することにしているということ。後述。</p>
<blockquote>
<div><p>You can add more pages to your site by creating more new files. Each file
will be available on your site in the same directory structure as your
publishing source.</p>
</div></blockquote>
<p>通常のウェブサイトの作り方と同じだ。</p>
<blockquote>
<div><p>To customize your site even more, you can use Jekyll, a static site generator
with built-in support for GitHub Pages.</p>
</div></blockquote>
<p>Jekyll を使ったウェブサイトの作成法についてもこの後習得する。</p>
</section>
<section id="using-custom-workflows-with-github-pages">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Using custom workflows with GitHub Pages</a><a class="headerlink" href="#using-custom-workflows-with-github-pages" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>To start using custom workflows you must first enable them for your current
repository.</p>
</div></blockquote>
<blockquote>
<div><p>GitHub Actions enables the use of GitHub Pages through the configure-pages
action, which also lets you gather different metadata about a website.</p>
</div></blockquote>
<p>これは聞いたことがない。</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Configure GitHub Pages</span>
<span class="w">  </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/configure-pages@v3</span>
</pre></div>
</div>
<blockquote>
<div><p>This action helps support deployment from any static site generator to GitHub
Pages.</p>
</div></blockquote>
<p>もう一つアクションがある。これは圧縮する利点が今のところないので利用しない：</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">upload-pages-artifact</span></code> actions enables you to package and upload
artifacts. The GitHub Pages artifact should be a compressed <code class="docutils literal notranslate"><span class="pre">gzip</span></code> archive
containing a single <code class="docutils literal notranslate"><span class="pre">tar</span></code> file.</p>
</div></blockquote>
<p>ファイルを定位置に置くアクションは：</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">deploy-pages</span></code> action handles the necessary setup for deploying
artifacts.</p>
</div></blockquote>
<p>Workflow の書き方を工夫する：</p>
<blockquote>
<div><p>You can link your <code class="docutils literal notranslate"><span class="pre">build</span></code> and <code class="docutils literal notranslate"><span class="pre">deploy</span></code> jobs in a single workflow file,
eliminating the need to create two separate files to get the same result.</p>
</div></blockquote>
<p>ジョブ <code class="docutils literal notranslate"><span class="pre">deploy</span></code> で <code class="docutils literal notranslate"><span class="pre">needs:</span> <span class="pre">build</span></code> としていることに注目する？</p>
</section>
<section id="configuring-a-publishing-source-for-your-github-pages-site">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Configuring a publishing source for your GitHub Pages site</a><a class="headerlink" href="#configuring-a-publishing-source-for-your-github-pages-site" title="Permalink to this heading">¶</a></h3>
<p>ブランチからサイトを掲載する方法は、</p>
<ol class="arabic">
<li><p>リポジトリー <span class="menuselection">Settings ‣ Pages</span> を開く。</p></li>
<li><p><span class="menuselection">Build and deployment ‣ Source</span> を <span class="guilabel">Deploy from a
branch</span> にする。</p></li>
<li><p><span class="guilabel">Branch</span> 下のドロップダウンリストから <span class="guilabel">gh-pages</span> など目当てのブランチを選択する。</p></li>
<li><p>原稿ディレクトリーを指定する場合がある。</p></li>
<li><p><span class="guilabel">Save</span> を押して終わる。</p>
<p>Commits pushed by a GitHub Actions workflow that uses the <code class="docutils literal notranslate"><span class="pre">GITHUB_TOKEN</span></code> do
not trigger a GitHub Pages build.</p>
</li>
</ol>
<p>逆に感じられるので注意しておく。</p>
<blockquote>
<div><p>If you choose the <code class="file docutils literal notranslate"><span class="pre">docs</span></code> folder on any branch as your publishing
source, then later remove the <code class="file docutils literal notranslate"><span class="pre">/docs</span></code> folder from that branch in your
repository, your site won’t build and you’ll get a page build error message
for a missing <code class="file docutils literal notranslate"><span class="pre">/docs</span></code> folder.</p>
</div></blockquote>
<p>これはやったことがない。</p>
<blockquote>
<div><p>Most external CI workflows “deploy” to GitHub Pages by committing the build
output to the <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code> branch of the repository, and typically include a
<code class="file docutils literal notranslate"><span class="pre">.nojekyll</span></code> file. When this happens, the GitHub Actions workflow will
detect the state that the branch does not need a build step, and will execute
only the steps necessary to deploy the site to GitHub Pages servers.</p>
</div></blockquote>
<p>カスタム GitHub Actions でサイトを掲載する方法は、</p>
<ol class="arabic simple">
<li><p>リポジトリー <span class="menuselection">Settings ‣ Pages</span> を開く。</p></li>
<li><p><span class="menuselection">Build and deployment ‣ Source</span> を <span class="guilabel">GitHub Actions</span> にする。</p></li>
<li><p>画面が変わり、初期設定時ならば出来合いの workflow を選択し、動作する workflow
が自分のところにあればいらない。</p></li>
</ol>
<p>カスタム workflow の一般的な構造が記されている。よく覚えておく。</p>
<blockquote>
<div><p>The starter workflows use a deployment environment called <code class="docutils literal notranslate"><span class="pre">github-pages</span></code>.
If your repository does not already include an environment called
<code class="docutils literal notranslate"><span class="pre">github-pages</span></code>, the environment will be created automatically.</p>
</div></blockquote>
<p>掲載元になるブランチを保護しておく。</p>
</section>
<section id="deleting-a-github-pages-site">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Deleting a GitHub Pages site</a><a class="headerlink" href="#deleting-a-github-pages-site" title="Permalink to this heading">¶</a></h3>
<p>リポジトリー丸ごと削除すればサイトも削除される。リポジトリーを生かしてサイトを削除する方法： <span class="guilabel">Source</span> に <span class="guilabel">None</span> を選択する。</p>
<p>サイトは残しておくが掲載処理をやめることは可能だ。別に述べる。</p>
</section>
<section id="unpublishing-a-github-pages-site">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Unpublishing a GitHub Pages site</a><a class="headerlink" href="#unpublishing-a-github-pages-site" title="Permalink to this heading">¶</a></h3>
<p>さっき述べたように：</p>
<blockquote>
<div><p>This is different from deleting the site.</p>
</div></blockquote>
<p>リポジトリー <span class="menuselection">Settings ‣ Pages</span> を開いて <span class="guilabel">Visit site</span>
ボタン脇の <span class="guilabel">…</span> から <span class="guilabel">Unpublish site</span> を押す。</p>
<p>明示的に掲載するとサイトも掲載も復活する。</p>
</section>
<section id="changing-the-visibility-of-your-github-pages-site">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Changing the visibility of your GitHub Pages site</a><a class="headerlink" href="#changing-the-visibility-of-your-github-pages-site" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Note: To publish a GitHub Pages site privately, your organization must use
GitHub Enterprise Cloud.</p>
</div></blockquote>
<p>ゆえに割愛。</p>
</section>
<section id="creating-a-custom-404-page-for-your-github-pages-site">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Creating a custom 404 page for your GitHub Pages site</a><a class="headerlink" href="#creating-a-custom-404-page-for-your-github-pages-site" title="Permalink to this heading">¶</a></h3>
<p>掲載元ルートディレクトリーに <code class="file docutils literal notranslate"><span class="pre">404.html</span></code> または <code class="file docutils literal notranslate"><span class="pre">404.md</span></code> を作成する。
Markdown ならば front matter に次を入れる：</p>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span>---
<span class="gu">permalink: /404.html</span>
<span class="gu">---</span>
</pre></div>
</div>
</section>
<section id="securing-your-github-pages-site-with-https">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Securing your GitHub Pages site with HTTPS</a><a class="headerlink" href="#securing-your-github-pages-site-with-https" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>You can enforce HTTPS for your GitHub Pages site to transparently redirect
all HTTP requests to HTTPS.</p>
</div></blockquote>
<p>これはいい。ぜひ実施しよう。リポジトリー <span class="menuselection">Settings ‣ Pages ‣
Enforce HTTPS</span> を押す。</p>
<blockquote>
<div><p>If you enable HTTPS for your GitHub Pages site but your site’s HTML still
references images, CSS, or JavaScript over HTTP, then your site is serving
mixed content. Serving mixed content may make your site less secure and cause
trouble loading assets.</p>
</div></blockquote>
<p>こんな間抜けなことはしていないはずだが、いちおう確認して <code class="docutils literal notranslate"><span class="pre">https://</span></code> に置き換える。</p>
</section>
<section id="using-submodules-with-github-pages">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Using submodules with GitHub Pages</a><a class="headerlink" href="#using-submodules-with-github-pages" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>You can use submodules with GitHub Pages to include other projects in your
site’s code.</p>
</div></blockquote>
<p>これは何だ？</p>
<blockquote>
<div><p>If the repository for your GitHub Pages site contains submodules, their
contents will automatically be pulled in when your site is built.</p>
</div></blockquote>
<p>Git の submodule 機能と深く関係していると思われる。このコマンドを使ったことがないので、そこから学ぶ必要がある。</p>
<ul class="simple">
<li><p>ただし public リポジトリーのサイトしか指せない。</p></li>
<li><p>読み取り専用 <code class="docutils literal notranslate"><span class="pre">https://</span></code> URL のみを submodules に対して使うこと。これは
<code class="file docutils literal notranslate"><span class="pre">.gitmodule</span></code> で可能。</p></li>
</ul>
</section>
<section id="troubleshooting-404-errors-for-github-pages-sites">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Troubleshooting 404 errors for GitHub Pages sites</a><a class="headerlink" href="#troubleshooting-404-errors-for-github-pages-sites" title="Permalink to this heading">¶</a></h3>
<p>サイトを掲載したはずなのに 404 エラーが生じる理由と対処法。割愛。</p>
</section>
</section>
<section id="setting-up-a-github-pages-site-with-jekyll">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Setting up a GitHub Pages site with Jekyll</a><a class="headerlink" href="#setting-up-a-github-pages-site-with-jekyll" title="Permalink to this heading">¶</a></h2>
<section id="about-github-pages-and-jekyll">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">About GitHub Pages and Jekyll</a><a class="headerlink" href="#about-github-pages-and-jekyll" title="Permalink to this heading">¶</a></h3>
<p>これを読む時点ですでに Jekyll ブログを二つ作成している。</p>
<blockquote>
<div><p>We recommend using Jekyll with GitHub Pages. If you prefer, you can use other
static site generators or customize your own build process locally or on
another server.</p>
</div></blockquote>
<p>どちらを採用する場合でも対応できるようにしておきたい。</p>
<p>ルートに置く <code class="file docutils literal notranslate"><span class="pre">_config.yml</span></code> について：</p>
<blockquote>
<div><p>Some configuration settings cannot be changed for GitHub Pages sites.</p>
</div></blockquote>
<p>それは本書の YAML コードの内容だと思われる。</p>
<blockquote>
<div><p>GitHub Pages uses plugins that are enabled by default and cannot be disabled:</p>
</div></blockquote>
<p>Jekyll ブログをローカルで確認するときにこれらを持ってくる必要があるか？</p>
<blockquote>
<div><p>For a list of supported plugins, see “Dependency versions” on the GitHub
Pages site. For usage information for a specific plugin, see the plugin’s
documentation.</p>
</div></blockquote>
<p>有用なものがあれば取り込みたい。</p>
<blockquote>
<div><p>GitHub Pages cannot build sites using unsupported plugins. If you want to use
unsupported plugins, generate your site locally and then push your site’s
static files to GitHub.</p>
</div></blockquote>
<p>その手があったか。</p>
<blockquote>
<div><p>If you are publishing from a branch, changes to your site are published
automatically when the changes are merged into your site’s publishing source.</p>
</div></blockquote>
<p>動作確認はローカルで Jekyll をインストールしてすればいい。</p>
</section>
<section id="creating-a-github-pages-site-with-jekyll">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Creating a GitHub Pages site with Jekyll</a><a class="headerlink" href="#creating-a-github-pages-site-with-jekyll" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>We recommend using <a class="reference external" href="https://bundler.io/">Bundler</a> to install and run
Jekyll. Bundler manages Ruby gem dependencies, reduces Jekyll build errors,
and prevents environment-related bugs.</p>
</div></blockquote>
<p>ローカルに Ruby をインストールして Bundler をインストールする。前者はすでにシステムにあるはず。</p>
<p>掲載元初期状態でのコマンド実行の流れ概要：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ mkdir docs</span>
<span class="go">bash$ cd docs</span>
<span class="go">bash$ git checkout --orphan gh-pages</span>
<span class="go">bash$ git rm -rf .</span>
<span class="go">bash$ jekyll new --skip-bundle .</span>
</pre></div>
</div>
<p>ファイル <code class="file docutils literal notranslate"><span class="pre">Gemfile</span></code> が生成される。これを本書の指示どおり編集する。その後にコマンド <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">install</span></code> を実行してモノをインストールする。これで Jekyll が動作する環境になった。</p>
</section>
<section id="testing-your-github-pages-site-locally-with-jekyll">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Testing your GitHub Pages site locally with Jekyll</a><a class="headerlink" href="#testing-your-github-pages-site-locally-with-jekyll" title="Permalink to this heading">¶</a></h3>
<p>Jekyll がローカルリポジトリーで動作するようになったら、サーバーを稼働させてテスト可能となる：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ bundle exec jekyll serve</span>
</pre></div>
</div>
<p>この出力から localhost のアドレスを拾ってブラウザーで開いて、ページを閲覧することに成功すればよい。</p>
<blockquote>
<div><p>If the <code class="docutils literal notranslate"><span class="pre">github-pages</span></code> gem on your computer is out of date with the
<code class="docutils literal notranslate"><span class="pre">github-pages</span></code> gem on the GitHub Pages server, your site may look different
when built locally than when published on GitHub.</p>
</div></blockquote>
<p>定期的に（できれば自動で）更新したい：</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ bundle update github-pages</span>
</pre></div>
</div>
</section>
<section id="adding-content-to-your-github-pages-site-using-jekyll">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Adding content to your GitHub Pages site using Jekyll</a><a class="headerlink" href="#adding-content-to-your-github-pages-site-using-jekyll" title="Permalink to this heading">¶</a></h3>
<p>通常の Jekyll ブログと同様。コツをまとめておく：</p>
<ul class="simple">
<li><p>page と post を区別する</p></li>
<li><p>front matter での設定を気をつける</p></li>
</ul>
<p>特に post はファイル名に日付を含めることが必要だ。</p>
</section>
<section id="setting-a-markdown-processor-for-your-github-pages-site-using-jekyll">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Setting a Markdown processor for your GitHub Pages site using Jekyll</a><a class="headerlink" href="#setting-a-markdown-processor-for-your-github-pages-site-using-jekyll" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>GitHub Pages supports two Markdown processors: kramdown and GitHub’s own
Markdown processor, which is used to render GitHub Flavored Markdown (GFM)
throughout GitHub.</p>
</div></blockquote>
<p>Jekyll 設定ファイル <code class="file docutils literal notranslate"><span class="pre">_config.yml</span></code> に <code class="docutils literal notranslate"><span class="pre">markdown:</span> <span class="pre">kramdown</span></code> または
<code class="docutils literal notranslate"><span class="pre">markdown:</span> <span class="pre">GFM</span></code> のいずれかが書ける。後者を採用すれば GitHub 風 Markdown
で書ける。</p>
</section>
<section id="adding-a-theme-to-your-github-pages-site-using-jekyll">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Adding a theme to your GitHub Pages site using Jekyll</a><a class="headerlink" href="#adding-a-theme-to-your-github-pages-site-using-jekyll" title="Permalink to this heading">¶</a></h3>
<p>Jekyll ブログ生成時には <code class="file docutils literal notranslate"><span class="pre">_config.yml</span></code> には <code class="docutils literal notranslate"><span class="pre">theme:</span> <span class="pre">minima</span></code>
とある。この値がテーマを指定する。</p>
<blockquote>
<div><p>To use any other Jekyll theme hosted on GitHub, type
<code class="docutils literal notranslate"><span class="pre">remote_theme:</span> <span class="pre">THEME-NAME</span></code>, replacing <code class="docutils literal notranslate"><span class="pre">THEME-NAME</span></code> with the name of the
theme as shown in the <code class="docutils literal notranslate"><span class="pre">README</span></code> of the theme’s repository.</p>
</div></blockquote>
<p>スタイルシートのカスタマイズは次の手順による：</p>
<ol class="arabic simple">
<li><p>ファイル <code class="file docutils literal notranslate"><span class="pre">assets/css/style.scss</span></code> を用意する。</p></li>
<li><p>そこに <code class="docutils literal notranslate"><span class="pre">&#64;import</span> <span class="pre">&quot;{{</span> <span class="pre">site.theme</span> <span class="pre">}}&quot;;</span></code> を含む。</p></li>
<li><p>この行以降にカスタム CSS や Sass を追加する。</p></li>
</ol>
<p>HTML レイアウトのカスタマイズは <code class="file docutils literal notranslate"><span class="pre">_layouts</span></code> サブディレクトリー以下に適切なファイル名でテンプレートを上書きする。これは Jekyll の文書を参照するほうがいい。</p>
</section>
<section id="about-jekyll-build-errors-for-github-pages-sites">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">About Jekyll build errors for GitHub Pages sites</a><a class="headerlink" href="#about-jekyll-build-errors-for-github-pages-sites" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>If Jekyll does attempt to build your site and encounters an error, you will
receive a build error message.</p>
</div></blockquote>
<p>メールで通知が来る。</p>
<blockquote>
<div><p>We recommend testing your site locally, which allows you to see build error
messages on the command line, and addressing any build failures before
pushing changes to GitHub.</p>
</div></blockquote>
<p>この確認方法がもっとも基本だ。</p>
<blockquote>
<div><p>If you are publishing with a custom GitHub Actions workflow, in order to see
build error messages in your pull request, you must configure your workflow
to run on the <code class="docutils literal notranslate"><span class="pre">pull_request</span></code> trigger. When you do this, we recommend that
you skip any deploy steps if the workflow was triggered by the
<code class="docutils literal notranslate"><span class="pre">pull_request</span></code> event.</p>
</div></blockquote>
<p>Pull request をもらうことはないので必要はないのだが、練習しておきたい。</p>
<p>CI でテストするにはコマンド <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">exec</span> <span class="pre">jekyll</span> <span class="pre">build</span></code> を呼び出すように仕掛ける。</p>
</section>
<section id="troubleshooting-jekyll-build-errors-for-github-pages-sites">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Troubleshooting Jekyll build errors for GitHub Pages sites</a><a class="headerlink" href="#troubleshooting-jekyll-build-errors-for-github-pages-sites" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>If Jekyll encounters an error building your GitHub Pages site locally or on
GitHub, you can use error messages to troubleshoot.</p>
</div></blockquote>
<p>現在では十分訓練されたため、ほとんどエラーを見ない。以下割愛。</p>
</section>
</section>
<section id="configuring-a-custom-domain-for-your-github-pages-site">
<h2><a class="toc-backref" href="#id24" role="doc-backlink">Configuring a custom domain for your GitHub Pages site</a><a class="headerlink" href="#configuring-a-custom-domain-for-your-github-pages-site" title="Permalink to this heading">¶</a></h2>
<section id="about-custom-domains-and-github-pages">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">About custom domains and GitHub Pages</a><a class="headerlink" href="#about-custom-domains-and-github-pages" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>GitHub Pages supports using custom domains, or changing the root of your
site’s URL from the default, like <code class="docutils literal notranslate"><span class="pre">octocat.github.io</span></code>, to any domain you
own.</p>
</div></blockquote>
<p>既定ドメインで十分。</p>
<blockquote>
<div><p>GitHub Pages works with two types of domains: subdomains and apex domains.</p>
</div></blockquote>
<p>凡例は本書参照。</p>
<blockquote>
<div><p>We recommend always using a <code class="docutils literal notranslate"><span class="pre">www</span></code> subdomain, even if you also use an apex
domain. When you create a new site with an apex domain, we automatically
attempt to secure the <code class="docutils literal notranslate"><span class="pre">www</span></code> subdomain for use when serving your site’s
content, but you need to make the DNS changes to use the <code class="docutils literal notranslate"><span class="pre">www</span></code> subdomain.</p>
</div></blockquote>
<p>サブドメインは <code class="docutils literal notranslate"><span class="pre">www</span></code> が無難だ。カスタムドメインを有効に設定すると：</p>
<blockquote>
<div><p>For example, if the custom domain for your user site is <code class="docutils literal notranslate"><span class="pre">www.octocat.com</span></code>,
and you have a project site with no custom domain configured that is
published from a repository called <code class="docutils literal notranslate"><span class="pre">octo-project</span></code>, the GitHub Pages site
for that repository will be available at <code class="docutils literal notranslate"><span class="pre">www.octocat.com/octo-project</span></code>.</p>
</div></blockquote>
<p>サブドメインについて詳しく：</p>
<blockquote>
<div><p>Subdomains are configured with a <code class="docutils literal notranslate"><span class="pre">CNAME</span></code> record through your DNS provider.</p>
</div></blockquote>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">www</span></code> subdomains are the most stable type of custom domain because <code class="docutils literal notranslate"><span class="pre">www</span></code>
subdomains are not affected by changes to the IP addresses of GitHub’s
servers.</p>
</div></blockquote>
<p>カスタムサブドメイン：</p>
<blockquote>
<div><p>For example, you can create a site called <code class="docutils literal notranslate"><span class="pre">blog.example.com</span></code> and customize
that section independently from <code class="docutils literal notranslate"><span class="pre">www.example.com</span></code>.</p>
</div></blockquote>
<p>サブドメインを含まないドメインもよく見かける：</p>
<blockquote>
<div><p>An apex domain is configured with an <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">ALIAS</span></code>, or <code class="docutils literal notranslate"><span class="pre">ANAME</span></code> record
through your DNS provider.</p>
</div></blockquote>
<blockquote>
<div><p>If you configure the correct records for each domain type through your DNS
provider, GitHub Pages will automatically create redirects between the
domains. For example, if you configure <code class="docutils literal notranslate"><span class="pre">www.example.com</span></code> as the custom
domain for your site, and you have GitHub Pages DNS records set up for the
apex and <code class="docutils literal notranslate"><span class="pre">www</span></code> domains, then <code class="docutils literal notranslate"><span class="pre">example.com</span></code> will redirect to
<code class="docutils literal notranslate"><span class="pre">www.example.com</span></code>.</p>
</div></blockquote>
<p>乗っ取りに注意：</p>
<blockquote>
<div><p>If your GitHub Pages site is disabled but has a custom domain set up, it is
at risk of a domain takeover.</p>
</div></blockquote>
<blockquote>
<div><p>There are a couple of reasons your site might be automatically disabled.</p>
</div></blockquote>
</section>
<section id="managing-a-custom-domain-for-your-github-pages-site">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Managing a custom domain for your GitHub Pages site</a><a class="headerlink" href="#managing-a-custom-domain-for-your-github-pages-site" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Make sure you add your custom domain to your GitHub Pages site before
configuring your custom domain with your DNS provider.</p>
</div></blockquote>
<p>先に GitHub で設定する。</p>
<p>リポジトリー <span class="menuselection">Settings ‣ Pages ‣ Custom domain</span> で適当に入力して <span class="guilabel">Save</span> を押す。ここで次のことが起こる：</p>
<blockquote>
<div><p>If you are publishing your site from a branch, this will create a commit that
adds a <code class="docutils literal notranslate"><span class="pre">CNAME</span></code> file to the root of your source branch. If you are
publishing your site with a custom GitHub Actions workflow, no <code class="docutils literal notranslate"><span class="pre">CNAME</span></code> file
is created.</p>
</div></blockquote>
<p>一人プロジェクトのときにはローカルリポジトリーで <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> しておくのを忘れないようにする。</p>
<p>次に DNS provider に移動して <code class="docutils literal notranslate"><span class="pre">CNAME</span></code> レコードを作成する。詳細不明。最後にコンソールからコマンド <strong class="command">dig</strong> で確認する。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">bash$ dig WWW.EXAMPLE.COM +nostats +nocomments +nocmd</span>
</pre></div>
</div>
<p>カスタムドメインを削除する場合は <span class="guilabel">Save</span> ではなく <span class="guilabel">Remove</span> を押す。</p>
</section>
<section id="verifying-your-custom-domain-for-github-pages">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Verifying your custom domain for GitHub Pages</a><a class="headerlink" href="#verifying-your-custom-domain-for-github-pages" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Verifying your domain stops other GitHub users from taking over your custom
domain and using it to publish their own GitHub Pages site.</p>
</div></blockquote>
<p>時間がかかる：</p>
<blockquote>
<div><p>If you are verifying a domain you own, which is currently in use by another
user or organization, to make it available for your GitHub Pages website;
note that the process to release the domain from its current location will
take 7 days to complete.</p>
</div></blockquote>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>現在実施不可能</p>
</div>
</section>
<section id="troubleshooting-custom-domains-and-github-pages">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Troubleshooting custom domains and GitHub Pages</a><a class="headerlink" href="#troubleshooting-custom-domains-and-github-pages" title="Permalink to this heading">¶</a></h3>
<div class="admonition- admonition">
<p class="admonition-title">読者ノート</p>
<p>現在実施不可能</p>
</div>
</section>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="packages.html" title="Previous document">GitHub Packages documentation ノート</a>
        </li>
        <li>
          <a href="cli.html" title="Next document">GitHub CLI documentation ノート</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
      </div>
      <div class="clearer"></div>
    </div>
<div class="footer">
  <ul>
    <li id="footer_logo">
      <a class="image-reference" href="https://showa-yojyo.github.io/" title="プレハブ小屋 Since 1999"><img src="../_static/logos.png"/></a>
    </li>
    <li id="footer_copyright">
      Copyright &copy; 1999-2023, プレハブ小屋 All rights reserved.
    </li>
  </ul>
</div>
  </body>
</html>